#NoTrayIcon
#Region ;**** Directives created by AutoIt3Wrapper_GUI ****
#AutoIt3Wrapper_Icon=Resource\SMITEOptimizerIcon.ico
#AutoIt3Wrapper_Outfile=SMITE Optimizer 32Bit.exe
#AutoIt3Wrapper_Outfile_x64=SMITE Optimizer 64Bit.exe
#AutoIt3Wrapper_Compression=4
#AutoIt3Wrapper_UseUpx=y
#AutoIt3Wrapper_Compile_Both=y
#AutoIt3Wrapper_UseX64=y
#AutoIt3Wrapper_Res_Description=SMITE Optimizer
#AutoIt3Wrapper_Res_Fileversion=1.3.7.9
#AutoIt3Wrapper_Res_LegalCopyright=Made by MeteorTheLizard - All Rights Reserved.
#AutoIt3Wrapper_Res_Icon_Add=Resource\SmiteIcon.ico
#AutoIt3Wrapper_Res_File_Add=Resource\MainFont.ttf, RT_FONT, MainFont, 0
#AutoIt3Wrapper_Res_File_Add=Resource\MenuFont.ttf, RT_FONT, MenuFont, 0
#AutoIt3Wrapper_Res_File_Add=Resource\InttFont.ttf, RT_FONT, InttFont, 0
#AutoIt3Wrapper_Res_File_Add=Resource\ResCFont.ttf, RT_FONT, ResCFont, 0
#AutoIt3Wrapper_Res_File_Add=Changelog.txt, RT_RCDATA, ChangelogText, 0
#AutoIt3Wrapper_Res_File_Add=Resource\SMITEOptimizerIcon.jpg, RT_RCDATA, SMITEOptimizerIcon, 0
#AutoIt3Wrapper_Res_File_Add=Resource\AutoIt_License.txt, RT_RCDATA, AutoIt_License, 0
#AutoIt3Wrapper_Res_File_Add=Resource\GPL-3.0_License.txt, RT_RCDATA, GPL_License, 0
#AutoIt3Wrapper_Res_File_Add=Resource\Privacy_Policy.txt, RT_RCDATA, Privacy_Policy, 0
#AutoIt3Wrapper_Res_File_Add=Resource\GDPR.txt, RT_RCDATA, GDPR, 0
#AutoIt3Wrapper_Res_File_Add=Resource\CommonIssues.txt, RT_RCDATA, CommonIssues, 0
#AutoIt3Wrapper_Res_File_Add=Resource\Win_XP.wav, SOUND, ErrorWIN_XP, 0
#AutoIt3Wrapper_Res_File_Add=Resource\Win7_Win8.wav, SOUND, ErrorWIN_7_8, 0
#AutoIt3Wrapper_Res_File_Add=Resource\Win10.wav, SOUND, ErrorWIN_10, 0
#AutoIt3Wrapper_Res_File_Add=Resource\Win11.wav, SOUND, ErrorWIN_11, 0
#AutoIt3Wrapper_Res_File_Add=Resource\Splash_Start.gif, RT_RCDATA, SO_StartGIF, 0
#AutoIt3Wrapper_Res_File_Add=Resource\Splash_Loop.gif, RT_RCDATA, SO_LoopGIF, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\DetailMode.gif, RT_RCDATA, DetailModeGIF, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Ragdoll_Physics.gif, RT_RCDATA, Ragdoll_PhysicsGIF, 0
#AutoIt3Wrapper_Res_File_Add=Resource\ASearchBtnActive.jpg, RT_RCDATA, ASearchBtnActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\ASearchBtnInActive.jpg, RT_RCDATA, ASearchBtnInActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\ChangelogIconActive.jpg, RT_RCDATA, ChangelogIconActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\ChangelogIconInActive.jpg, RT_RCDATA, ChangelogIconInActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\FixesIconActive.jpg, RT_RCDATA, FixesIconActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\FixesIconInActive.jpg, RT_RCDATA, FixesIconInActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\CloseActivate.jpg, RT_RCDATA, CloseActivate, 0
#AutoIt3Wrapper_Res_File_Add=Resource\CloseNoActivate.jpg, RT_RCDATA, CloseNoActivate, 0
#AutoIt3Wrapper_Res_File_Add=Resource\CopyrightFooterBGLeft.jpg, RT_RCDATA, CopyrightFooterBGLeft, 0
#AutoIt3Wrapper_Res_File_Add=Resource\CopyrightFooterBGRight.jpg, RT_RCDATA, CopyrightFooterBGRight, 0
#AutoIt3Wrapper_Res_File_Add=Resource\CopyrightIconActive.jpg, RT_RCDATA, CopyrightIconActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\CopyrightIconInActive.jpg, RT_RCDATA, CopyrightIconInActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\DebugIconActive.jpg, RT_RCDATA, DebugIconActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\DebugIconInActive.jpg, RT_RCDATA, DebugIconInActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\DonateIconActive.jpg, RT_RCDATA, DonateIconActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\DonateIconInActive.jpg, RT_RCDATA, DonateIconInActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\DonateBanner.jpg, RT_RCDATA, DonateBanner, 0
#AutoIt3Wrapper_Res_File_Add=Resource\EGSBtnActive.jpg, RT_RCDATA, EGSBtnActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\EGSBtnInActive.jpg, RT_RCDATA, EGSBtnInActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpHoverBG.jpg, RT_RCDATA, HelpHoverBG, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpIconActive.jpg, RT_RCDATA, HelpIconActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpIconInActive.jpg, RT_RCDATA, HelpIconInActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HomeIconActive.jpg, RT_RCDATA, HomeIconActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HomeIconInactive.jpg, RT_RCDATA, HomeIconInactive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HoverMenuBG.jpg, RT_RCDATA, HoverMenuBG, 0
#AutoIt3Wrapper_Res_File_Add=Resource\LegacyBtnActive.jpg, RT_RCDATA, LegacyBtnActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\LegacyBtnInActive.jpg, RT_RCDATA, LegacyBtnInActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\Maximize1Activate.jpg, RT_RCDATA, Maximize1Activate, 0
#AutoIt3Wrapper_Res_File_Add=Resource\Maximize1NoActivate.jpg, RT_RCDATA, Maximize1NoActivate, 0
#AutoIt3Wrapper_Res_File_Add=Resource\Maximize2Activate.jpg, RT_RCDATA, Maximize2Activate, 0
#AutoIt3Wrapper_Res_File_Add=Resource\Maximize2NoActivate.jpg, RT_RCDATA, Maximize2NoActivate, 0
#AutoIt3Wrapper_Res_File_Add=Resource\MenuBG.jpg, RT_RCDATA, MenuBG, 0
#AutoIt3Wrapper_Res_File_Add=Resource\MenuItemBG.jpg, RT_RCDATA, MenuItemBG, 0
#AutoIt3Wrapper_Res_File_Add=Resource\MenuSelector.jpg, RT_RCDATA, MenuSelector, 0
#AutoIt3Wrapper_Res_File_Add=Resource\MenuSelectorHorizontal.jpg, RT_RCDATA, MenuSelectorHorizontal, 0
#AutoIt3Wrapper_Res_File_Add=Resource\MinimizeActivate.jpg, RT_RCDATA, MinimizeActivate, 0
#AutoIt3Wrapper_Res_File_Add=Resource\MinimizeNoActivate.jpg, RT_RCDATA, MinimizeNoActivate, 0
#AutoIt3Wrapper_Res_File_Add=Resource\DiscordIconInActive.jpg, RT_RCDATA, DiscordIconInActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\DiscordIconActive.jpg, RT_RCDATA, DiscordIconActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\MoreOptionsBG.jpg, RT_RCDATA, MoreOptionsBG, 0
#AutoIt3Wrapper_Res_File_Add=Resource\ChooseResBG.jpg, RT_RCDATA, ChooseResBG, 0
#AutoIt3Wrapper_Res_File_Add=Resource\ScanFilesBG.jpg, RT_RCDATA, ScanFilesBG, 0
#AutoIt3Wrapper_Res_File_Add=Resource\MSearchBtnActive.jpg, RT_RCDATA, MSearchBtnActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\MSearchBtnInActive.jpg, RT_RCDATA, MSearchBtnInActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\NotificationBG.jpg, RT_RCDATA, NotificationBG, 0
#AutoIt3Wrapper_Res_File_Add=Resource\DebugFooter.jpg, RT_RCDATA, DebugFooter, 0
#AutoIt3Wrapper_Res_File_Add=Resource\RestoreConfigsIconActive.jpg, RT_RCDATA, RestoreConfigsIconActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\RestoreConfigsIconInActive.jpg, RT_RCDATA, RestoreConfigsIconInActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\SteamBtnActive.jpg, RT_RCDATA, SteamBtnActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\SteamBtnInActive.jpg, RT_RCDATA, SteamBtnInActive, 0
#AutoIt3Wrapper_Res_File_Add=Resource\TopBar.jpg, RT_RCDATA, TopBar, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Anisotropic_Filtering.jpg, RT_RCDATA, Anisotropic_Filtering, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Anti_Aliasing.jpg, RT_RCDATA, Anti_Aliasing, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Audio_Channels.jpg, RT_RCDATA, Audio_Channels, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Bloom.jpg, RT_RCDATA, Bloom, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Character_Quality.jpg, RT_RCDATA, Character_Quality, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Character_Quality_Simple.jpg, RT_RCDATA, Character_Quality_Simple, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Composite_Dynamic_Lights.jpg, RT_RCDATA, Composite_Dynamic_Lights, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Conservative_Shadow_Bounds.jpg, RT_RCDATA, Conservative_Shadow_Bounds, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Decals_Simple.jpg, RT_RCDATA, Decals_Simple, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Desired_FPS.jpg, RT_RCDATA, Desired_FPS, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\DirectX_11.jpg, RT_RCDATA, DirectX_11, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Disable_Jumping.jpg, RT_RCDATA, Disable_Jumping, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Disable_Fog.jpg, RT_RCDATA, Disable_Fog, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Distortion.jpg, RT_RCDATA, Distortion, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Dominant_Shadows.jpg, RT_RCDATA, Dominant_Shadows, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Drop_Shadows.jpg, RT_RCDATA, Drop_Shadows, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Dynamic_Decals.jpg, RT_RCDATA, Dynamic_Decals, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Dynamic_Lights.jpg, RT_RCDATA, Dynamic_Lights, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Dynamic_Lights_and_Shadows.jpg, RT_RCDATA, Dynamic_Lights_and_Shadows, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Dynamic_Shadows.jpg, RT_RCDATA, Dynamic_Shadows, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Effects_Quality.jpg, RT_RCDATA, Effects_Quality, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Effects_Quality_Simple.jpg, RT_RCDATA, Effects_Quality_Simple, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Filtered_Distortion.jpg, RT_RCDATA, Filtered_Distortion, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Fog_Volumes.jpg, RT_RCDATA, Fog_Volumes, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Lensflares.jpg, RT_RCDATA, Lensflares, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Light_Environment_Shadows.jpg, RT_RCDATA, Light_Environment_Shadows, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Light_Shafts.jpg, RT_RCDATA, Light_Shafts, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\NPC_Quality.jpg, RT_RCDATA, NPC_Quality, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Particle_Quality.jpg, RT_RCDATA, Particle_Quality, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Reflections.jpg, RT_RCDATA, Reflections, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Resolution.jpg, RT_RCDATA, Resolution, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Resolution_Scale.jpg, RT_RCDATA, Resolution_Scale, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Shadow_Quality.jpg, RT_RCDATA, Shadow_Quality, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Shadow_Quality_Simple.jpg, RT_RCDATA, Shadow_Quality_Simple, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\SH_Secondary_Lighting.jpg, RT_RCDATA, SH_Secondary_Lighting, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Sky_Quality.jpg, RT_RCDATA, Sky_Quality, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\SpeedTree_Fronds.jpg, RT_RCDATA, SpeedTree_Fronds, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\SpeedTree_Leaves.jpg, RT_RCDATA, SpeedTree_Leaves, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\SpeedTree_LOD_Bias.jpg, RT_RCDATA, SpeedTree_LOD_Bias, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\SpeedTree_Wind.jpg, RT_RCDATA, SpeedTree_Wind, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Static_Decals.jpg, RT_RCDATA, Static_Decals, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Terrain_Quality.jpg, RT_RCDATA, Terrain_Quality, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Unbatched_Decals.jpg, RT_RCDATA, Unbatched_Decals, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Uncompressed_Textures.jpg, RT_RCDATA, Uncompressed_Textures, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Vehicle_Quality.jpg, RT_RCDATA, Vehicle_Quality, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Vertical_Synchronisation.jpg, RT_RCDATA, Vertical_Synchronisation, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Weapon_Quality.jpg, RT_RCDATA, Weapon_Quality, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\Window_Type.jpg, RT_RCDATA, Window_Type, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\World_Quality.jpg, RT_RCDATA, World_Quality, 0
#AutoIt3Wrapper_Res_File_Add=Resource\HelpText\World_Quality_Simple.jpg, RT_RCDATA, World_Quality_Simple, 0
#AutoIt3Wrapper_Run_AU3Check=n
#AutoIt3Wrapper_Tidy_Stop_OnError=n
#AutoIt3Wrapper_Run_Au3Stripper=y
#Au3Stripper_Parameters=/so /mi 7
#EndRegion ;**** Directives created by AutoIt3Wrapper_GUI ****

;- Notes:
;- Last error code: "022" - Next: "023"
;- This program appears to be incompatible with virtual machines, as any file operations fail. ( Does not seem to be the case anymore? Testing in a Win10 VM worked just fine. )

;#RequireAdmin ;- This will never be needed. Hopefully.

If _SingleTon("SMITE_Optimizer",1) = 0 Then ;- Only allow one instance. If we start a second one, try to get focus on the first!

	Local $WinList = WinList()

	For $I = 0 To uBound($WinList) - 1 Step 1
		If StringLeft($WinList[$I][0],17) = "SMITE Optimizer (" Then
			WinActivate($WinList[$I][0])
			ExitLoop
		EndIf
	Next

	Exit ;- Focus, but don't continue.
EndIf

#Include <Array.au3>
#Include <File.au3>
#Include <GUIComboBox.au3>
#Include <GUIConstants.au3>
#Include <GUIEdit.au3>
#Include <GuiListBox.au3>
#Include <Misc.au3>
#Include <WinApi.au3>

;- Removed requirement to install UDFs. (Community Contribution) - https://github.com/crackman2
#Include "./Includes/GIFExtended.au3" ;- Required for GIF animation implementation, part of the SMITE Optimizer.
#Include "./Includes/SOCtrlButtons.au3" ;- Modern button implementation, part of the SMITE Optimizer. Planned implementation: hover effect.

#Include <Inet.au3> ;- Required for automatic updates.
#Include <WinAPISysWin.au3> ;- Required by ResourceEx.
#Include "./Includes/ResourcesEx.au3" ;- Required to use resources.
#Include "./Includes/_Zip.au3" ;- Used for the debug dump.


#Region ;- Metrics

	;- Initialize metrics
	;- You can view our data & privacy statement by following the URL of the "$sServer" variable and then navigating to the desired page, or in the SMITE Optimizer > Copyright tab.
	;- All metrics are public, by visiting the URL of the "$sServer" variable, you can view them in your browser.

	Local $sMetricsServer = "https://metrics-so.meteorthelizard.com/"


	;- Check if the destination can be reached.

	Local $bMetricsReachable = False

	Local $oHTTP = ObjCreate("winhttp.winhttprequest.5.1")
		$oHTTP.Open("GET",$sMetricsServer & "418",False) ;- 418 = Very small page!
		$oHTTP.Send()

	If $oHTTP.Status == 200 Then
		$bMetricsReachable = True ;- MetricsServer is running and functional!
	EndIf

	$oHTTP = NULL ;- Destroy the object (clear memory).


	Func fSendMetric($sType) ;- In an ideal world, this would not block the main thread. But this cannot be achieved with AutoIt without doing shady stuff that would trigger AVs immediately.

		If not $bMetricsReachable or (not @Compiled and $sType <> "event_running_uncompiled") Then Return ;- We didn't reach it initially, so just don't even try. (To improve the user experience! The main thread won't lock up over and over again!).

		Local $oHTTP = ObjCreate("winhttp.winhttprequest.5.1")
			$oHTTP.Open("GET",$sMetricsServer & $sType,False)
			$oHTTP.setRequestHeader("User-Agent","SMITE_SO/1.0") ;- Non-unique app identifier.
			$oHTTP.Option(4) = 13056 ;- SSL / Accept redirects automatically
			$oHTTP.Send()

		$oHTTP = NULL ;- Destroy the object (clear memory).

	EndFunc

#EndRegion


;- This function either loads the resource from the supplied path if it is valid, or attempts to load it from the appended resources.
;- This makes it possible to see UI elements while in the development state, so you don't have to compile every single time.
;- This also makes it possible to create custom skins! (Though rather limited without changing program code.)
Func LoadImageResource($Ctrl,$PathDir,$ResourceName)
	If FileExists($PathDir) Then
		GUICtrlSetImage($Ctrl,$PathDir)
	Else
		_Resource_SetToCtrlID($Ctrl,$ResourceName)
	EndIf
EndFunc

AutoItSetOption("GUIOnEventMode",1)
AutoItSetOption("MouseCoordMode",0)
AutoItSetOption("MustDeclareVars",1)

Global Const $MainResourcePath = @ScriptDir & "\Resource\"

Global $ProgramName = "SMITE Optimizer (X84)"
If @AutoItX64 == 1 Then $ProgramName = "SMITE Optimizer (X64)"


Global Const $ProgramVersion = "1.3.7.9"

;- Internal Vars
Global Const $ScrW = @DesktopWidth
Global Const $ScrH = @DesktopHeight
Global Const $MinWidth = 810
Global Const $MinHeight = 450
Global Const $sEmpty = "" ;- Optimizations. Instead of creating a new object over and over again, we point to this instead. (Much faster.) Do not change this! It will break the script!
Global Const $ChangelogText = _Resource_GetAsString("ChangelogText")

_Resource_LoadFont("MainFont")
If @Error and @Compiled Then
	fSendMetric("error_font_code10")
	MsgBox(0,"Error!","Critical error while loading the fonts! Code: 010")
	Exit
EndIf

_Resource_LoadFont("MenuFont")
If @Error and @Compiled Then
	fSendMetric("error_font_code11")
	MsgBox(0,"Error!","Critical error while loading the fonts! Code: 011")
	Exit
EndIf

_Resource_LoadFont("InttFont")
If @Error and @Compiled Then
	fSendMetric("error_font_code21")
	MsgBox(0,"Error!","Critical error while loading the fonts! Code: 021")
	Exit
EndIf

_Resource_LoadFont("ResCFont")
If @Error and @Compiled Then
	fSendMetric("error_font_code22")
	MsgBox(0,"Error!","Critical error while loading the fonts! Code: 022")
	Exit
EndIf


If not @Compiled Then
	fSendMetric("event_running_uncompiled")
EndIf


;- These fonts have to be installed on the system to be able to see them if you didn't compile the script.
Global Const $MainFontName = "Monofonto" ;- Free
Global Const $MenuFontName = "Montserrat" ;- Public Domain, GPL, OFL
Global Const $InttFontName = "PT Root UI Bold" ;- OFL, free for Private/Commercial use
Global Const $ResCFontName = "Lambda" ;- OFL, free for Private/Commercial use

Global $MenuSelected = 1
Global $MainGUIMaximizedState = False
Global $MainGUIButtonMaximize = NULL
Global $MainGUITitleBarBG = NULL
Global $GUIMoreOptionsTitleBarBG = NULL
Global $MainGUIMenuBackground = NULL
Global $NotificationGUI = NULL
Global $GUIMoreOptions = NULL
Global $ProcessUI = NULL
Global $ProcessingRequest = False

Global $ResPromptGUI = NULL
Global $HomeSimpleComboResLastIndex
Global $HomeAdvancedComboResLastIndex

Global $UpdateTimer = NULL ;- Vars for the annoying "Update Available" label flashing. (It's annoying to make sure the user sees it!)
Global $UpdateColorState = False

Global $bDiscordIconState = False ;- Vars for flashing the Discord logo.
Global $DiscordFlashTimer = NULL
Global $bShouldFlashDiscordIcon = False
Local $sRegRead = RegRead("HKCU\Software\SMITE Optimizer\","bShouldFlashDiscord")
If @Error and $sRegRead <> "1" Then ;- They never clicked it, so flash it!
	$bShouldFlashDiscordIcon = True
	$DiscordFlashTimer = TimerInit()
EndIf

Global $MainGUIHomeDiscoveryDrawn = False ;- Bool to determine whether we are in Discovery Mode.

Global $HoverBGDrawn = False ;- Hover popups.
Global $HoverImageDrawn = False
Global $LastMousePosX, $LastMousePosY
Global $HoverTimer = NULL
Global $DisplayHoverBG = 0
Global $DisplayHoverImage = 0
Global $LastHoverID = 0
Global $HoverID = 0
Global $HoverTipAlpha = 0
Global $JustTabbedBackIn = -1
Global $SupressHoverImage = False
Global $HelpIsAnimating = False
Global $MenuPopupState = False

Global $LastReadScrResSimple ;- Used in the main routine to determine whether the combo selection changed.
Global $LastScreenResScaleSimple
Global $LastReadScrResAdvanced
Global $LastScreenResScaleAdvanced

Global $MainGUIButtonCloseBool = False ;- Main Program
Global $MainGUIButtonMaximizeBool = False
Global $MainGUIButtonMinimizeBool = False
Global $MainGUIButtonDiscordBool = False
Global $HomeIconHoverHideBool = False ;- Menu
Global $FixesIconHoverHideBool = False
Global $RCIconHoverHideBool = False
Global $DonateIconHoverHideBool = False
Global $bTriedToShowDonateBanner = False
Global $ChangelogIconHoverHideBool = False
Global $CopyrightIconHoverHideBool = False
Global $DebugIconHoverHideBool = False
Global $SteamBtnHoverHideBool = False ;- Configuration Discovery
Global $EGSBtnHoverHideBool = False
Global $LegacyBtnHoverHideBool = False
Global $ViewOnlineChangesBtnHoverBool = False ;- Changelog
Global $AnimatedLogoBool = False ;- Copyright
Global $WebsiteOpenHoverBool = False
Global $LicenseLabelHoverBool = False
Global $SourceLabelHoverBool = False
Global $AutoItLicenseLabelHoverBool = False
Global $PrivacyPolicyLabelHoverBool = False
Global $GDPRLabelHoverBool = False
Global $WebsiteMetricsLabelHoverBool = False
Global $iCurrentFrameCopyrightGIF = 0
Global $MainGUICopyrightAnimatedLogoID = NULL
Global $MainGUIDebugLabelHoverBool = False ;- Debug
Global $MainGUIDebugDumpInfoHoverBool = False

Global $Bool_DisplaySetupError = False ;- Used to inform the user if they haven't launched the game before on their system.

Global $cAccentColor = 0xC11F1F
Global $cBackgroundColor = 0x00
Global $cTextColor = 0xF3F6FB
Global $cTextShadowColor = 0x00
Global $cURLColor = 0x4F89EA
Global $cURLHoverColor = 0x0645AD

Global $sDiscordURL = "https://discord.gg/h2g7R9rt7F" ;- Official SMITE Optimizer support server!
Global $sAlert = "" ;- Used on occasion, if something breaks or an important announcement needs to reach every user.

fInitHives() ;- Hives need to be initialized here.

;- ----- ----- ----- ----- -----

;- Old version compatibility. (Remove old registry values.)
Global $Version = RegRead("HKCU\Software\SMITE Optimizer\","ProgramVersion")
If @Error = 0 and $Version <= "1.2.2" Then
	fSendMetric("event_oldversion_compat")

	RegDelete("HKCU\Software\SMITE Optimizer\","BlockDonations")
	RegDelete("HKCU\Software\SMITE Optimizer\","ConfigPath")
	RegDelete("HKCU\Software\SMITE Optimizer\","DonateInfoStatus")
	RegDelete("HKCU\Software\SMITE Optimizer\","PerformUpdate")
	RegDelete("HKCU\Software\SMITE Optimizer\","UpdateCheck")
	RegDelete("HKCU\Software\SMITE Optimizer\","ProgramPath")
EndIf

RegDelete("HKCU\Software\SMITE Optimizer\","ConfigVerifyIntegrityOnApply") ;- Unused v1.3.7.7 and up.


Global $bProperClose = RegRead("HKCU\Software\SMITE Optimizer\","NotClosedProperly")
If not @Error Then
	fSendMetric("error_notclosed_properly")
	MsgBox(0,"Information","SMITE Optimizer did not close properly. If you experience issues when applying the settings, we recommend disabling the integrity check in the debug tab." & @CRLF & @CRLF & "We also recommend checking out the 'common issues' in the debug tab for help.")
EndIf


Global $CheckForUpdates = RegRead("HKCU\Software\SMITE Optimizer\","ConfigCheckForUpdates")
If @Error Then $CheckForUpdates = "1"
Global $SettingsPath = RegRead("HKCU\Software\SMITE Optimizer\","ConfigPathEngine")
If @Error Then $SettingsPath = $sEmpty
Global $SystemSettingsPath = RegRead("HKCU\Software\SMITE Optimizer\","ConfigPathSystem")
If @Error Then $SystemSettingsPath = $sEmpty
Global $GameSettingsPath = RegRead("HKCU\Software\SMITE Optimizer\","ConfigPathGame")
If @Error Then $GameSettingsPath = $sEmpty
Global $ProgramState = RegRead("HKCU\Software\SMITE Optimizer\","ConfigProgramState")
If @Error Then $ProgramState = $sEmpty
Global $ProgramHomeState = RegRead("HKCU\Software\SMITE Optimizer\","ConfigSimpleOrAdvanced")
If @Error Then $ProgramHomeState = "Simple"
Global $ConfigBackupPath = RegRead("HKCU\Software\SMITE Optimizer\","ConfigBackupPath")
If @Error Then $ConfigBackupPath = RegRead("HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\Shell Folders","Personal")&"\My Games\SMITE\Backups\"
Global $ProgramHomeHelpState = RegRead("HKCU\Software\SMITE Optimizer\","ConfigShowHints")
If @Error Then $ProgramHomeHelpState = 1


;- The registry entries exist, but at least one of the files is missing:
If (($SettingsPath = $sEmpty or $SystemSettingsPath = $sEmpty or $GameSettingsPath = $sEmpty) or _ ;- Invalid registry entries.
	not FileExists($SettingsPath) or _ ;- EngineSettings is missing
	not FileExists($SystemSettingsPath) or _ ;- SystemSettings is missing
	not FileExists($GameSettingsPath)) and _ ;- GameSettings is missing
	RegRead("HKCU\Software\SMITE Optimizer\","ProgramVersion") <> $sEmpty Then ;- Only show it when it wasn't the first start.

	fSendMetric("error_missing_config_files")

	RegDelete("HKCU\Software\SMITE Optimizer\","ConfigPathEngine")
	RegDelete("HKCU\Software\SMITE Optimizer\","ConfigPathSystem")
	RegDelete("HKCU\Software\SMITE Optimizer\","ConfigPathGame")
	RegDelete("HKCU\Software\SMITE Optimizer\","ConfigProgramState")

	$SettingsPath = $sEmpty
	$SystemSettingsPath = $sEmpty
	$GameSettingsPath = $sEmpty

	$ProgramState = $sEmpty

EndIf

;- Update program version.
RegWrite("HKCU\Software\SMITE Optimizer\","ProgramVersion","REG_SZ",$ProgramVersion)
If FileExists(@TempDir & "/SO_UpdatedVer.exe") Then FileDelete(@TempDir & "/SO_UpdatedVer.exe") ;- Remove the temporary downloaded update.

#Region ;- BorderLessWinUDF (Heavily modified)

	#Include <WinAPIGDI.au3>


	Local $GLOBAL_MAIN_GUI
	Local $Win_Min_ResizeX = 145
	Local $Win_Min_ResizeY = 45

	Func _GUI_EnableDragAndResize($mGUI,$GUI_WIDTH,$GUI_HEIGHT,$Min_ResizeX = $Win_Min_ResizeX,$Min_ResizeY = $Win_Min_ResizeY)
		Global $GLOBAL_MAIN_GUI = $mGUI, $Win_Min_ResizeX = $Min_ResizeX, $Win_Min_ResizeY = $Min_ResizeY

		GUIRegisterMsg(0x0024,"INTERNAL_WM_GETMINMAXINFO")
		GUIRegisterMsg(0x0084,"INTERNAL_WM_NCHITTEST")
		GUIRegisterMsg(0x0083,"INTERNAL_WM_NCCALCSIZE")
		GUIRegisterMsg(0x0201,"INTERNAL_WM_LBUTTONDOWN")
		GUIRegisterMsg(0x0005,"INTERNAL_WM_SIZING")
		GUIRegisterMsg(0x0086,"INTERNAL_WM_NCACTIVATE")

		WinMove($mGUI,$sEmpty,Default,Default,$GUI_WIDTH,$GUI_HEIGHT)
	EndFunc

	Func _GUI_DragAndResizeUpdate($mGUI,$Min_ResizeX = $Win_Min_ResizeX,$Min_ResizeY = $Win_Min_ResizeY)
		Global $GLOBAL_MAIN_GUI = $mGUI, $Win_Min_ResizeX = $Min_ResizeX, $Win_Min_ResizeY = $Min_ResizeY

		GUIRegisterMsg(0x0024,"INTERNAL_WM_GETMINMAXINFO")
		GUIRegisterMsg(0x0084,"INTERNAL_WM_NCHITTEST")
		GUIRegisterMsg(0x0083,"INTERNAL_WM_NCCALCSIZE")
		GUIRegisterMsg(0x0201,"INTERNAL_WM_LBUTTONDOWN")
		GUIRegisterMsg(0x0005,"INTERNAL_WM_SIZING")
		GUIRegisterMsg(0x0086,"INTERNAL_WM_NCACTIVATE")
	EndFunc

	;- New Func
	Func _GUI_EnableDrag($mGUI,$GUI_WIDTH,$GUI_HEIGHT,$Min_ResizeX = $Win_Min_ResizeX,$Min_ResizeY = $Win_Min_ResizeY)
		Global $GLOBAL_MAIN_GUI = $mGUI, $Win_Min_ResizeX = $Min_ResizeX, $Win_Min_ResizeY = $Min_ResizeY

		GUIRegisterMsg(0x0201,"INTERNAL_WM_LBUTTONDOWN")
		GUIRegisterMsg(0x0086,"INTERNAL_WM_NCACTIVATE")

		WinMove($mGUI,$sEmpty,Default,Default,$GUI_WIDTH,$GUI_HEIGHT)
	EndFunc

	Func INTERNAL_WM_NCACTIVATE($hWnd)
		If $hWnd = $GLOBAL_MAIN_GUI Then Return -1
	EndFunc

	Func INTERNAL_WM_SIZING($hWnd)
		If $hWnd = $GLOBAL_MAIN_GUI and WinGetState($GLOBAL_MAIN_GUI) = 47 Then
			Local $WorkingSize = _GetDesktopWorkArea_Main($GLOBAL_MAIN_GUI)
			Local $aWinPos = WinGetPos($GLOBAL_MAIN_GUI)
			_WinAPI_SetWindowPos($GLOBAL_MAIN_GUI,$HWND_TOP,$aWinPos[0]-1,$aWinPos[1]-1,$WorkingSize[2],$WorkingSize[3],$SWP_NOREDRAW)

			LoadImageResource($MainGUIButtonMaximize,$MainResourcePath & "Maximize2NoActivate.jpg","Maximize2NoActivate")
			$MainGUIMaximizedState = True
		EndIf
	EndFunc

	Func INTERNAL_WM_GETMINMAXINFO($hWnd,$iMsg,$wParam,$lParam)
		Local $tMinMaxInfo = DllStructCreate("int;int;int;int;int;int;int;int;int;dword",$lParam)
		Local $WorkingSize = _GetDesktopWorkArea_Main($GLOBAL_MAIN_GUI)

		DllStructSetData($tMinMaxInfo,3,$WorkingSize[2])
		DllStructSetData($tMinMaxInfo,4,$WorkingSize[3])
		DllStructSetData($tMinMaxInfo,5,$WorkingSize[0]+1)
		DllStructSetData($tMinMaxInfo,6,$WorkingSize[1]+1)
		DllStructSetData($tMinMaxInfo,7,$Win_Min_ResizeX)
		DllStructSetData($tMinMaxInfo,8,$Win_Min_ResizeY)

		FixCopyrightGIFPosition() ;- Update the position of the Copyright GIF

		Return 0
	EndFunc

	Func INTERNAL_WM_NCCALCSIZE($hWnd)
		If $hWnd = $GLOBAL_MAIN_GUI Then Return 0

		Return 'GUI_RUNDEFMSG'
	EndFunc

	Local $WasChanged = False
	Func INTERNAL_WM_NCHITTEST($hWnd)
		If $hWnd = $GLOBAL_MAIN_GUI Then
			Local $iSide = 0, $iTopBot = 0, $CurSorInfo = 0

			Local $mPos = MouseGetPos()
			Local $aWinPos = WinGetPos($GLOBAL_MAIN_GUI)
			Local $aCurInfo = GUIGetCursorInfo($GLOBAL_MAIN_GUI)

			If not @Error Then
				If $aCurInfo[0] < 3 Then $iSide = 1
				If $aCurInfo[0] > $aWinPos[2] - 3 Then $iSide = 2
				If $aCurInfo[1] < 3 Then $iTopBot = 3
				If $aCurInfo[1] > $aWinPos[3] - 3 Then $iTopBot = 6
				$CurSorInfo = $iSide + $iTopBot
			EndIf

			If $mPos[0] >= ($aWinPos[0] + 2) and $mPos[0] <= ($aWinPos[0] + $aWinPos[2] - 2) and $mPos[1] >= ($aWinPos[1] + 2) and $mPos[1] <= ($aWinPos[1] + 25) Then
				GUISetCursor(2,1)
			EndIf

			If WinGetState($GLOBAL_MAIN_GUI) <> 47 Then
				If $aCurInfo[4] = 0 Then
					Local $Return_HT = 2, $Set_Cursor = 2

					Switch $CurSorInfo
						Case 1
							$Set_Cursor = 13
							$Return_HT = 10
						Case 2
							$Set_Cursor = 13
							$Return_HT = 11
						Case 3
							$Set_Cursor = 11
							$Return_HT = 12
						Case 4
							$Set_Cursor = 12
							$Return_HT = 13
						Case 5
							$Set_Cursor = 10
							$Return_HT = 14
						Case 6
							$Set_Cursor = 11
							$Return_HT = 15
						Case 7
							$Set_Cursor = 10
							$Return_HT = 16
						Case 8
							$Set_Cursor = 12
							$Return_HT = 17
					EndSwitch

					$WasChanged = True
					GUISetCursor($Set_Cursor,1)

					Return $Return_HT
				EndIf
			EndIf
		EndIf

		If $WasChanged Then
			GUISetCursor(2,1)
			$WasChanged = False
		EndIf

		Return "GUI_RUNDEFMSG"
	EndFunc

	Func INTERNAL_WM_LBUTTONDOWN($hWnd)

		;- Undraw HoverImage if GUI was clicked, so that it doesn't get left behind when dragging.

		If $DisplayHoverImage <> 0 and $HoverImageDrawn Then
			$DisplayHoverImage = 0
			WinMove($HoverInfoGUI,$sEmpty,-$ScrW * 2,-$ScrH * 2,0,0)
			$HoverImageDrawn = False
		EndIf

		If $hWnd = $GLOBAL_MAIN_GUI and WinGetState($GLOBAL_MAIN_GUI) <> 47 Then
			Local $aCurInfo = GUIGetCursorInfo($GLOBAL_MAIN_GUI)

			If $aCurInfo[4] = $MainGUITitleBarBG or $aCurInfo[4] = $GUIMoreOptionsTitleBarBG Then

				;- Undraw donation reminder if GUI was clicked, so that it doesn't get left behind when dragging.
				;- This also forces all menu-hovers to be undrawn if they for whatever reason were visible.

				If $bTriedToShowDonateBanner Then
					UndoMenuHoverState()
				EndIf


				DllCall("user32.dll","int","ReleaseCapture")
				DllCall("user32.dll","long","SendMessage","hwnd",$GLOBAL_MAIN_GUI,"int",0x00A1,"int",2,"int",0)

			EndIf
		EndIf
	EndFunc

	Func _GetDesktopWorkArea_Main($hWnd)
		Local $MonitorSizePos[4], $MonitorNumber = 1
		$MonitorSizePos[0] = 0
		$MonitorSizePos[1] = 0
		$MonitorSizePos[2] = @DesktopWidth
		$MonitorSizePos[3] = @DesktopHeight

		Local $aPos, $MonitorList = _WinAPI_EnumDisplayMonitors()
		If @Error Then Return $MonitorSizePos

		If IsArray($MonitorList) Then
			ReDim $MonitorList[$MonitorList[0][0] + 1][5]
			For $i = 1 To $MonitorList[0][0]
				$aPos = _WinAPI_GetPosFromRect($MonitorList[$i][1])

				For $j = 0 To 3
					$MonitorList[$i][$j + 1] = $aPos[$j]
				Next
			Next
		EndIf

		Local $GUI_Monitor = _WinAPI_MonitorFromWindow($hWnd)
		Local $Taskbar_Monitor = _WinAPI_MonitorFromWindow(WinGetHandle("[CLASS:Shell_TrayWnd]"))

		For $iM = 1 To $MonitorList[0][0] Step 1
			If $MonitorList[$iM][0] = $GUI_Monitor Then
				$MonitorSizePos[0] = 0
				$MonitorSizePos[1] = 0
				$MonitorSizePos[2] = $MonitorList[$iM][3]
				$MonitorSizePos[3] = $MonitorList[$iM][4]
				$MonitorNumber = $iM
			EndIf
		Next

		Local $TaskBarAutoHide = DllCall("shell32.dll","int","SHAppBarMessage","int",0x00000004,"ptr*",0)
		If not @Error Then
			$TaskBarAutoHide = $TaskBarAutoHide[0]
		Else
			$TaskBarAutoHide = 0
		EndIf

		If $Taskbar_Monitor = $GUI_Monitor Then
			Local $TaskBarPos = WinGetPos("[CLASS:Shell_TrayWnd]")
			If @Error Then Return $MonitorSizePos

			If $TaskBarPos[0] = $MonitorList[$MonitorNumber][1] - 2 or $TaskBarPos[1] = $MonitorList[$MonitorNumber][2] - 2 Then
				$TaskBarPos[0] = $TaskBarPos[0] + 2
				$TaskBarPos[1] = $TaskBarPos[1] + 2
				$TaskBarPos[2] = $TaskBarPos[2] - 4
				$TaskBarPos[3] = $TaskBarPos[3] - 4
			EndIf

			If $TaskBarPos[0] = $MonitorList[$MonitorNumber][1] - 2 or $TaskBarPos[1] = $MonitorList[$MonitorNumber][2] - 2 Then
				$TaskBarPos[0] = $TaskBarPos[0] + 2
				$TaskBarPos[1] = $TaskBarPos[1] + 2
				$TaskBarPos[2] = $TaskBarPos[2] - 4
				$TaskBarPos[3] = $TaskBarPos[3] - 4
			EndIf

			If $TaskBarPos[2] = $MonitorSizePos[2] Then
				If $TaskBarAutoHide = 1 Then
					If ($TaskBarPos[1] > 0) Then
						$MonitorSizePos[3] -= 1
					Else
						$MonitorSizePos[1] += 1
						$MonitorSizePos[3] -= 1
					EndIf

					Return $MonitorSizePos
				EndIf

				$MonitorSizePos[3] = $MonitorSizePos[3] - $TaskBarPos[3]
				If $TaskBarPos[0] = $MonitorList[$MonitorNumber][1] and $TaskBarPos[1] = $MonitorList[$MonitorNumber][2] Then $MonitorSizePos[1] = $TaskBarPos[3]
			Else
				If $TaskBarAutoHide = 1 Then
					If $TaskBarPos[0] > 0 Then
						$MonitorSizePos[2] -= 1
					Else
						$MonitorSizePos[0] += 1
						$MonitorSizePos[2] -= 1
					EndIf

					Return $MonitorSizePos
				EndIf

				$MonitorSizePos[2] = $MonitorSizePos[2] - $TaskBarPos[2]
				If $TaskBarPos[0] = $MonitorList[$MonitorNumber][1] and $TaskBarPos[1] = $MonitorList[$MonitorNumber][2] Then $MonitorSizePos[0] = $TaskBarPos[2]
			EndIf
		EndIf

		Return $MonitorSizePos
	EndFunc
#EndRegion

;- OnShutdown
;~ HotKeySet("{F5}","ProperExit") ;- Dev Terminate Hotkey.
OnAutoItExitRegister("ProperExit")

Local $bProperOnce = False

Func ProperExit() ;- This is used internally as well.

	If not $bProperOnce Then
		$bProperOnce = True
		fSendMetric("event_exit")
	EndIf

	If IsDeclared("IndexerPID") Then ProcessClose($IndexerPID)
	If FileExists(@TempDir & "\SO_Index.bat") Then FileDelete(@TempDir & "\SO_Index.bat")
	If FileExists(@TempDir & "\SO_Index.txt") Then FileDelete(@TempDir & "\SO_Index.txt")
	If FileExists(@TempDir & "\GPL_License.txt") Then FileDelete(@TempDir & "\GPL_License.txt")
	If FileExists(@TempDir & "\AutoIt_License.txt") Then FileDelete(@TempDir & "\AutoIt_License.txt")
	If FileExists(@TempDir & "\CommonIssues.txt") Then FileDelete(@TempDir & "\CommonIssues.txt")

	RegDelete("HKCU\Software\SMITE Optimizer\","NotClosedProperly")

	__GIFExtended_ShutDown() ;- Has to be called for SMITE Optimizer's GIF UDF
	_GDIPlus_Shutdown() ;- Required for SMITE Optimizer's Button UDF

	Exit
EndFunc

#Region ;- Splash-Screen.

	Global $SplashScreenGUI = GUICreate($ProgramName,600,125,-1,-1,$WS_POPUP)

		Local $SplashScreenGUIAnimationStart, $SplashScreenGUIAnimationLoop, $iCtrl

		If @Compiled Then

			Local $aRet = GUICtrlCreateGIF( _Resource_GetAsImage("SO_StartGIF") ,0,0,600,100,90,10,True)
				$SplashScreenGUIAnimationStart = $aRet[0]
				$iCtrl = $aRet[1]

		Else

			Local $aRet = GUICtrlCreateGIF($MainResourcePath & "Splash_Start.gif",0,0,600,100,90,10)
				$SplashScreenGUIAnimationStart = $aRet[0]
				$iCtrl = $aRet[1]

		EndIf


		Global $SplashScreenGUIProgress = GUiCtrlCreateProgress(0,100,600,25)
			GUICtrlSetColor(-1,$cAccentColor) ;- Brand-colored progress bar!
			DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",$sEmpty,"wstr",$sEmpty)

		Global $SplashScreenGUILabelStatusBG = GUICtrlCreateLabelTransparentBG("Initializing..",1,106,600,20,$SS_CENTER)
			GUICtrlSetColor(-1,$cTextShadowColor)

		Global $SplashScreenGUILabelStatus = GUICtrlCreateLabelTransparentBG("Initializing..",0,105,600,20,$SS_CENTER)

	GUISetState(@SW_SHOWNOACTIVATE,$SplashScreenGUI) ;- Start showing the splash screen, but don't take focus!

	_WinAPI_SetWindowPos($SplashScreenGUI,$HWND_TOPMOST,0,0,0,0,BitOR($SWP_NOACTIVATE,$SWP_NOMOVE,$SWP_NOSIZE)) ;- Bring the window to the front, but don't take focus!
	_WinAPI_SetWindowPos($SplashScreenGUI,$HWND_NOTOPMOST,0,0,0,0,BitOR($SWP_NOACTIVATE,$SWP_NOMOVE,$SWP_NOSIZE))


	Func SplashScreenWriteStatus($Progress,$Text)
		If not IsDeclared("SplashScreenGUI") Then Return

		If $SplashScreenGUI <> NULL Then
			GUICtrlSetData($SplashScreenGUIProgress,$Progress)
			GUICtrlSetData($SplashScreenGUILabelStatusBG,$Text)
			GUICtrlSetData($SplashScreenGUILabelStatus,$Text)
		EndIf
	EndFunc


	Local $bSpawnedAnim = False ;- Prevent multiple layers of GIFs from being created.

	While True ;- Perform the animation.

		If $__g_GIFExtended_aStoreCache[$iCtrl][13] = 88 and not $bSpawnedAnim Then
			$bSpawnedAnim = True

			If @Compiled Then
				$SplashScreenGUIAnimationLoop = GUICtrlCreateGIF( _Resource_GetAsImage("SO_LoopGIF") ,0,0,600,100,90,10,True)[0] ;- Frame-rate override
			Else
				$SplashScreenGUIAnimationLoop = GUICtrlCreateGIF($MainResourcePath & "Splash_Loop.gif",0,0,600,100,90,10)[0] ;- Frame-rate override
			EndIf
		EndIf

		If $__g_GIFExtended_aStoreCache[$iCtrl][13] >= 89 and $bSpawnedAnim Then
			GUICtrlDeleteGIF($SplashScreenGUIAnimationStart)
			ExitLoop
		EndIf
	WEnd

	fSendMetric("event_start")

#EndRegion

#Region ;- Automatic Update Routine.
	Func _IniMem_Read($s_ini,$s_Section,$s_key,$s_default = $sEmpty) ;- Author: Alek, heavily modified by MeteorTheLizard.
		$s_ini = StringSplit($s_ini,@CRLF)

		For $x = 1 To $s_ini[0]
			If $s_ini[$x] = "[" & $s_Section & "]" Then ExitLoop
		Next

		If $x < $s_ini[0] Then
			For $i = $x+1 To $s_ini[0]
				If StringLeft($s_ini[$i],1) = "[" and StringRight($s_ini[$i],1) = "]" Then ExitLoop
				If $s_ini[$i] = $sEmpty Then ContinueLoop

				If StringLeft($s_ini[$i],StringLen($s_key)) = $s_key Then
					$s_default = StringTrimLeft($s_ini[$i],StringLen($s_key) + 1)
					ExitLoop
				EndIf
			Next
		EndIf

		If StringLeft($s_default,1) = '"' Then $s_default = StringTrimLeft($s_default,1)
		If StringRight($s_default,1) = '"' Then $s_default = StringTrimRight($s_default,1)

		Return $s_default
	EndFunc

	Global $UpdateAvailable = False ;- Used when automatic updates are disabled.
	If $CheckForUpdates = "1" Then SplashScreenWriteStatus(25,"Checking for Updates") ;- Update Splash-Screen.

	fSendMetric("updater_init")


	Local $agent = "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:102.0) Gecko/20100101 Firefox/102.0" ;- Last updated: 09 Aug. 2023 - non-unique identifier.
	Local $sUpdateProvider = "update-so.meteorthelizard.com" ;- Initial value.


	;- This method guarantees an up-to-date update file, assuming we can connect.

	SplashScreenWriteStatus(25,"Checking for Updates (update-so.meteorthelizard.com)")

	Local $oHTTP = ObjCreate("winhttp.winhttprequest.5.1") ;- Load information from GitHub
		$oHTTP.Open("GET","https://update-so.meteorthelizard.com/update.ini",False)
		$oHTTP.setRequestHeader("User-Agent",$agent)
		$oHTTP.Option(4) = 13056 ;- SSL / Accept redirects automatically
		$oHTTP.Send()

		Local $UpdateGet = $oHTTP.ResponseText

		$oHTTP = NULL ;- Destroy the object (clear memory).

	If not $UpdateGet Then ;- MeteorTheLizard.com failed, so we now try GitHub.

		fSendMetric("error_updater_mtl_failed")

		SplashScreenWriteStatus(25,"Checking for Updates (meteorthelizard.github.io)")

		Local $oHTTP = ObjCreate("winhttp.winhttprequest.5.1")
			$oHTTP.Open("GET","https://meteorthelizard.github.io/SMITE-Optimizer-Update/",False)
			$oHTTP.setRequestHeader("User-Agent",$agent)
			$oHTTP.Option(4) = 13056 ;- SSL / Accept redirects automatically
			$oHTTP.Send()

			$UpdateGet = $oHTTP.ResponseText

			$oHTTP = NULL ;- Destroy the object (clear memory)

			$sUpdateProvider = "meteorthelizard.github.io"

		If not $UpdateGet Then ;- GitHub failed, so we now try the Pastebin backup.

			fSendMetric("error_updater_github_failed")

			SplashScreenWriteStatus(25,"Checking for Updates (pastebin.com)")

			Local $oHTTP = ObjCreate("winhttp.winhttprequest.5.1")
				$oHTTP.Open("GET","https://pastebin.com/raw/SXnHTU9H",False)
				$oHTTP.setRequestHeader("User-Agent",$agent)
				$oHTTP.Option(4) = 13056 ;- SSL / Accept redirects automatically
				$oHTTP.Send()

				$UpdateGet = $oHTTP.ResponseText

				$oHTTP = NULL ;- Destroy the object (clear memory)

				$sUpdateProvider = "pastebin.com"

			If not $UpdateGet Then
				fSendMetric("error_updater_failed_connect")
				MsgBox($MB_OK,"Error","Could not connect to the update servers.")
				WinActivate($SplashScreenGUI) ;- Get focus again after closing the message box.
			EndIf
		EndIf
	EndIf


	If $UpdateGet Then

		fSendMetric("updater_retrieve_success")

		$UpdateGet = BinaryToString($UpdateGet) ;- Convert binary information into a readable string for the IniMem_Read functions.

		Local $RemoteVersion = _IniMem_Read($UpdateGet,"Version","Version",$ProgramVersion)
		Local $RemoteDownload32 = _IniMem_Read($UpdateGet,"Download","Download32",$sEmpty)
		Local $RemoteDownload64 = _IniMem_Read($UpdateGet,"Download","Download64",$sEmpty)
		Local $RemoteMessage = _IniMem_Read($UpdateGet,"Message","Message",$sEmpty)
		Local $RemoteAlert = _IniMem_Read($UpdateGet,"Alert","Alert",$sEmpty)
		Local $RemoteURL = _IniMem_Read($UpdateGet,"URL","URL",$sEmpty)

		If $RemoteAlert <> $sEmpty Then ;- Cache alert to display after launch!
			$sAlert = $RemoteAlert
		EndIf

		If $RemoteURL <> $sEmpty Then ;- The Discord URL was updated remotely!
			$sDiscordURL = $RemoteURL
		EndIf

		If $RemoteVersion > $ProgramVersion Then ;- A new update is available, so we start downloading!
			$UpdateTimer = TimerInit() ;- Used to make the version text extra annoying! :3
			$UpdateAvailable = True

			Local $ForceUpdate = RegRead("HKCU\Software\SMITE Optimizer\","DebugForceUpdate")
			If @Error Then
				$ForceUpdate = False
			Else
				$ForceUpdate = True
			EndIf

			If $CheckForUpdates = "1" or $ForceUpdate Then ;- Only update when updates are enabled!

				fSendMetric("updater_can_update")

				;- Make sure the forced update key gets removed so it doesn't get called again.
				;- (This happens when the user clicks the "Perform Update" button on the debug screen.)
				RegDelete("HKCU\Software\SMITE Optimizer\","DebugForceUpdate")

				RegWrite("HKCU\Software\SMITE Optimizer\","UpdateProvider",$sUpdateProvider) ;- Store for debug purposes

				SplashScreenWriteStatus(0,"Preparing to download an update..") ;- Update Splash-Screen.

				Local $NewFileSize, $NewFile

				If @AutoItX64 = 1 Then
					$NewFileSize = INetGetSize($RemoteDownload64,$INET_FORCERELOAD)
					$NewFile = INetGet($RemoteDownload64,@TempDir & "/SO_UpdatedVer.exe",BitOr($INET_FORCERELOAD,$INET_IGNORESSL),$INET_DOWNLOADBACKGROUND)
				Else
					$NewFileSize = INetGetSize($RemoteDownload32,$INET_FORCERELOAD)
					$NewFile = INetGet($RemoteDownload32,@TempDir & "/SO_UpdatedVer.exe",BitOr($INET_FORCERELOAD,$INET_IGNORESSL),$INET_DOWNLOADBACKGROUND)
				EndIf

				Local $LastPercent = 0
				Local $Percent = 0

				Do
					Local $Bytes = INetGetInfo($NewFile,0)
					$Percent = Floor((100 / $NewFileSize) * $Bytes)

					If $Percent <> $LastPercent Then ;- Prevent annoying label flashing.
						SplashScreenWriteStatus($Percent,"Downloading Update ( "&$Percent&"% - " & Floor($Bytes/1024) & " / " & Floor($NewFileSize/1024) & " KB. )") ;- Update Splash-Screen.
						$LastPercent = $Percent
					EndIf

					Sleep(10)
				Until INetGetInfo($NewFile,2) ;- Repeat until the download is finished.

				INetClose($NewFile) ;- Close the handle.

				;- Make sure the file exists before we try to do stuff.
				If FileExists(@TempDir & "/SO_UpdatedVer.exe") Then

					fSendMetric("updater_preparing_for_update")

					;- To apply the update, we create a temporary batch script that waits 0.5 seconds, deletes the old version, puts the new version in place, and then runs it.
					;- This process keeps the name of the .exe in case the user has changed it.
					;- This batch script also cleans up the remaining files!

					FileWrite(@TempDir & "\SO_Update.bat","CHCP 65001"&@CRLF&"@echo off"&@CRLF&"Cls"&@CRLF&"timeout /t 0.5 /nobreak"&@CRLF&'del "'&@ScriptFullPath&'" /f /q'&@CRLF&'copy /Y "'&@TempDir & '\SO_UpdatedVer.exe"'&' "'&@ScriptFullPath&'" >nul'&@CRLF&'start "" "'&@ScriptFullPath&'"'&@CRLF&'del "'&@TempDir & "\SO_Update.bat"&'" /f /q'&@CRLF&"Exit")
					If FileExists(@TempDir & "\SO_Update.bat") Then
						Run(@TempDir & "\SO_Update.bat",$sEmpty,@SW_HIDE) ;- Run the batch script and terminate ourselves.
						Exit
					Else
						fSendMetric("error_updater_code7")

						MsgBox($MB_OK,"Error","There was an unexpected error during the update process. Code: 007"&@CRLF&"If this error is persistent, please try to update manually.")
						WinActivate($SplashScreenGUI) ;- Get focus again after closing the message box.
					EndIf
				Else
					fSendMetric("error_updater_code6")

					MsgBox($MB_OK,"Error","There was an unexpected error during the update process. Code: 006"&@CRLF&"If this error is persistent, please try to update manually.")
					WinActivate($SplashScreenGUI) ;- Get focus again after closing the message box.
				EndIf
			EndIf
		EndIf
	EndIf
#EndRegion

;- GUI Functions
;-------------------

Local $WindowsUIFont = "Segoe UI"
If @OSVersion <> "WIN_VISTA" and @OSVersion <> "WIN_7" and @OSVersion <> "WIN_8" and @OSVersion <> "WIN_81" and @OSVersion <> "WIN_10" and @OSVersion <> "WIN_11" Then
	$WindowsUIFont = $MenuFontName ;- Fallback for older systems
EndIf

Func GUICtrlCreateLabelTransparentBG($Text,$X = 0,$Y = 0,$Size_X = 0,$Size_Y = 0,$Style = Default)
	Local $Obj = GUICtrlCreateLabel($Text,$X,$Y,$Size_X,$Size_Y,$Style)
		GUICtrlSetBkColor(-1,$GUI_BKCOLOR_TRANSPARENT)
		GUICtrlSetColor(-1,$cTextColor)
		GUICtrlSetFont(-1,Default,Default,Default,$MainFontName,BitOr(4,5)) ;- Antialiased / Cleartype)

	Return $Obj
EndFunc
Func GUICtrlCreateCheckboxTransparentBG($X = 0,$Y = 0,$Size_X = 0,$Size_Y = 0)
	Local $Obj = GUICtrlCreateCheckbox($sEmpty,$X,$Y,$Size_X,$Size_Y)
		DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",0,"wstr",0)
		GUICtrlSetBkColor(-1,$GUI_BKCOLOR_TRANSPARENT)

	Return $Obj
EndFunc
Func GUICtrlCreateComboNoTheme($Str,$X = 0,$Y = 0,$Size_X = 0,$Size_Y = 0,$Style = $sEmpty)
	Local $Obj = GUICtrlCreateCombo($Str,$X,$Y,$Size_X,$Size_Y,$Style)
		DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",0,"wstr",0)
		GUICtrlSetFont(-1,9,Default,Default,$InttFontName,BitOr(4,5)) ;- Antialiased / Cleartype

	Return $Obj
EndFunc
Func GUICtrlCreateInputSO($sStr,$iX,$iY,$iSize_X,$iSize_Y,$iStyle = $sEmpty)
	Local $Obj = GUICtrlCreateInput($sStr,$iX,$iY,$iSize_X,$iSize_Y,$iStyle)
		DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",0,"wstr",0)
		GUICtrlSetFont(-1,9,Default,Default,$InttFontName,BitOr(4,5)) ;- Antialiased / Cleartype

	Return $Obj
EndFunc
Func GUICtrlCreateButtonSO($GUI,$sStr,$X,$Y,$W,$H,$cBackgroundColor = $cBackgroundColor,$cTextColor = $cTextColor,$cAccentColor = $cAccentColor) ;- Wrapper function to define defaults more easily.
	Local $Obj = _SOCtrlButtons_Create($GUI,$sStr,$X,$Y,$W,$H,$cBackgroundColor,$cTextColor,$WindowsUIFont,8,1,$cAccentColor) ;- Default Windows UI font, size 8, style bold.

	Return $Obj
EndFunc

SplashScreenWriteStatus(100,"Loading Interface") ;- Update Splash-Screen.

Global $MenuStartPos = 41
Func CreateMenuObject($Name,$State = False)
	Local $Array[3]

	Local $HoverIDVar = GUICtrlCreatePic($sEmpty,5,$MenuStartPos-5,43,40)
		LoadImageResource($HoverIDVar,$MainResourcePath & "MenuItemBG.jpg","MenuItemBG")
		GUICtrlSetOnEvent($HoverIDVar,"ButtonPressLogic")
		GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
	Local $IconVar = GUICtrlCreatePic($sEmpty,10,$MenuStartPos,30,30)
		LoadImageResource($IconVar,$MainResourcePath & $Name&"IconInactive.jpg",$Name&"IconInactive")
		GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		GUICtrlSetStyle(-1,$WS_EX_TOPMOST)

	$Array[0] = $HoverIDVar
	$Array[1] = $IconVar

	If not $State Then
		Local $IconSelectorVar = GUICtrlCreatePic($sEmpty,0,$MenuStartPos-5,5,40)
			LoadImageResource($IconSelectorVar,$MainResourcePath & "MenuSelector.jpg","MenuSelector")
			GUICtrlSetOnEvent($IconVar,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetStyle(-1,$WS_EX_TOPMOST)
			GUICtrlSetState(-1,$GUI_HIDE)

		$Array[2] = $IconSelectorVar
	EndIf

	$MenuStartPos = ($MenuStartPos + 40)

	Return $Array
EndFunc
Func DrawMainGUI() ;- Random crash on this line. This function was defined, but then could not be found? - 11th Aug. 2023 - v1.3.7
	Global $MainGUI = GUICreate($ProgramName,$MinWidth,$MinHeight,-$ScrW,-$ScrH,BitOR($WS_SIZEBOX,$WS_MINIMIZEBOX,$WS_MAXIMIZEBOX))
		_GUI_EnableDragAndResize($MainGUI,$MinWidth,$MinHeight,$MinWidth,$MinHeight)
		GUISetBkColor(0x2D2D2D)

		GUICtrlSetDefColor($cTextColor,$MainGUI)
		GUICtrlSetDefBkColor($cBackgroundColor,$MainGUI)

		Global $MainGUITitleBarBG = GUICtrlCreatePic($sEmpty,2,34,$MinWidth-4,$MinHeight - 36)
			LoadImageResource($MainGUITitleBarBG,$MainResourcePath & "MenuItemBG.jpg","MenuItemBG")
			GUICtrlSetResizing(-1,$GUI_DOCKBORDERS)
			GUICtrlSetState(-1,$GUI_DISABLE)

		Global $MainGUITitleBarBG = GUICtrlCreatePic($sEmpty,2,2,$MinWidth-2,34)
			LoadImageResource($MainGUITitleBarBG,$MainResourcePath & "TopBar.jpg","TopBar")
			GUICtrlSetResizing(-1,$GUI_DOCKTOP + $GUI_DOCKLEFT + $GUI_DOCKRIGHT + $GUI_DOCKSIZE)
			GUICtrlSetState(-1,$GUI_DISABLE)

		Global $MainGUIMenuTitleIcon = GUICtrlCreatePic($sEmpty,18,9,16,16)
			LoadImageResource($MainGUIMenuTitleIcon,$MainResourcePath & "SMITEOptimizerIcon.jpg","SMITEOptimizerIcon")
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIMenuTitle = GUICtrlCreateLabelTransparentBG($ProgramName,50,9,130,15)
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetFont(-1,9,Default,Default,$WindowsUIFont)

		Global $MainGUIButtonClose = GUICtrlCreatePic($sEmpty,$MinWidth - 34,0,34,34)
			LoadImageResource($MainGUIButtonClose,$MainResourcePath & "CloseNoActivate.jpg","CloseNoActivate")
			GUICtrlSetOnEvent($MainGUIButtonClose,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKTOP + $GUI_DOCKSIZE)

		Global $MainGUIButtonMaximize = GUICtrlCreatePic($sEmpty,$MinWidth - 68,0,34,34)
			LoadImageResource($MainGUIButtonMaximize,$MainResourcePath & "Maximize1NoActivate.jpg","Maximize1NoActivate")
			GUICtrlSetOnEvent($MainGUIButtonMaximize,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKTOP + $GUI_DOCKSIZE)

		Global $MainGUIButtonMinimize = GUICtrlCreatePic($sEmpty,$MinWidth - 102,0,34,34)
			LoadImageResource($MainGUIButtonMinimize,$MainResourcePath & "MinimizeNoActivate.jpg","MinimizeNoActivate")
			GUICtrlSetOnEvent($MainGUIButtonMinimize,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKTOP + $GUI_DOCKSIZE)

		Global $MainGUIButtonDiscord = GUICtrlCreatePic($sEmpty,$MinWidth - 140,2,38,32)
			LoadImageResource($MainGUIButtonDiscord,$MainResourcePath & "DiscordIconInActive.jpg","DiscordIconInActive")
			GUICtrlSetOnEvent($MainGUIButtonDiscord,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKTOP + $GUI_DOCKSIZE)

		Local $Text = "Discovery"
		If $ProgramState <> $sEmpty Then $Text = $ProgramState

		Global $MainGUILabelProgramState = GUICtrlCreateLabelTransparentBG("("&$Text&" mode)",-1000,17,-1,25,$SS_RIGHT)
			Local $Width = ControlGetPos($MainGUI,$sEmpty,$MainGUILabelProgramState)[2] + 25
			GUICtrlSetPos(-1,$MinWidth - $Width - 144,17,$Width,25)
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetFont(-1,9,Default,Default,$WindowsUIFont)

		Local $Text = "v"&$ProgramVersion
		If $UpdateAvailable Then $Text = "(Update available) v"&$ProgramVersion
		Global $MainGUILabelVersion = GUICtrlCreateLabelTransparentBG($Text,-1000,3,-1,14,$SS_RIGHT)
			Local $Width = ControlGetPos($MainGUI,$sEmpty,$MainGUILabelVersion)[2] + 25
			GUICtrlSetPos(-1,$MinWidth - $Width - 146,3,$Width,14)
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetFont(-1,9,Default,Default,$WindowsUIFont)

	;-MenuRender
	;------------------------------------------------------------------------------
		Global $MainGUIMenuBackground = GUICtrlCreatePic($sEmpty,0,36,50,$MinHeight - 164)
			LoadImageResource($MainGUIMenuBackground,$MainResourcePath & "MenuBG.jpg","MenuBG")
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
			GUICtrlSetState(-1,$GUI_DISABLE)

		Local $Obj = CreateMenuObject("Home")
		Global $HomeIconHover = $Obj[0], $HomeIcon = $Obj[1], $HomeIconSelector = $Obj[2]
			GUICtrlSetState($HomeIconSelector,$GUI_SHOW)

		Local $Obj = CreateMenuObject("Fixes")
		Global $FixesIconHover = $Obj[0], $FixesIcon = $Obj[1], $FixesIconSelector = $Obj[2]
			GUICtrlSetState($FixesIconSelector,$GUI_HIDE)

		Local $Obj = CreateMenuObject("RestoreConfigs")
		Global $RCIconHover = $Obj[0], $RCIcon = $Obj[1], $RCIconSelector = $Obj[2]

		$MenuStartPos = ($MenuStartPos + 2)
		Local $MenuSeperator = GUICtrlCreatePic($sEmpty,0,$MenuStartPos-7,48,2)
			LoadImageResource($MenuSeperator,$MainResourcePath & "MenuSelectorHorizontal.jpg","MenuSelectorHorizontal")
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)

		Local $Obj = CreateMenuObject("Donate")
		Global $DonateIconHover = $Obj[0], $DonateIcon = $Obj[1], $DonateIconSelector = $Obj[2]

		Local $Obj = CreateMenuObject("Changelog")
		Global $ChangelogIconHover = $Obj[0], $ChangelogIcon = $Obj[1], $ChangelogIconSelector = $Obj[2]

		Local $Obj = CreateMenuObject("Copyright")
		Global $CopyrightIconHover = $Obj[0], $CopyrightIcon = $Obj[1], $CopyrightIconSelector = $Obj[2]

		$MenuStartPos = ($MenuStartPos + 2)
		Local $MenuSeperator = GUICtrlCreatePic($sEmpty,0,$MenuStartPos-7,48,2)
			LoadImageResource($MenuSeperator,$MainResourcePath & "MenuSelectorHorizontal.jpg","MenuSelectorHorizontal")
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)

		Local $Obj = CreateMenuObject("Debug")
		Global $DebugIconHover = $Obj[0], $DebugIcon = $Obj[1], $DebugIconSelector = $Obj[2]

	InitGUI() ;- Draw Tab Contents.


	GUICtrlDeleteGIF($SplashScreenGUIAnimationLoop) ;- Destroy the GIF object, handles, and free memory.

	GUIDelete($SplashScreenGUI) ;- Destroy splash screen
	$SplashScreenGUI = NULL

	WinMove($MainGUI,$sEmpty,$ScrW/2 - ($MinWidth/2),$ScrH/2 - ($MinHeight/2))
	GUISetState(@SW_SHOWNOACTIVATE,$MainGUI) ;- Show the MainGUI but don't take focus!


	If $Bool_DisplaySetupError Then
		fSendMetric("error_not_launched_smite_before")
		DisplayErrorMessage("Please make sure to launch the game at least once before using the program!" & @CRLF & @CRLF & "Choosing anything before doing that will cause problems!",$MainGUI,"IMPORTANT!")
	EndIf


	If $sAlert <> $sEmpty Then ;- Display stored alert!
		Local $bShouldDisplay = RegRead("HKCU\Software\SMITE Optimizer\","sLastAlert")

		If $bShouldDisplay <> $sAlert Then ;- Only display if we didn't discard this one already!
			fSendMetric("event_displayed_developer_message")
			DisplayErrorMessage($sAlert,$MainGUI,"Message from the developers!")
			RegWrite("HKCU\Software\SMITE Optimizer\","sLastAlert","REG_SZ",$sAlert)
		EndIf
	EndIf

EndFunc
DrawMainGUI()

Func InitGUI() ;- In this function, we draw every element of the GUI in advance and then hide them afterward, since this makes switching GUI states faster and easier to code.

	;- Hover info help stuff
	;- ----- ----- ----- ----- -----

		Global $MainGUIHomeHelpBackground = GUICtrlCreatePic($sEmpty,-$MinWidth,-$MinHeight,1,1)
			LoadImageResource($MainGUIHomeHelpBackground,$MainResourcePath & "HelpHoverBG.jpg","HelpHoverBG")
			GUICtrlSetState(-1,$GUI_DISABLE)

		Global $HoverInfoGUI = GUICreate($sEmpty,0,0,0,0,$WS_POPUP,$WS_EX_TOOLWINDOW,$MainGUI)

			Global $MainGUIHomeHelpImage = GUICtrlCreatePic($sEmpty,0,0)
				LoadImageResource($MainGUIHomeHelpImage,$MainResourcePath & "HoverMenuBG.jpg","HoverMenuBG")
				GUICtrlSetState(-1,$GUI_DISABLE)


			Global $HoverInfoGUIImageAnimation = NULL

		GUISetState(@SW_SHOWNOACTIVATE,$HoverInfoGUI)

	GUISwitch($MainGUI)

	;- ----- ----- ----- ----- -----

	;-- Home (Config Discovery)
		Global $MainGUIHomeLabelWelcome = GUICtrlCreateLabelTransparentBG("Thank you for choosing the SMITE Optimizer!",152,65,700,30)
			GUICtrlSetResizing(-1,$GUI_DOCKTOP + $GUI_DOCKHCENTER + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
			GUICtrlSetFont(-1,18,500,Default,$MenuFontName)
		Global $MainGUIHomeLabelGetStarted = GUICtrlCreateLabelTransparentBG("Please select the launcher you used to install SMITE on your system.",227,100,700,30)
			GUICtrlSetResizing(-1,$GUI_DOCKTOP + $GUI_DOCKHCENTER + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
		Global $MainGUIHomePicBtnSteam = GUICtrlCreatePic($sEmpty,110,150,300,100)
			LoadImageResource($MainGUIHomePicBtnSteam,$MainResourcePath & "SteamBtnInActive.jpg","SteamBtnInActive")
			GUICtrlSetOnEvent($MainGUIHomePicBtnSteam,"SetupPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKTOP + $GUI_DOCKHCENTER + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
		Global $MainGUIHomePicBtnEGS = GUICtrlCreatePic($sEmpty,450,150,300,100)
			LoadImageResource($MainGUIHomePicBtnEGS,$MainResourcePath & "EGSBtnInActive.jpg","EGSBtnInActive")
			GUICtrlSetOnEvent($MainGUIHomePicBtnEGS,"SetupPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKTOP + $GUI_DOCKHCENTER + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
		Global $MainGUIHomePicBtnLegacy = GUICtrlCreatePic($sEmpty,279,265,300,100)
			LoadImageResource($MainGUIHomePicBtnLegacy,$MainResourcePath & "LegacyBtnInActive.jpg","LegacyBtnInActive")
			GUICtrlSetOnEvent($MainGUIHomePicBtnLegacy,"SetupPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKTOP + $GUI_DOCKHCENTER + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
		Global $MainGUIHomeButtonMoreOptions = GUICtrlCreateButtonSO($MainGUI,"More Options",379,379,100,25)
			GUICtrlSetOnEvent($MainGUIHomeButtonMoreOptions,"SetupPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKTOP + $GUI_DOCKHCENTER + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)

		;- If the standard path does not return any valid configuration files, we want to inform the user that they should launch SMITE at least once before using the program to avoid issues.

			If not ( FileExists(@MyDocumentsDir & "\My Games\Smite\BattleGame\Config\BattleEngine.ini") _
				and FileExists(@MyDocumentsDir & "\My Games\Smite\BattleGame\Config\BattleSystemSettings.ini") _
				and FileExists(@MyDocumentsDir & "\My Games\Smite\BattleGame\Config\BattleGame.ini") ) Then

				;- Thank you, Microsoft. Not.

				If not ( FileExists("C:\Users\"&@UserName&"\OneDrive\Documents\My Games\Smite\BattleGame\Config\BattleEngine.ini") _
					and FileExists("C:\Users\"&@UserName&"\OneDrive\Documents\My Games\Smite\BattleGame\Config\BattleSystemSettings.ini") _
					and FileExists("C:\Users\"&@UserName&"\OneDrive\Documents\My Games\Smite\BattleGame\Config\BattleGame.ini") ) Then

					;- Valid configuration files have not been found in the standard path, so we inform the user!

					$Bool_DisplaySetupError = True ;- This has to happen at a later state

				EndIf
			EndIf


	;-- Home (Simple and Advanced mode)
		Global $MainGUIHomeButtonApply = GUICtrlCreateButtonSO($MainGUI,"Apply changes",696,401,100,35)
			GUICtrlSetOnEvent($MainGUIHomeButtonApply,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
		Global $MainGUIHomeButtonFixConfig = GUICtrlCreateButtonSO($MainGUI,"Verify and repair",696-105,401,100,35)
			GUICtrlSetOnEvent($MainGUIHomeButtonFixConfig,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
		Global $MainGUIHomeSwitchModeSimple = GUICtrlCreateRadio($sEmpty,10,404,13,13)
			DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",0,"wstr",0)
			GUICtrlSetOnEvent($MainGUIHomeSwitchModeSimple,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			If $ProgramHomeState = "Simple" Then GUICtrlSetState(-1,$GUI_CHECKED)
		Global $MainGUIHomeLabelModeSimple = GUICtrlCreateLabelTransparentBG("Simple",27,403,-1,13)
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
		Global $MainGUIHomeSwitchModeAdvanced = GUICtrlCreateRadio($sEmpty,10,422,13,13)
			DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",0,"wstr",0)
			GUICtrlSetOnEvent($MainGUIHomeSwitchModeAdvanced,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			If $ProgramHomeState = "Advanced" Then GUICtrlSetState(-1,$GUI_CHECKED)
		Global $MainGUIHomeLabelModeAdvanced = GUICtrlCreateLabelTransparentBG("Advanced",27,422,-1,13)
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
		Global $MainGUIHomeButtonUseMaxPerformance = GUICtrlCreateButtonSO($MainGUI,"Use high performance settings",157,401,200,35)
			GUICtrlSetOnEvent($MainGUIHomeButtonUseMaxPerformance,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
		Global $MainGUIHomeButtonRestoreDefaults = GUICtrlCreateButtonSO($MainGUI,"Restore default settings",362,401,150,35)
			GUICtrlSetOnEvent($MainGUIHomeButtonRestoreDefaults,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
		Global $MainGUIHomeCheckboxDisplayHints = GUICtrlCreateCheckboxTransparentBG(160,384,13,13)
			GUICtrlSetOnEvent($MainGUIHomeCheckboxDisplayHints,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetState(-1,$ProgramHomeHelpState)
		Global $MainGUIHomeLabelDisplayHints = GUICtrlCreateLabelTransparentBG("Show help",178,384,-1,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)


	;-- Home (Simple mode)

		Internal_ProcessScreenRes() ;- Initialize screen resolutions

		; ----- ----- -----

		Local $TypeOptions = "Best|High|Medium|Low|Very Low|Minimum|Potato|Lowest Possible"
		Local $WindowOptions = "Fullscreen|Borderless Window|Windowed"

		Global $MainGUIHomeSimpleLabelWorldQuality = GUICtrlCreateLabelTransparentBG("World Quality",100,74,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleComboWorldQuality = GUICtrlCreateComboNoTheme($sEmpty,100,88,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$TypeOptions)
		Global $MainGUIHomeSimpleLabelCharacterQuality = GUICtrlCreateLabelTransparentBG("Character Quality",100,114,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleComboCharacterQuality = GUICtrlCreateComboNoTheme($sEmpty,100,128,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$TypeOptions)
		Global $MainGUIHomeSimpleLabelShadowQuality = GUICtrlCreateLabelTransparentBG("Shadow Quality",100,154,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleComboShadowQuality = GUICtrlCreateComboNoTheme($sEmpty,100,168,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$TypeOptions)
		Global $MainGUIHomeSimpleLabelSkyQuality = GUICtrlCreateLabelTransparentBG("Sky Quality",100,194,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleComboSkyQuality = GUICtrlCreateComboNoTheme($sEmpty,100,208,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$TypeOptions)
		Global $MainGUIHomeSimpleLabelEffectsParticleQuality = GUICtrlCreateLabelTransparentBG("Effects Quality",100,234,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleComboEffectsParticleQuality = GUICtrlCreateComboNoTheme($sEmpty,100,248,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$TypeOptions)
		Global $MainGUIHomeSimpleLabelMaxFPS = GUICtrlCreateLabelTransparentBG("Desired FPS (Uncap)",100,274,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleInputMaxFPS = GUICtrlCreateInputSO($sEmpty,100,288,190,21)
			DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",0,"wstr",0)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetLimit(-1,3) ;- Going higher than 999 FPS is not recommended. Ever.
		Global $MainGUIHomeSimpleLabelScreenRes = GUICtrlCreateLabelTransparentBG("Resolution",300,74,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleComboScreenRes = GUICtrlCreateComboNoTheme($sEmpty,300,88,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$AvailableResolutionsStr)
			GUICtrlSetFont(-1,9,Default,Default,$ResCFontName,BitOr(4,5)) ;- Antialiased / Cleartype
		Global $MainGUIHomeSimpleLabelScreenResScale = GUICtrlCreateLabelTransparentBG("Resolution Scale",300,114,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleSliderScreenResScale = GUICtrlCreateSlider(300,128,190,21)
			DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",0,"wstr",0)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetLimit(-1,200,50)
		Global $MainGUIHomeSimpleInputScreenResScale = GUICtrlCreateInputSO($sEmpty,500,128,40,21,$ES_READONLY)
			DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",0,"wstr",0)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleLabelWindowmode = GUICtrlCreateLabelTransparentBG("Window Type",300,154,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleComboWindowmode = GUICtrlCreateComboNoTheme($sEmpty,300,168,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$WindowOptions)
		Global $MainGUIHomeSimpleLabelAntialiasing = GUICtrlCreateLabelTransparentBG("Anti-Aliasing (FXAA)",300,194,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleComboAntialiasing = GUICtrlCreateComboNoTheme($sEmpty,300,208,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,"High|Medium|Low|Off")
		Global $MainGUIHomeSimpleLabelMaxAnisotropy = GUICtrlCreateLabelTransparentBG("Anisotropic Filter Level",300,234,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleComboMaxAnisotropy = GUICtrlCreateComboNoTheme($sEmpty,300,248,190,21,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,"16x|8x|4x|2x|Off")
		Global $MainGUIHomeSimpleLabelDetailMode = GUICtrlCreateLabelTransparentBG("DetailMode",300,274,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleComboDetailMode = GUICtrlCreateComboNoTheme($sEmpty,300,288,190,21,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,"0|1|2")
		Global $MainGUIHomeSimpleCheckboxVSync = GUICtrlCreateCheckboxTransparentBG(595,84,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleLabelVSync = GUICtrlCreateLabelTransparentBG("Use Vertical Synchronisation",613,88,235,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleCheckboxRagdollPhysics = GUICtrlCreateCheckboxTransparentBG(595,104,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleLabelRagdollPhysics = GUICtrlCreateLabelTransparentBG("Use Ragdoll Physics",613,108,235,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleCheckboxDirectX11 = GUICtrlCreateCheckboxTransparentBG(595,124,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleLabelDirectX11 = GUICtrlCreateLabelTransparentBG("Use DirectX11",613,128,235,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)

			GUICtrlSetState($MainGUIHomeSimpleCheckboxDirectX11,$GUI_DISABLE) ;- Has to be force-enabled as of patch 11.4.
			GUICtrlSetState($MainGUIHomeSimpleCheckboxDirectX11,$GUI_CHECKED)

		Global $MainGUIHomeSimpleCheckboxBloom = GUICtrlCreateCheckboxTransparentBG(595,152,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleLabelBloom  = GUICtrlCreateLabelTransparentBG("Bloom",613,156,235,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleCheckboxDecals = GUICtrlCreateCheckboxTransparentBG(595,172,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleLabelDecals  = GUICtrlCreateLabelTransparentBG("Decals",613,176,235,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleCheckboxDynamicLightShadows = GUICtrlCreateCheckboxTransparentBG(595,192,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleLabelDynamicLightShadows = GUICtrlCreateLabelTransparentBG("Dynamic Lights and Shadows",613,196,235,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleCheckboxLensflares = GUICtrlCreateCheckboxTransparentBG(595,212,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleLabelLensflares = GUICtrlCreateLabelTransparentBG("Lensflares",613,216,235,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleCheckboxReflections = GUICtrlCreateCheckboxTransparentBG(595,232,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleLabelReflections = GUICtrlCreateLabelTransparentBG("Reflections",613,236,235,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleCheckboxHighQualityMats = GUICtrlCreateCheckboxTransparentBG(595,252,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeSimpleLabelHighQualityMats = GUICtrlCreateLabelTransparentBG("Uncompressed Textures",613,256,235,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)


	;-- Home (Advanced mode)
		Global $MainGUIHomeAdvancedLabelWorldQuality = GUICtrlCreateLabelTransparentBG("World Quality",55,39,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedComboWorldQuality = GUICtrlCreateComboNoTheme($sEmpty,55,53,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$TypeOptions)
		Global $MainGUIHomeAdvancedLabelCharacterQuality = GUICtrlCreateLabelTransparentBG("Character Quality",55,79,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedComboCharacterQuality = GUICtrlCreateComboNoTheme($sEmpty,55,93,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$TypeOptions)
		Global $MainGUIHomeAdvancedLabelTerrainQuality = GUICtrlCreateLabelTransparentBG("Terrain Quality",55,119,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedComboTerrainQuality = GUICtrlCreateComboNoTheme($sEmpty,55,133,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$TypeOptions)
		Global $MainGUIHomeAdvancedLabelNPCQuality = GUICtrlCreateLabelTransparentBG("NPC Quality",55,159,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedComboNPCQuality = GUICtrlCreateComboNoTheme($sEmpty,55,173,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$TypeOptions)
		Global $MainGUIHomeAdvancedLabelWeaponQuality = GUICtrlCreateLabelTransparentBG("Weapon Quality",55,199,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedComboWeaponQuality = GUICtrlCreateComboNoTheme($sEmpty,55,213,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$TypeOptions)
		Global $MainGUIHomeAdvancedLabelVehicleQuality = GUICtrlCreateLabelTransparentBG("Vehicle Quality",55,239,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedComboVehicleQuality = GUICtrlCreateComboNoTheme($sEmpty,55,253,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$TypeOptions)
		Global $MainGUIHomeAdvancedLabelShadowsQuality = GUICtrlCreateLabelTransparentBG("Shadow Quality",55,279,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedComboShadowsQuality = GUICtrlCreateComboNoTheme($sEmpty,55,293,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$TypeOptions)
		Global $MainGUIHomeAdvancedLabelParticleQualityLevel = GUICtrlCreateLabelTransparentBG("Particle Quality Level",55,319,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedComboParticleQualityLevel = GUICtrlCreateComboNoTheme($sEmpty,55,333,190,21,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,"Best|High|Medium|Low")
		Global $MainGUIHomeAdvancedLabelSkyQuality = GUICtrlCreateLabelTransparentBG("Sky Quality",255,39,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedComboSkyQuality = GUICtrlCreateComboNoTheme($sEmpty,255,53,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$TypeOptions)
		Global $MainGUIHomeAdvancedLabelEffectsParticleQuality = GUICtrlCreateLabelTransparentBG("Effects Quality",255,79,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedComboEffectsParticleQuality = GUICtrlCreateComboNoTheme($sEmpty,255,93,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$TypeOptions)
		Global $MainGUIHomeAdvancedLabelScreenRes = GUICtrlCreateLabelTransparentBG("Resolution",255,119,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedComboScreenRes = GUICtrlCreateComboNoTheme($sEmpty,255,133,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$AvailableResolutionsStr)
			GUICtrlSetFont(-1,9,Default,Default,$ResCFontName,BitOr(4,5)) ;- Antialiased / Cleartype
		Global $MainGUIHomeAdvancedLabelScreenResScale = GUICtrlCreateLabelTransparentBG("Resolution Scale",255,159,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedSliderScreenResScale = GUICtrlCreateSlider(255,173,190,21)
			DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",0,"wstr",0)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetLimit(-1,200,50)
		Global $MainGUIHomeAdvancedInputScreenResScale = GUICtrlCreateInputSO($sEmpty,455,173,40,21,$ES_READONLY)
			DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",0,"wstr",0)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelWindowmode = GUICtrlCreateLabelTransparentBG("Window Type",255,199,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedComboWindowmode = GUICtrlCreateComboNoTheme($sEmpty,255,213,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,$WindowOptions)
		Global $MainGUIHomeAdvancedLabelAntialiasing = GUICtrlCreateLabelTransparentBG("Anti-Aliasing (FXAA)",255,239,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedComboAntialiasing = GUICtrlCreateComboNoTheme($sEmpty,255,253,190,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,"High|Medium|Low|Off")
		Global $MainGUIHomeAdvancedLabelMaxAnisotropy = GUICtrlCreateLabelTransparentBG("Anisotropic Filter Level",255,279,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedComboMaxAnisotropy = GUICtrlCreateComboNoTheme($sEmpty,255,293,190,21,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,"16x|8x|4x|2x|Off")
		Global $MainGUIHomeAdvancedLabelMaxFPS = GUICtrlCreateLabelTransparentBG("Desired FPS (Uncap)",255,319,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedInputMaxFPS = GUICtrlCreateInputSO($sEmpty,255,333,190,21)
			DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",0,"wstr",0)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetLimit(-1,3) ;- Going higher than 999 FPS is not recommended. Ever.
		Global $MainGUIHomeAdvancedCheckboxSpeedTreeWind = GUICtrlCreateCheckboxTransparentBG(455,49,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelSpeedTreeWind = GUICtrlCreateLabelTransparentBG("SpeedTree Wind",473,52,140,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxSpeedTreeLeaves = GUICtrlCreateCheckboxTransparentBG(455,69,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelSpeedTreeLeaves = GUICtrlCreateLabelTransparentBG("SpeedTree Leaves",473,72,140,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxSpeedTreeFronds = GUICtrlCreateCheckboxTransparentBG(455,89,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelSpeedTreeFronds = GUICtrlCreateLabelTransparentBG("SpeedTree Fronds",473,92,140,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelSpeedTreeLODBias = GUICtrlCreateLabelTransparentBG("SpeedTree LOD Bias",455,116,140,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedComboSpeedTreeLODBias = GUICtrlCreateComboNoTheme($sEmpty,455,133,110,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,"0|1|2")
		Global $MainGUIHomeAdvancedLabelDetailMode = GUICtrlCreateLabelTransparentBG("DetailMode",515,163,100,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedComboDetailMode = GUICtrlCreateComboNoTheme($sEmpty,515,179,85,13,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetData(-1,"0|1|2")
		Global $MainGUIHomeAdvancedCheckboxVSync = GUICtrlCreateCheckboxTransparentBG(455,209,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelVSync = GUICtrlCreateLabelTransparentBG("Use Vertical Sync.",473,213,140,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxPhysX = GUICtrlCreateCheckboxTransparentBG(455,229,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelPhysX = GUICtrlCreateLabelTransparentBG("Use Ragdoll Physics",473,233,140,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxDX11 = GUICtrlCreateCheckboxTransparentBG(455,249,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelDX11 = GUICtrlCreateLabelTransparentBG("Use DirectX11",473,253,140,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)

			GUICtrlSetState($MainGUIHomeAdvancedCheckboxDX11,$GUI_DISABLE) ;- Has to be force-enabled as of patch 11.4.
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxDX11,$GUI_CHECKED)

		Global $MainGUIHomeAdvancedCheckboxBloom = GUICtrlCreateCheckboxTransparentBG(455,269,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelBloom = GUICtrlCreateLabelTransparentBG("Bloom",473,273,140,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxLensflares = GUICtrlCreateCheckboxTransparentBG(455,289,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelLensflares = GUICtrlCreateLabelTransparentBG("Lensflares",473,293,140,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxReflections = GUICtrlCreateCheckboxTransparentBG(455,309,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelReflections = GUICtrlCreateLabelTransparentBG("Reflections",473,313,140,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxUncText = GUICtrlCreateCheckboxTransparentBG(455,329,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelUncText = GUICtrlCreateLabelTransparentBG("Uncompressed Textures",473,333,140,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxLightShafts = GUICtrlCreateCheckboxTransparentBG(620,49,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelLightShafts = GUICtrlCreateLabelTransparentBG("Light Shafts",638,53,160,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxFogVolumes = GUICtrlCreateCheckboxTransparentBG(620,69,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelFogVolumes = GUICtrlCreateLabelTransparentBG("Fog Volumes",638,72,160,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxDistortion = GUICtrlCreateCheckboxTransparentBG(620,89,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelDistortion = GUICtrlCreateLabelTransparentBG("Distortion",638,93,160,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxFilteredDistortion = GUICtrlCreateCheckboxTransparentBG(620,109,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelFilteredDistortion = GUICtrlCreateLabelTransparentBG("Filtered Distortion",638,113,160,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxDropShadows = GUICtrlCreateCheckboxTransparentBG(620,129,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelDropShadows = GUICtrlCreateLabelTransparentBG("Drop Shadows",638,133,160,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxWholeSceneShadows = GUICtrlCreateCheckboxTransparentBG(620,149,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelWholeSceneShadows = GUICtrlCreateLabelTransparentBG("Whole Scene Dominant Shadows",638,153,170,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxConservShadowBounds = GUICtrlCreateCheckboxTransparentBG(620,169,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelConservShadowBounds = GUICtrlCreateLabelTransparentBG("Conservative Shadow Bounds",638,173,160,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxLightEnvShadows = GUICtrlCreateCheckboxTransparentBG(620,189,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelLightEnvShadows = GUICtrlCreateLabelTransparentBG("Light Environment Shadows",638,193,160,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxStaticDecals = GUICtrlCreateCheckboxTransparentBG(620,209,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelStaticDecals = GUICtrlCreateLabelTransparentBG("Static Decals",638,213,160,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxDynamicDecals = GUICtrlCreateCheckboxTransparentBG(620,229,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelDynamicDecals = GUICtrlCreateLabelTransparentBG("Dynamic Decals",638,233,160,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxUnbatchedDecals = GUICtrlCreateCheckboxTransparentBG(620,249,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelUnbatchedDecals = GUICtrlCreateLabelTransparentBG("Unbatched Decals",638,253,160,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxDynamicLights = GUICtrlCreateCheckboxTransparentBG(620,269,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelDynamicLights = GUICtrlCreateLabelTransparentBG("Dynamic Lights",638,273,160,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxCompDynamicLights = GUICtrlCreateCheckboxTransparentBG(620,289,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelCompDynamicLights = GUICtrlCreateLabelTransparentBG("Composite Dynamic Lights",638,293,160,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxSHSecondaryLighting = GUICtrlCreateCheckboxTransparentBG(620,309,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelSHSecondaryLighting = GUICtrlCreateLabelTransparentBG("SH Secondary Lighting",638,313,160,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedCheckboxDynamicShadows = GUICtrlCreateCheckboxTransparentBG(620,329,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIHomeAdvancedLabelDynamicShadows = GUICtrlCreateLabelTransparentBG("Dynamic Shadows",638,333,160,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)

		Internal_LoadSettingCookies(False,False,True) ;- Load settings from the cookie. (Simple and Advanced)

		GUICtrlSetData($MainGUIHomeSimpleInputScreenResScale,GUICtrlRead($MainGUIHomeSimpleSliderScreenResScale)&"%") ;- Set the initial percentage.
		GUICtrlSetData($MainGUIHomeAdvancedInputScreenResScale,GUICtrlRead($MainGUIHomeAdvancedSliderScreenResScale)&"%") ;- Set the initial percentage.


	;-- Fixes
		Global $MainGUIFixesLabelMaxFPS = GUICtrlCreateLabelTransparentBG("Desired FPS (Uncap)",80,64,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIFixesInputMaxFPS = GUICtrlCreateInputSO("150",80,78,190,21) ;- Defaults to 150 FPS since it should not store settings in the fixes tab.
			DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",0,"wstr",0)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetLimit(-1,3) ;- Going higher than 999 FPS is not recommended. Ever.

		Global $MainGUIFixesLabelAudioFix = GUICtrlCreateLabelTransparentBG("Audio Channels",80,104,200,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIFixesComboAudioFix = GUICtrlCreateComboNoTheme("32",80,118,190,21,BitOR($CBS_DROPDOWNLIST,$CBS_AUTOHSCROLL))
			GUICtrlSetData(-1,"64|128|256|512")
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)

		Global $MainGUIFixesCheckboxDisableJump = GUICtrlCreateCheckboxTransparentBG(80,154,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIFixesLabelDisableJump = GUICtrlCreateLabelTransparentBG("Disable Jumping",98,158,140,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)

		Global $MainGUIFixesCheckboxDisableFog = GUICtrlCreateCheckboxTransparentBG(80,174,15,21)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIFixesLabelDisableFog = GUICtrlCreateLabelTransparentBG("Disable Fog",98,178,140,13)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKTOP + $GUI_DOCKSIZE)


		Global $MainGUIFixesButtonCreateQuicklaunch = GUICtrlCreateButtonSO($MainGUI,"Create quicklaunch bypass",386,401,150,35)
			GUICtrlSetOnEvent($MainGUIFixesButtonCreateQuicklaunch,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)

		Global $MainGUIFixesButtonInstallLegacy = GUICtrlCreateButtonSO($MainGUI,"Install legacy launcher",541,401,150,35)
			GUICtrlSetOnEvent($MainGUIFixesButtonInstallLegacy,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)

		Global $MainGUIFixesButtonApply = GUICtrlCreateButtonSO($MainGUI,"Apply fixes",696,401,100,35)
			GUICtrlSetOnEvent($MainGUIFixesButtonApply,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)

		Global $MainGUIFixesButtonExportHUD = GUICtrlCreateButtonSO($MainGUI,"Export HUD settings",596,101,150,35)
			GUICtrlSetOnEvent($MainGUIFixesButtonExportHUD,"Internal_ExportSettings")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)

		Global $MainGUIFixesButtonImportHUD = GUICtrlCreateButtonSO($MainGUI,"Import HUD settings",596,141,150,35)
			GUICtrlSetOnEvent($MainGUIFixesButtonImportHUD,"Internal_ImportSettings")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)

		Global $MainGUIFixesButtonRepairEAC = GUICtrlCreateButtonSO($MainGUI,"Repair EasyAntiCheat",386,361,150,35)
			GUICtrlSetOnEvent($MainGUIFixesButtonRepairEAC,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)


		;- Load settings from the cookie

		Local $Int_Settings = RegRead("HKCU\Software\SMITE Optimizer\","ConfigCookieFixes")

		If not @Error Then

			Local $Split = StringSplit($Int_Settings,"|")
				_ArrayDelete($Split,0)

			GUICtrlSetData($MainGUIFixesInputMaxFPS,$Split[0])
			GUICtrlSetData($MainGUIFixesComboAudioFix,$Split[1])
			GUICtrlSetState($MainGUIFixesCheckboxDisableJump,Internal_ConvertMagicNumber($Split[2]))


			If uBound($Split) > 3 Then ;- OldCookieCompat.
				GUICtrlSetState($MainGUIFixesCheckboxDisableFog,Internal_ConvertMagicNumber($Split[3]))
			EndIf

		EndIf


	;-- Restore Configurations
		Global $MainGUIRestoreConfigurationsListFiles = GUICtrlCreateList($sEmpty,57,43,746,239,BitOR($WS_BORDER,$WS_VSCROLL,$LBS_NOINTEGRALHEIGHT))
			DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",0,"wstr",0)
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKRIGHT + $GUI_DOCKBOTTOM)
			Internal_UpdateRestoreConfigList()

		Global $MainGUIRestoreConfigurationsLabelBackupPath = GUICtrlCreateLabelTransparentBG("Backup Path:",5,410,75,13)
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
		Global $MainGUIRestoreConfigurationsInputBackupPath = GUICtrlCreateInputSO($ConfigBackupPath,5,425,700,20,$ES_READONLY)
			DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",0,"wstr",0)
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKHEIGHT)
		Global $MainGUIRestoreConfigurationsButtonChangeBackupPath = GUICtrlCreateButtonSO($MainGUI,"Change..",709,424,97,22)
			GUICtrlSetOnEvent($MainGUIRestoreConfigurationsButtonChangeBackupPath,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
		Global $MainGUIRestoreConfigurationsButtonOpenBackupPath = GUICtrlCreateButtonSO($MainGUI,"Open directory",709,399,97,22)
			GUICtrlSetOnEvent($MainGUIRestoreConfigurationsButtonOpenBackupPath,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
		Global $MainGUIRestoreConfigurationsButtonRestoreSelected = GUICtrlCreateButtonSO($MainGUI,"Restore selected",704,284,100,35)
			GUICtrlSetOnEvent($MainGUIRestoreConfigurationsButtonRestoreSelected,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
		Global $MainGUIRestoreConfigurationsButtonRemoveSelected = GUICtrlCreateButtonSO($MainGUI,"Delete selected",601,284,100,35)
			GUICtrlSetOnEvent($MainGUIRestoreConfigurationsButtonRemoveSelected,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
		Global $MainGUIRestoreConfigurationsButtonRefreshList = GUICtrlCreateButtonSO($MainGUI,"Refresh list",498,284,100,25)
			GUICtrlSetOnEvent($MainGUIRestoreConfigurationsButtonRefreshList,"Internal_UpdateRestoreConfigList")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
		Global $MainGUIRestoreConfigurationsCheckboxAskForConfirmation = GUICtrlCreateCheckboxTransparentBG(610,325,15,15)
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetState(-1,$GUI_CHECKED)
		Global $MainGUIRestoreConfigurationsLabelAskForConfirmation = GUICtrlCreateLabelTransparentBG("Ask to confirm action?",630,326,125,15)
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
		Global $MainGUIRestoreConfigurationsLabelBackupInfo = GUICtrlCreateLabelTransparentBG("Backups of your configuration files are created automagically for you."&@CRLF&"The dates shown are in the following format: DD_MM_YYYY_HH_MM_SS."&@CRLF&"Day, month, year, hour, minute, seconds.",57,283,425,41)
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)


	;-- Donate
		Local $Year = 2024

		;- Tab was replaced with a redirect to https://donate.meteorthelizard.com


	;-- Changelog
		Global $MainGUIChangelogRichEdit = GUICtrlCreateEdit($ChangelogText,55,41,$MinWidth-60,$MinHeight-46,BitOr($ES_READONLY,$WS_VSCROLL))
			DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",0,"wstr",0)
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKRIGHT + $GUI_DOCKBOTTOM)
		Global $MainGUIChangelogButtonViewOnlineBG = GUICtrlCreatePic($sEmpty,2,365,48,40)
			LoadImageResource($MainGUIChangelogButtonViewOnlineBG,$MainResourcePath & "MenuItemBG.jpg","MenuItemBG")
			GUICtrlSetOnEvent($MainGUIChangelogButtonViewOnlineBG,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
		Global $MainGUIChangelogButtonViewOnline = GUICtrlCreatePic($sEmpty,12,370,30,30)
			LoadImageResource($MainGUIChangelogButtonViewOnline,$MainResourcePath & "ChangelogIconInActive.jpg","ChangelogIconInActive")
			GUICtrlSetOnEvent($MainGUIChangelogButtonViewOnline,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetStyle(-1,$WS_EX_TOPMOST)


	;-- Copyright
		Global $MainGUICopyrightAnimatedLogo

		Global $MainGUICopyrightLabelInfo = GUICtrlCreateLabelTransparentBG("A project brought to life by MeteorTheLizard in 2017 and still being maintained in "&$Year&".",88,160,730,18)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKVCENTER + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
			GUICtrlSetFont(-1,12,500,Default,$MenuFontName)
		Global $MainGUICopyrightLabelLicense = GUICtrlCreateLabelTransparentBG('SMITE Optimizer v1.3 and newer are licensed under the "GNU GPL-3.0" License.',195,189,735,18)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKVCENTER + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
			GUICtrlSetFont(-1,9,500,Default,$MenuFontName)
		Global $MainGUICopyrightLabelLicense2 = GUICtrlCreateLabelTransparentBG("Earlier versions than 1.3 may not be copied, shared, modified, or distributed without permission.",143,207,615,18)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKVCENTER + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
			GUICtrlSetFont(-1,9,500,Default,$MenuFontName)
		Global $MainGUICopyrightLabelCopyright = GUICtrlCreateLabelTransparentBG('SMITE Optimizer Version 1.0 - 1.2.2, Copyright (C) 2019 - Mario "Meteor Thuri" Schien.',177,234,600,18)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKVCENTER + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
			GUICtrlSetFont(-1,9,500,Default,$MenuFontName)
		Global $MainGUICopyrightLabelCopyright2 = GUICtrlCreateLabelTransparentBG('SMITE Optimizer Version 1.3 and newer, Copyright (C) '&$Year&' - Mario "Meteor Thuri" Schien.',161,252,600,18)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKVCENTER + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
			GUICtrlSetFont(-1,9,500,Default,$MenuFontName)
		Global $MainGUICopyrightLabelSMITECopyright = GUICtrlCreateLabelTransparentBG("SMITE(R), Battleground of the Gods(TM) Copyright (C) "&$Year&" Hi-Rez Studios, Inc. All rights reserved.",134,270,600,18)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKVCENTER + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
			GUICtrlSetFont(-1,9,500,Default,$MenuFontName)
		Global $MainGUICopyrightLabelLogoCopyright = GUICtrlCreateLabelTransparentBG("Logos used are subject to copyright and were used under the 'Fair Use' agreement.",181,288,600,18)
			GUICtrlSetResizing(-1,$GUI_DOCKHCENTER + $GUI_DOCKVCENTER + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
			GUICtrlSetFont(-1,9,500,Default,$MenuFontName)
		Global $MainGUICopyrightLabelContact = GUICtrlCreateLabelTransparentBG("contact@meteorthelizard.com",103,317,250,20)
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetFont(-1,11,500,Default,$MenuFontName)

		Global $MainGUICopyrightLabelWebsite = GUICtrlCreateLabelTransparentBG("https://www.meteorthelizard.com",103,337,250,20)
			GUICtrlSetOnEvent($MainGUICopyrightLabelWebsite,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetFont(-1,11,500,Default,$MenuFontName)
			GUICtrlSetColor(-1,$cURLColor)
			GUICtrlSetCursor(-1,0)
		Global $MainGUICopyrightPicBGLeft = GUICtrlCreatePic($sEmpty,95,361,224,50)
			LoadImageResource($MainGUICopyrightPicBGLeft,$MainResourcePath & "CopyrightFooterBGLeft.jpg","CopyrightFooterBGLeft")
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetState(-1,$GUI_DISABLE)
		Global $MainGUICopyrightLabelVersionFooter = GUICtrlCreateLabelTransparentBG("SMITE Optimizer Version "&$ProgramVersion,103,362,250,18)
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetFont(-1,11,500,Default,$MenuFontName)
		Global $MainGUICopyrightLabelLicenseLink = GUICtrlCreateLabelTransparentBG("License",102,386,70,23)
			GUICtrlSetOnEvent($MainGUICopyrightLabelLicenseLink,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetColor(-1,$cURLColor)
			GUICtrlSetFont(-1,15,500,Default,$MainFontName)
			GUICtrlSetCursor(-1,0)
		Global $MainGUICopyrightLabelSourceLink = GUICtrlCreateLabelTransparentBG("Source",193,386,65,23)
			GUICtrlSetOnEvent($MainGUICopyrightLabelSourceLink,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetColor(-1,$cURLColor)
			GUICtrlSetFont(-1,15,500,Default,$MainFontName)
			GUICtrlSetCursor(-1,0)
		Global $MainGUICopyrightPicBGRight = GUICtrlCreatePic($sEmpty,368,361,347,50)
			LoadImageResource($MainGUICopyrightPicBGRight,$MainResourcePath & "CopyrightFooterBGRight.jpg","CopyrightFooterBGRight")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetState(-1,$GUI_DISABLE)
		Global $MainGUICopyrightLabelAutoItCopyright = GUICtrlCreateLabelTransparentBG("AutoIt v3 Copyright (C) 2023 AutoIt Consulting Ltd.",373,365,375,18)
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetFont(-1,10,500,Default,$MenuFontName)
		Global $MainGUICopyrightLabelAutoitLicenseLink = GUICtrlCreateLabelTransparentBG("AutoIt v3 License",537,386,170,23)
			GUICtrlSetOnEvent($MainGUICopyrightLabelAutoitLicenseLink,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetColor(-1,$cURLColor)
			GUICtrlSetFont(-1,15,500,Default,$MainFontName)
			GUICtrlSetCursor(-1,0)
		Global $MainGUICopyrightLabelPrivacyPolicy = GUICtrlCreateLabelTransparentBG("Privacy Policy",461,312,100,20)
			GUICtrlSetOnEvent($MainGUICopyrightLabelPrivacyPolicy,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetFont(-1,11,500,Default,$MenuFontName)
			GUICtrlSetColor(-1,$cURLColor)
			GUICtrlSetCursor(-1,0)
		Global $MainGUICopyrightLabelGDPR = GUICtrlCreateLabelTransparentBG("GDPR",578,312,45,20)
			GUICtrlSetOnEvent($MainGUICopyrightLabelGDPR,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetFont(-1,11,500,Default,$MenuFontName)
			GUICtrlSetColor(-1,$cURLColor)
			GUICtrlSetCursor(-1,0)
		Global $MainGUICopyrightLabelWebsiteMetrics = GUICtrlCreateLabelTransparentBG("View SO-Metrics Online",455,338,175,20)
			GUICtrlSetOnEvent($MainGUICopyrightLabelWebsiteMetrics,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetFont(-1,11,500,Default,$MenuFontName)
			GUICtrlSetColor(-1,$cURLColor)
			GUICtrlSetCursor(-1,0)


	;- Debug
		Local $TempN = @AutoItExe
			$TempN = StringSplit($TempN,"\")

		If not IsDeclared("SysInfoRead") Then
			Local $PID = Run("wmic cpu get name /value",$sEmpty,$sEmpty,0x2)
			Global $SysInfoRead

			Do
			  $SysInfoRead &= StdoutRead($PID)
			Until @Error

			$SysInfoRead = StringTrimLeft(StringStripWS($SysInfoRead,3),5)
			Local $objWMIService = ObjGet("winmgmts:\\.\root\CIMV2")
			Global $SysInfoOutput

			Local $colItems = $objWMIService.ExecQuery("SELECT * FROM Win32_DisplayConfiguration","WQL",0x10 + 0x20)
			If IsObj($colItems) Then
			   For $objItem In $colItems
					$SysInfoOutput = $objItem.DeviceName
			   Next
			Endif
		EndIf

		Global $MainGUIDebugPicDebugFooterFooter = GUICtrlCreatePic($sEmpty,60,258,360,181)
			LoadImageResource($MainGUIDebugPicDebugFooterFooter,$MainResourcePath & "DebugFooter.jpg","DebugFooter")
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetState(-1,$GUI_DISABLE)
		Global $MainGUIDebugLabelReportABug = GUICtrlCreateLabelTransparentBG("Report a bug",67,408,120,24)
			GUICtrlSetOnEvent($MainGUIDebugLabelReportABug,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetColor(-1,$cURLColor)
			GUICtrlSetFont(-1,15,500,Default,$MainFontName)
			GUICtrlSetCursor(-1,0)
		Global $MainGUIDebugLabelCreateDebugInfo = GUICtrlCreateLabelTransparentBG("Create debug dump",212,408,178,24)
			GUICtrlSetOnEvent($MainGUIDebugLabelCreateDebugInfo,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
			GUICtrlSetColor(-1,$cURLColor)
			GUICtrlSetFont(-1,15,500,Default,$MainFontName)
			GUICtrlSetCursor(-1,0)
		Global $MainGUIDebugEditSystemInfo = GUICtrlCreateEdit($TempN[uBound($TempN)-1]&" PID("&@AutoItPID&")"&@CRLF&@UserName&" | ( "&@OSVersion&" "&@OSArch&" )"&@CRLF&"CPU: "&$SysInfoRead&@CRLF&regRead("HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\Environment","NUMBER_OF_PROCESSORS")&" Thread(s) @ "&RegRead("HKEY_LOCAL_MACHINE\HARDWARE\DESCRIPTION\System\CentralProcessor\0", "~MHz")&" MHz | Architecture: "&@CPUArch&@CRLF&"RAM: "&Floor((MemGetStats()[1]/1000000))&" GB | ( "&Round((MemGetStats()[1]/1000000),2)&" GB )"&@CRLF&"GPU: "&$SysInfoOutput&@CRLF&"Mainboard: "&regRead("HKEY_LOCAL_MACHINE\HARDWARE\DESCRIPTION\System\BIOS","BaseBoardManufacturer")&" | "&regRead("HKEY_LOCAL_MACHINE\HARDWARE\DESCRIPTION\System\BIOS","BaseBoardProduct")& @CRLF &"Last BIOS update: "&regRead("HKEY_LOCAL_MACHINE\HARDWARE\DESCRIPTION\System\BIOS","BIOSReleaseDate"),67,261,400,144,BitOr($ES_READONLY,$ES_WANTRETURN),0)
			DllCall("UxTheme.dll","int","SetWindowTheme","hwnd",GUICtrlGetHandle(-1),"wstr",0,"wstr",0)
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKHEIGHT)

		Local $DebugEngineSettingsPath = RegRead("HKCU\Software\SMITE Optimizer\","ConfigPathEngine")
		If @Error Then $DebugEngineSettingsPath = "Not yet defined"
		Global $MainGUIDebugLabelEngineSettings = GUICtrlCreateLabelTransparentBG("EngineSettings: "&$DebugEngineSettingsPath,55,40,750,40)
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetFont(-1,9,Default,Default,$WindowsUIFont)

		Local $DebugSystemSettingsPath = RegRead("HKCU\Software\SMITE Optimizer\","ConfigPathSystem")
		If @Error Then $DebugSystemSettingsPath = "Not yet defined"
		Global $MainGUIDebugLabelSystemSettings = GUICtrlCreateLabelTransparentBG("SystemSettings: "&$DebugSystemSettingsPath,55,80,750,35)
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetFont(-1,9,Default,Default,$WindowsUIFont)

		Local $DebugGameSettingsPath = RegRead("HKCU\Software\SMITE Optimizer\","ConfigPathGame")
		If @Error Then $DebugGameSettingsPath = "Not yet defined"
		Global $MainGUIDebugLabelGameSettings = GUICtrlCreateLabelTransparentBG("GameSettings: "&$DebugGameSettingsPath,55,120,750,35)
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetFont(-1,9,Default,Default,$WindowsUIFont)

		Local $DebugConfigBackupPath = $ConfigBackupPath
		If $ConfigBackupPath = $sEmpty Then $DebugConfigBackupPath = "Not yet defined"
		Global $MainGUIDebugLabelConfigBackupPath = GUICtrlCreateLabelTransparentBG("Backup Path: "&$DebugConfigBackupPath,55,160,750,35)
			GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetFont(-1,9,Default,Default,$WindowsUIFont)


		Global $MainGUIDebugButtonCommonIssues = GUICtrlCreateButtonSO($MainGUI,"Common issues",646,300,130,25)
			GUICtrlSetOnEvent($MainGUIDebugButtonCommonIssues,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKBOTTOM + $GUI_DOCKRIGHT + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)

		Global $MainGUIDebugButtonResetConfigPaths = GUICtrlCreateButtonSO($MainGUI,"Reset configuration paths",626,401,170,35)
			GUICtrlSetOnEvent($MainGUIDebugButtonResetConfigPaths,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKBOTTOM + $GUI_DOCKRIGHT + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
		Global $MainGUIDebugCheckboxCheckForUpdates = GUICtrlCreateCheckboxTransparentBG(627,383,13,13)
			GUICtrlSetOnEvent($MainGUIDebugCheckboxCheckForUpdates,"ButtonPressLogic")
			GUICtrlSetResizing(-1,$GUI_DOCKBOTTOM + $GUI_DOCKRIGHT + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)
			If $CheckForUpdates = "1" Then GUICtrlSetState($MainGUIDebugCheckboxCheckForUpdates,$GUI_CHECKED)
		Global $MainGUIDebugLabelCheckForUpdates = GUICtrlCreateLabelTransparentBG("Automatic updates",646,383,150,13)
			GUICtrlSetResizing(-1,$GUI_DOCKBOTTOM + $GUI_DOCKRIGHT + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)


		;- If there is an update available, we want to display an extra button!
		Global $MainGUIDebugButtonPerformUpdate = NULL

		If $UpdateAvailable Then

			fSendMetric("event_automaticupdates_aredisabled")

			$MainGUIDebugButtonPerformUpdate = GUICtrlCreateButtonSO($MainGUI,"Perform Update",514,401,100,35)
				GUICtrlSetOnEvent($MainGUIDebugButtonPerformUpdate,"ButtonPressLogic")
				GUICtrlSetResizing(-1,$GUI_DOCKBOTTOM + $GUI_DOCKRIGHT + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT)

		EndIf

	;- ----- ----- ----- ----- -----

	If $SettingsPath = $sEmpty or $SystemSettingsPath = $sEmpty or $ProgramState = $sEmpty Then
		$MainGUIHomeDiscoveryDrawn = True
		UnDrawMainGUIHome()
	Else
		UnDrawMainGUIHomeConfigDiscovery()
	EndIf

	UnDrawMainGUIFixes(True)
	UnDrawMainGUIRestoreConfigs()
	UnDrawMainGUIChangelog()
	UnDrawMainGUICopyright()
	UnDrawMainGUIDebug()

	If $ProgramHomeState = "Simple" Then
		UnDrawMainGUIHomeAdvanced()
	ElseIf $ProgramHomeState = "Advanced" Then
		UnDrawMainGUIHomeSimple()
	EndIf

	;- Hover information popup
		Global $MenuHoverGUI = GUICreate("SO_HOVERGUI",100,50,100,50,$WS_POPUP,$WS_EX_TOOLWINDOW)
			GUISwitch($MenuHoverGUI)
			GUISetBkColor(0x525252,$MenuHoverGUI)

		Global $MainGUIMenuHoverText = GUICtrlCreateLabelTransparentBG($sEmpty,-90,-42,90,42)
			GUICtrlSetFont(-1,25,500,0,$MenuFontName)
			GUICtrlSetColor(-1,$cTextShadowColor)

		Global $MainGUIMenuHoverDBan = GUICtrlCreatePic($sEmpty,0,0,300,80)
			LoadImageResource($MainGUIMenuHoverDBan,$MainResourcePath & "DonateBanner.jpg","DonateBanner")
			GUICtrlSetState(-1,$GUI_HIDE)

		GUISetState(@SW_HIDE,$MenuHoverGUI)

		GUISwitch($MainGUI)

EndFunc

#Region ;- Draw / UnDraw Functions (used to show elements and switch GUI states)
	Func DrawMainGUIHomeConfigDiscovery()
		GUICtrlSetState($MainGUIHomeLabelWelcome,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeLabelGetStarted,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomePicBtnSteam,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomePicBtnEGS,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomePicBtnLegacy,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeButtonMoreOptions,$GUI_SHOW)

		$MainGUIHomeDiscoveryDrawn = True
	EndFunc
	Func UnDrawMainGUIHomeConfigDiscovery()
		GUICtrlSetState($MainGUIHomeLabelWelcome,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeLabelGetStarted,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomePicBtnSteam,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomePicBtnEGS,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomePicBtnLegacy,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeButtonMoreOptions,$GUI_HIDE)

		$MainGUIHomeDiscoveryDrawn = False
	EndFunc

	Func DrawMainGUIHome()
		GUICtrlSetState($MainGUIHomeButtonApply,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeButtonFixConfig,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSwitchModeSimple,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeLabelModeSimple,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSwitchModeAdvanced,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeLabelModeAdvanced,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeButtonUseMaxPerformance,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeButtonRestoreDefaults,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeCheckboxDisplayHints,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeLabelDisplayHints,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeHelpBackground,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeHelpImage,$GUI_SHOW)

		If $ProgramHomeState = "Simple" Then
			DrawMainGUIHomeSimple()
		ElseIf $ProgramHomeState = "Advanced" Then
			DrawMainGUIHomeAdvanced()
		EndIf
	EndFunc
	Func UnDrawMainGUIHome()
		GUICtrlSetState($MainGUIHomeButtonApply,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeButtonFixConfig,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSwitchModeSimple,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeLabelModeSimple,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSwitchModeAdvanced,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeLabelModeAdvanced,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeButtonUseMaxPerformance,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeButtonRestoreDefaults,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeCheckboxDisplayHints,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeLabelDisplayHints,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeHelpBackground,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeHelpImage,$GUI_HIDE)

		;- Reset help popup.
		GUICtrlSetPos($MainGUIHomeHelpBackground,-$MinWidth,-$MinHeight,1,1)
		$HoverBGDrawn = False
		WinMove($HoverInfoGUI,$sEmpty,-$ScrW*2,-$ScrH*2,0,0)
		$HoverImageDrawn = False

		If $ProgramHomeState = "Simple" Then
			UnDrawMainGUIHomeSimple()
		ElseIf $ProgramHomeState = "Advanced" Then
			UnDrawMainGUIHomeAdvanced()
		EndIf
	EndFunc

	Func DrawMainGUIHomeSimple()
		GUICtrlSetState($MainGUIHomeSimpleLabelWorldQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleComboWorldQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelCharacterQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleComboCharacterQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelShadowQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleComboShadowQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelSkyQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleComboSkyQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelEffectsParticleQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleComboEffectsParticleQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelScreenRes,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleComboScreenRes,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelWindowmode,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleComboWindowmode,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelScreenResScale,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleSliderScreenResScale,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleInputScreenResScale,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelMaxFPS,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleInputMaxFPS,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelAntialiasing,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleComboAntialiasing,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelMaxAnisotropy,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleComboMaxAnisotropy,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelDetailMode,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleComboDetailMode,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxVSync,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelVSync,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxRagdollPhysics,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelRagdollPhysics,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxDirectX11,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelDirectX11,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxBloom,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelBloom,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxDecals,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelDecals,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxDynamicLightShadows,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelDynamicLightShadows,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxLensflares,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelLensflares,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxReflections,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelReflections,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxHighQualityMats,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeSimpleLabelHighQualityMats,$GUI_SHOW)
	EndFunc
	Func UnDrawMainGUIHomeSimple()
		GUICtrlSetState($MainGUIHomeSimpleLabelWorldQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleComboWorldQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelCharacterQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleComboCharacterQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelShadowQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleComboShadowQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelSkyQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleComboSkyQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelEffectsParticleQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleComboEffectsParticleQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelScreenRes,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleComboScreenRes,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelWindowmode,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleComboWindowmode,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelScreenResScale,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleSliderScreenResScale,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleInputScreenResScale,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelMaxFPS,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleInputMaxFPS,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelAntialiasing,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleComboAntialiasing,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelMaxAnisotropy,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleComboMaxAnisotropy,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelDetailMode,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleComboDetailMode,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxVSync,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelVSync,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxRagdollPhysics,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelRagdollPhysics,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxDirectX11,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelDirectX11,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxBloom,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelBloom,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxDecals,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelDecals,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxDynamicLightShadows,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelDynamicLightShadows,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxLensflares,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelLensflares,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxReflections,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelReflections,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleCheckboxHighQualityMats,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeSimpleLabelHighQualityMats,$GUI_HIDE)
	EndFunc

	Func DrawMainGUIHomeAdvanced()
		GUICtrlSetState($MainGUIHomeAdvancedLabelWorldQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedComboWorldQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelCharacterQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedComboCharacterQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelTerrainQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedComboTerrainQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelNPCQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedComboNPCQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelWeaponQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedComboWeaponQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelVehicleQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedComboVehicleQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelShadowsQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedComboShadowsQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelParticleQualityLevel,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedComboParticleQualityLevel,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelSkyQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedComboSkyQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelEffectsParticleQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedComboEffectsParticleQuality,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelScreenRes,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedComboScreenRes,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelScreenResScale,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedSliderScreenResScale,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedInputScreenResScale,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelWindowmode,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedComboWindowmode,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelAntialiasing,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedComboAntialiasing,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelMaxAnisotropy,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedComboMaxAnisotropy,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelMaxFPS,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedInputMaxFPS,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxSpeedTreeWind,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelSpeedTreeWind,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxSpeedTreeLeaves,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelSpeedTreeLeaves,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxSpeedTreeFronds,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelSpeedTreeFronds,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelSpeedTreeLODBias,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedComboSpeedTreeLODBias,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelDetailMode,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedComboDetailMode,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxVSync,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelVSync,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxPhysX,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelPhysX,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxDX11,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelDX11,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxBloom,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelBloom,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxLensflares,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelLensflares,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxReflections,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelReflections,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxUncText,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelUncText,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxLightEnvShadows,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelLightEnvShadows,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxLightShafts,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelLightShafts,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxFogVolumes,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelFogVolumes,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxDistortion,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelDistortion,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxFilteredDistortion,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelFilteredDistortion,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxDropShadows,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelDropShadows,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxWholeSceneShadows,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelWholeSceneShadows,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxConservShadowBounds,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelConservShadowBounds,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxStaticDecals,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelStaticDecals,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxDynamicDecals,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelDynamicDecals,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxUnbatchedDecals,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelUnbatchedDecals,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxDynamicLights,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelDynamicLights,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxCompDynamicLights,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelCompDynamicLights,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxSHSecondaryLighting,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelSHSecondaryLighting,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxDynamicShadows,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeAdvancedLabelDynamicShadows,$GUI_SHOW)
	EndFunc
	Func UnDrawMainGUIHomeAdvanced()
		GUICtrlSetState($MainGUIHomeAdvancedLabelWorldQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedComboWorldQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelCharacterQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedComboCharacterQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelTerrainQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedComboTerrainQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelNPCQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedComboNPCQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelWeaponQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedComboWeaponQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelVehicleQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedComboVehicleQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelShadowsQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedComboShadowsQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelParticleQualityLevel,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedComboParticleQualityLevel,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelSkyQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedComboSkyQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelEffectsParticleQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedComboEffectsParticleQuality,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelScreenRes,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedComboScreenRes,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelScreenResScale,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedSliderScreenResScale,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedInputScreenResScale,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelWindowmode,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedComboWindowmode,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelAntialiasing,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedComboAntialiasing,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelMaxAnisotropy,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedComboMaxAnisotropy,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelMaxFPS,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedInputMaxFPS,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxSpeedTreeWind,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelSpeedTreeWind,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxSpeedTreeLeaves,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelSpeedTreeLeaves,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxSpeedTreeFronds,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelSpeedTreeFronds,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelSpeedTreeLODBias,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedComboSpeedTreeLODBias,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelDetailMode,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedComboDetailMode,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxVSync,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelVSync,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxPhysX,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelPhysX,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxDX11,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelDX11,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxBloom,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelBloom,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxLensflares,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelLensflares,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxReflections,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelReflections,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxUncText,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelUncText,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxLightEnvShadows,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelLightEnvShadows,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxLightShafts,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelLightShafts,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxFogVolumes,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelFogVolumes,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxDistortion,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelDistortion,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxFilteredDistortion,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelFilteredDistortion,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxDropShadows,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelDropShadows,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxWholeSceneShadows,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelWholeSceneShadows,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxConservShadowBounds,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelConservShadowBounds,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxStaticDecals,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelStaticDecals,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxDynamicDecals,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelDynamicDecals,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxUnbatchedDecals,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelUnbatchedDecals,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxDynamicLights,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelDynamicLights,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxCompDynamicLights,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelCompDynamicLights,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxSHSecondaryLighting,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelSHSecondaryLighting,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedCheckboxDynamicShadows,$GUI_HIDE)
		GUICtrlSetState($MainGUIHomeAdvancedLabelDynamicShadows,$GUI_HIDE)
	EndFunc

	Func DrawMainGUIFixes()
		GUICtrlSetState($MainGUIFixesLabelMaxFPS,$GUI_SHOW)
		GUICtrlSetState($MainGUIFixesInputMaxFPS,$GUI_SHOW)
		GUICtrlSetState($MainGUIFixesLabelAudioFix,$GUI_SHOW)
		GUICtrlSetState($MainGUIFixesComboAudioFix,$GUI_SHOW)
		GUICtrlSetState($MainGUIFixesCheckboxDisableJump,$GUI_SHOW)
		GUICtrlSetState($MainGUIFixesLabelDisableJump,$GUI_SHOW)
		GUICtrlSetState($MainGUIFixesCheckboxDisableFog,$GUI_SHOW)
		GUICtrlSetState($MainGUIFixesLabelDisableFog,$GUI_SHOW)
		GUICtrlSetState($MainGUIFixesButtonCreateQuicklaunch,$GUI_SHOW)
		GUICtrlSetState($MainGUIFixesButtonInstallLegacy,$GUI_SHOW)
		GUICtrlSetState($MainGUIFixesButtonApply,$GUI_SHOW)
		GUICtrlSetState($MainGUIFixesButtonImportHUD,$GUI_SHOW)
		GUICtrlSetState($MainGUIFixesButtonExportHUD,$GUI_SHOW)
		GUICtrlSetState($MainGUIFixesButtonRepairEAC,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeCheckboxDisplayHints,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeLabelDisplayHints,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeHelpBackground,$GUI_SHOW)
		GUICtrlSetState($MainGUIHomeHelpImage,$GUI_SHOW)
	EndFunc
	Func UnDrawMainGUIFixes($bBool = False)
		GUICtrlSetState($MainGUIFixesLabelMaxFPS,$GUI_HIDE)
		GUICtrlSetState($MainGUIFixesInputMaxFPS,$GUI_HIDE)
		GUICtrlSetState($MainGUIFixesLabelAudioFix,$GUI_HIDE)
		GUICtrlSetState($MainGUIFixesComboAudioFix,$GUI_HIDE)
		GUICtrlSetState($MainGUIFixesCheckboxDisableJump,$GUI_HIDE)
		GUICtrlSetState($MainGUIFixesLabelDisableJump,$GUI_HIDE)
		GUICtrlSetState($MainGUIFixesCheckboxDisableFog,$GUI_HIDE)
		GUICtrlSetState($MainGUIFixesLabelDisableFog,$GUI_HIDE)
		GUICtrlSetState($MainGUIFixesButtonCreateQuicklaunch,$GUI_HIDE)
		GUICtrlSetState($MainGUIFixesButtonInstallLegacy,$GUI_HIDE)
		GUICtrlSetState($MainGUIFixesButtonApply,$GUI_HIDE)
		GUICtrlSetState($MainGUIFixesButtonImportHUD,$GUI_HIDE)
		GUICtrlSetState($MainGUIFixesButtonExportHUD,$GUI_HIDE)
		GUICtrlSetState($MainGUIFixesButtonRepairEAC,$GUI_HIDE)

		;- We use hints in these tabs, so force them to be displayed!
		If not $bBool Then
			GUICtrlSetState($MainGUIHomeCheckboxDisplayHints,$GUI_HIDE)
			GUICtrlSetState($MainGUIHomeLabelDisplayHints,$GUI_HIDE)
			GUICtrlSetState($MainGUIHomeHelpBackground,$GUI_HIDE)
			GUICtrlSetState($MainGUIHomeHelpImage,$GUI_HIDE)
		EndIf
	EndFunc

	Func DrawMainGUIRestoreConfigs()
		GUICtrlSetState($MainGUIRestoreConfigurationsListFiles,$GUI_SHOW)
		GUICtrlSetState($MainGUIRestoreConfigurationsLabelBackupPath,$GUI_SHOW)
		GUICtrlSetState($MainGUIRestoreConfigurationsInputBackupPath,$GUI_SHOW)
		GUICtrlSetState($MainGUIRestoreConfigurationsButtonChangeBackupPath,$GUI_SHOW)
		GUICtrlSetState($MainGUIRestoreConfigurationsButtonOpenBackupPath,$GUI_SHOW)
		GUICtrlSetState($MainGUIRestoreConfigurationsButtonRestoreSelected,$GUI_SHOW)
		GUICtrlSetState($MainGUIRestoreConfigurationsButtonRemoveSelected,$GUI_SHOW)
		GUICtrlSetState($MainGUIRestoreConfigurationsButtonRefreshList,$GUI_SHOW)
		GUICtrlSetState($MainGUIRestoreConfigurationsCheckboxAskForConfirmation,$GUI_SHOW)
		GUICtrlSetState($MainGUIRestoreConfigurationsLabelAskForConfirmation,$GUI_SHOW)
		GUICtrlSetState($MainGUIRestoreConfigurationsLabelBackupInfo,$GUI_SHOW)

		GUICtrlSetState($MainGUIRestoreConfigurationsCheckboxAskForConfirmation,$GUI_CHECKED) ;- We want to make sure this is always checked, unless they really don't want that.
	EndFunc
	Func UnDrawMainGUIRestoreConfigs()
		GUICtrlSetState($MainGUIRestoreConfigurationsListFiles,$GUI_HIDE)
		GUICtrlSetState($MainGUIRestoreConfigurationsLabelBackupPath,$GUI_HIDE)
		GUICtrlSetState($MainGUIRestoreConfigurationsInputBackupPath,$GUI_HIDE)
		GUICtrlSetState($MainGUIRestoreConfigurationsButtonChangeBackupPath,$GUI_HIDE)
		GUICtrlSetState($MainGUIRestoreConfigurationsButtonOpenBackupPath,$GUI_HIDE)
		GUICtrlSetState($MainGUIRestoreConfigurationsButtonRestoreSelected,$GUI_HIDE)
		GUICtrlSetState($MainGUIRestoreConfigurationsButtonRemoveSelected,$GUI_HIDE)
		GUICtrlSetState($MainGUIRestoreConfigurationsButtonRefreshList,$GUI_HIDE)
		GUICtrlSetState($MainGUIRestoreConfigurationsCheckboxAskForConfirmation,$GUI_HIDE)
		GUICtrlSetState($MainGUIRestoreConfigurationsLabelAskForConfirmation,$GUI_HIDE)
		GUICtrlSetState($MainGUIRestoreConfigurationsLabelBackupInfo,$GUI_HIDE)
	EndFunc

	Func DrawMainGUIChangelog()
		ControlFocus($MainGUI,$sEmpty,$MainGUIChangelogRichEdit)
		GUICtrlSetState($MainGUIChangelogRichEdit,$GUI_SHOW)
		GUICtrlSetState($MainGUIChangelogButtonViewOnlineBG,$GUI_SHOW)
		GUICtrlSetState($MainGUIChangelogButtonViewOnline,$GUI_SHOW)
	EndFunc
	Func UnDrawMainGUIChangelog()
		GUICtrlSetState($MainGUIChangelogRichEdit,$GUI_HIDE)
		GUICtrlSetState($MainGUIChangelogButtonViewOnlineBG,$GUI_HIDE)
		GUICtrlSetState($MainGUIChangelogButtonViewOnline,$GUI_HIDE)
	EndFunc

	Func DrawMainGUICopyright()

		GUISwitch($MainGUI)

		Local $iGIFID, $aRet

		If @Compiled Then
			$aRet = GUICtrlCreateGIF( _Resource_GetAsImage("SO_LoopGIF") ,130,50,600,100,90,10,True)
		Else
			$aRet = GUICtrlCreateGIF($MainResourcePath & "Splash_Loop.gif",130,50,600,100,90,10)
		EndIf

			$MainGUICopyrightAnimatedLogo = $aRet[0]
			$MainGUICopyrightAnimatedLogoID = $aRet[1]

			$__g_GIFExtended_aStoreCache[$MainGUICopyrightAnimatedLogoID][13] = $iCurrentFrameCopyrightGIF ;- Restore last frame

			GUICtrlSetResizing(-1,$GUI_DOCKTOP + $GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKRIGHT + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT) ;- All flags = It doesn't move!
			GUICtrlSetState(-1,$GUI_DISABLE)

		GUICtrlSetState($MainGUICopyrightLabelInfo,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightLabelLicense,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightLabelLicense2,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightLabelCopyright,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightLabelCopyright2,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightLabelSMITECopyright,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightLabelLogoCopyright,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightLabelContact,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightLabelWebsite,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightPicBGLeft,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightLabelVersionFooter,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightLabelLicenseLink,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightLabelSourceLink,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightPicBGRight,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightLabelAutoItCopyright,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightLabelAutoitLicenseLink,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightLabelPrivacyPolicy,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightLabelGDPR,$GUI_SHOW)
		GUICtrlSetState($MainGUICopyrightLabelWebsiteMetrics,$GUI_SHOW)
	EndFunc
	Func UnDrawMainGUICopyright()

		$iCurrentFrameCopyrightGIF = $__g_GIFExtended_aStoreCache[$MainGUICopyrightAnimatedLogoID][13] ;- Store current frame

		GUICtrlDeleteGIF($MainGUICopyrightAnimatedLogo)

		GUICtrlSetState($MainGUICopyrightLabelInfo,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightLabelLicense,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightLabelLicense2,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightLabelCopyright,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightLabelCopyright2,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightLabelSMITECopyright,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightLabelLogoCopyright,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightLabelContact,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightLabelWebsite,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightPicBGLeft,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightLabelVersionFooter,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightLabelLicenseLink,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightLabelSourceLink,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightPicBGRight,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightLabelAutoItCopyright,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightLabelAutoitLicenseLink,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightLabelPrivacyPolicy,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightLabelGDPR,$GUI_HIDE)
		GUICtrlSetState($MainGUICopyrightLabelWebsiteMetrics,$GUI_HIDE)
	EndFunc

	Func DrawMainGUIDebug()
		GUICtrlSetState($MainGUIDebugLabelEngineSettings,$GUI_SHOW)
		GUICtrlSetState($MainGUIDebugLabelSystemSettings,$GUI_SHOW)
		GUICtrlSetState($MainGUIDebugLabelGameSettings,$GUI_SHOW)
		GUICtrlSetState($MainGUIDebugLabelConfigBackupPath,$GUI_SHOW)
		GUICtrlSetState($MainGUIDebugEditSystemInfo,$GUI_SHOW)
		GUICtrlSetState($MainGUIDebugButtonCommonIssues,$GUI_SHOW)
		GUICtrlSetState($MainGUIDebugButtonResetConfigPaths,$GUI_SHOW)
		GUICtrlSetState($MainGUIDebugCheckboxCheckForUpdates,$GUI_SHOW)
		GUICtrlSetState($MainGUIDebugLabelCheckForUpdates,$GUI_SHOW)
		GUICtrlSetState($MainGUIDebugLabelReportABug,$GUI_SHOW)
		GUICtrlSetState($MainGUIDebugLabelCreateDebugInfo,$GUI_SHOW)
		GUICtrlSetState($MainGUIDebugPicDebugFooterFooter,$GUI_SHOW)

		If $MainGUIDebugButtonPerformUpdate <> NULL Then GUICtrlSetState($MainGUIDebugButtonPerformUpdate,$GUI_SHOW)
	EndFunc
	Func UnDrawMainGUIDebug()
		GUICtrlSetState($MainGUIDebugLabelEngineSettings,$GUI_HIDE)
		GUICtrlSetState($MainGUIDebugLabelSystemSettings,$GUI_HIDE)
		GUICtrlSetState($MainGUIDebugLabelGameSettings,$GUI_HIDE)
		GUICtrlSetState($MainGUIDebugLabelConfigBackupPath,$GUI_HIDE)
		GUICtrlSetState($MainGUIDebugEditSystemInfo,$GUI_HIDE)
		GUICtrlSetState($MainGUIDebugButtonCommonIssues,$GUI_HIDE)
		GUICtrlSetState($MainGUIDebugButtonResetConfigPaths,$GUI_HIDE)
		GUICtrlSetState($MainGUIDebugCheckboxCheckForUpdates,$GUI_HIDE)
		GUICtrlSetState($MainGUIDebugLabelCheckForUpdates,$GUI_HIDE)
		GUICtrlSetState($MainGUIDebugLabelReportABug,$GUI_HIDE)
		GUICtrlSetState($MainGUIDebugLabelCreateDebugInfo,$GUI_HIDE)
		GUICtrlSetState($MainGUIDebugPicDebugFooterFooter,$GUI_HIDE)

		If $MainGUIDebugButtonPerformUpdate <> NULL Then GUICtrlSetState($MainGUIDebugButtonPerformUpdate,$GUI_HIDE)
	EndFunc
#EndRegion
#Region ;- Internal Functions

	Global $LastMenu = "Home"
	Func ToggleMenuState($State) ;- Used to handle the menu button presses.

		If $HoverBGDrawn Then ;- Undraw the hover help popup when changing menus.
			GUICtrlSetPos($MainGUIHomeHelpBackground,-$MinWidth,-$MinHeight,1,1)
			$HoverBGDrawn = False
		ElseIf $HoverImageDrawn Then
			WinMove($HoverInfoGUI,$sEmpty,-$ScrW*2,-$ScrH*2,0,0)
			$HoverImageDrawn = False
		EndIf

		If $LastMenu = "Home" Then
			GUICtrlSetState($HomeIconSelector,$GUI_HIDE)
			UnDrawMainGUIHomeConfigDiscovery()
			UnDrawMainGUIHome()
		ElseIf $LastMenu = "Fixes" Then
			GUICtrlSetState($FixesIconSelector,$GUI_HIDE)
			UnDrawMainGUIFixes()
		ElseIf $LastMenu = "RestoreConfigs" Then
			GUICtrlSetState($RCIconSelector,$GUI_HIDE)
			UnDrawMainGUIRestoreConfigs()
		ElseIf $LastMenu = "Donate" Then
			GUICtrlSetState($DonateIconSelector,$GUI_HIDE)
			UnDrawMainGUIDonate()
		ElseIf $LastMenu = "Changelog" Then
			GUICtrlSetState($ChangelogIconSelector,$GUI_HIDE)
			UnDrawMainGUIChangelog()
		ElseIf $LastMenu = "Copyright" Then
			GUICtrlSetState($CopyrightIconSelector,$GUI_HIDE)
			UnDrawMainGUICopyright()
		ElseIf $LastMenu = "Debug" Then
			GUICtrlSetState($DebugIconSelector,$GUI_HIDE)
			UnDrawMainGUIDebug()
		EndIf

		Switch $State
			Case "Home"
				GUICtrlSetState($HomeIconSelector,$GUI_SHOW)
				If $SettingsPath = $sEmpty or $SystemSettingsPath = $sEmpty or $GameSettingsPath = $sEmpty or $ProgramState = $sEmpty Then
					DrawMainGUIHomeConfigDiscovery()
				Else
					DrawMainGUIHome()
				EndIf

				$LastMenu = "Home"
			Case "Fixes"
				GUICtrlSetState($FixesIconSelector,$GUI_SHOW)
				DrawMainGUIFixes()

				$LastMenu = "Fixes"

			Case "RestoreConfigs"
				GUICtrlSetState($RCIconSelector,$GUI_SHOW)
				DrawMainGUIRestoreConfigs()

				$LastMenu = "RestoreConfigs"

			Case "Donate"
				GUICtrlSetState($DonateIconSelector,$GUI_SHOW)
				DrawMainGUIDonate()

				$LastMenu = "Donate"

			Case "Changelog"
				GUICtrlSetState($ChangelogIconSelector,$GUI_SHOW)
				DrawMainGUIChangelog()

				$LastMenu = "Changelog"

			Case "Copyright"
				GUICtrlSetState($CopyrightIconSelector,$GUI_SHOW)
				DrawMainGUICopyright()

				$LastMenu = "Copyright"

			Case "Debug"
				GUICtrlSetState($DebugIconSelector,$GUI_SHOW)
				DrawMainGUIDebug()

				$LastMenu = "Debug"
		EndSwitch
	EndFunc

	Func MenuHoverState($Text,$PosY,$SizeX,$TPosY) ;- Used in the menu to make modern text popups.

		Local $aWinPos = WinGetPos($MainGUI)

			If $Text <> "DBan" Then
				WinMove($MenuHoverGUI,$sEmpty,$aWinPos[0] + 50,$aWinPos[1] + $PosY,$SizeX,40)
			Else
				WinMove($MenuHoverGUI,$sEmpty,$aWinPos[0] + 50,$aWinPos[1] + $PosY,$SizeX,80)
			EndIf

		GUISetState(@SW_SHOWNOACTIVATE,$MenuHoverGUI)

		_WinAPI_SetWindowPos($MenuHoverGUI,$HWND_TOPMOST,0,0,0,0,BitOR($SWP_NOACTIVATE,$SWP_NOMOVE,$SWP_NOSIZE)) ;- Bring the window to the front, but don't take focus!
		_WinAPI_SetWindowPos($MenuHoverGUI,$HWND_NOTOPMOST,0,0,0,0,BitOR($SWP_NOACTIVATE,$SWP_NOMOVE,$SWP_NOSIZE))


		If $Text <> "DBan" Then
			GUICtrlSetState($MainGUIMenuHoverDBan,$GUI_HIDE)

			GUICtrlSetData($MainGUIMenuHoverText,$Text)

			GUICtrlSetColor($MainGUIMenuHoverText,$cTextColor)
			GUICtrlSetPos($MainGUIMenuHoverText,7,0,$SizeX,40)
		Else
			GUICtrlSetState($MainGUIMenuHoverDBan,$GUI_SHOW)

			GUICtrlSetData($MainGUIMenuHoverText,$sEmpty)

			GUICtrlSetColor($MainGUIMenuHoverText,0x00)
			GUICtrlSetPos($MainGUIMenuHoverText,-1000,0,0,0)
		EndIf

		$MenuPopupState = True
	EndFunc

	Func UndoMenuHoverState() ;- Used in the menu to undo the modern text popup that was recently created.
		GUISetState(@SW_HIDE,$MenuHoverGUI)

		;- This is still required.
		GUICtrlSetPos($MainGUIMenuHoverText,-$ScrW*2,-$ScrH*2)
		GUICtrlSetData($MainGUIMenuHoverText,$sEmpty)
		GUICtrlSetState($MainGUIMenuHoverDBan,$GUI_HIDE)

		$MenuPopupState = False
	EndFunc

	Func HideErrorMessage() ;- This function is called whenever the user clicks an error message to make it disappear!
		If $NotificationGUI <> NULL Then
			GUIDelete($NotificationGUI)
			$NotificationGUI = NULL

			If $GUIMoreOptions <> NULL Then
				GUISetState(@SW_ENABLE,$GUIMoreOptions)
			Else
				GUISetState(@SW_ENABLE,$MainGUI)
				WinActivate($MainGUI)
			EndIf
		EndIf
	EndFunc

	Func DisplayErrorMessage($Message,$Parent = $MainGUI,$Header = "ERROR!") ;- Creates a new temporary GUI to display an error message, only going away when clicked.
		HideErrorMessage()

		_WinAPI_SetWindowPos($MainGUI,$HWND_TOPMOST,0,0,0,0,BitOR($SWP_NOACTIVATE,$SWP_NOMOVE,$SWP_NOSIZE))
		_WinAPI_SetWindowPos($MainGUI,$HWND_NOTOPMOST,0,0,0,0,BitOR($SWP_NOACTIVATE,$SWP_NOMOVE,$SWP_NOSIZE))

		If $GUIMoreOptions <> NULL Then
			_WinAPI_SetWindowPos($GUIMoreOptions,$HWND_TOPMOST,0,0,0,0,BitOR($SWP_NOACTIVATE,$SWP_NOMOVE,$SWP_NOSIZE))
			_WinAPI_SetWindowPos($GUIMoreOptions,$HWND_NOTOPMOST,0,0,0,0,BitOR($SWP_NOACTIVATE,$SWP_NOMOVE,$SWP_NOSIZE))
		EndIf

		GUISetState(@SW_DISABLE,$Parent)
		Local $WinPos = WinGetPos($Parent)

		Global $NotificationGUI = GUICreate("SO_NOTIFICATION_GUI",400,150,$WinPos[0] + ($WinPos[2]/2)-200,$WinPos[1] + ($WinPos[3]/2)-75,$WS_POPUP,$WS_EX_TOOLWINDOW)
			GUISetBkColor($cBackgroundColor)

			Local $NotificationGUIBG = GUICtrlCreatePic($sEmpty,0,0,400,150)
				LoadImageResource($NotificationGUIBG,$MainResourcePath & "NotificationBG.jpg","NotificationBG")
				GUICtrlSetOnEvent($NotificationGUIBG,"HideErrorMessage")
			Local $NotificationGUILabelMessage = GUICtrlCreateLabelTransparentBG($Header&@CRLF&@CRLF&$Message,5,3,390,140)
				GUICtrlSetOnEvent($NotificationGUILabelMessage,"HideErrorMessage")
				GUICtrlSetFont(-1,10,Default,Default,$MenuFontName)
			Local $NotificationGUILabelDismiss = GUICtrlCreateLabelTransparentBG("Click to dismiss",5,132,390,13)
				GUICtrlSetOnEvent($NotificationGUILabelDismiss,"HideErrorMessage")
				GUICtrlSetFont(-1,10,Default,Default,$MenuFontName)

		GUISetState(@SW_SHOW,$NotificationGUI)
		GUISwitch($Parent)

		If @OSVersion = "WIN_XP" or @OSVersion = "WIN_XPe" Then _Resource_LoadSound("WIN_XP",0)
		If @OSVersion = "WIN_VISTA" or @OSVersion = "WIN_7" or @OSVersion = "WIN_8" or @OSVersion = "WIN_81" Then _Resource_LoadSound("ErrorWIN_7_8",0)
		If @OSVersion = "WIN_10" Then _Resource_LoadSound("ErrorWIN_10",0)
		If @OSVersion = "WIN_11" Then _Resource_LoadSound("ErrorWIN_11",0)
	EndFunc

	Func ReturnToMainGUI() ;- Internal function used inside the SetupPressLogic function.
		GUISwitch($MainGUI)
		_GUI_DragAndResizeUpdate($MainGUI,$MinWidth,$MinHeight)

		GUIDelete($GUIMoreOptions)
		$GUIMoreOptions = NULL

		GUISetState(@SW_ENABLE,$MainGUI)
		WinActivate($MainGUI)
	EndFunc

	Func GetDriveLetters() ;- Internal function used inside the SetupPressLogic function.
		Local $Temp = DriveGetDrive("fixed")
			_ArrayDelete($Temp,0)

		Local $Ret[0]

		For $I = 0 To uBound($Temp) -1 Step 1
			ReDim $Ret[uBound($Ret)+1]
			$Ret[$I] = StringUpper(StringLeft($Temp[$I],1))
		Next

		Return $Ret
	EndFunc

	Func FixCopyrightGIFPosition() ;- Internal function used to fix issues with the GIF object in the copyright tab.
		If IsDeclared("LastMenu") and $LastMenu = "Copyright" Then

			GUISwitch($MainGUI)

			Local $Temp = GUICtrlCreatePic($sEmpty,130,50,99999,100) ;- Jank way to clear drawing.
				LoadImageResource($Temp,$MainResourcePath & "MenuItemBG.jpg","MenuItemBG")
			GUICtrlSetResizing(-1,$GUI_DOCKTOP + $GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKRIGHT + $GUI_DOCKWIDTH + $GUI_DOCKHEIGHT) ;- All flags = It doesn't move!


			Local $aPos = WinGetClientSize($MainGUI)

			GUICtrlSetPos($MainGUICopyrightAnimatedLogo,$aPos[0] / 2 - 275,50,600,100)


			GUICtrlDelete($Temp)

		EndIf
	EndFunc

	Func VerifyAndStoreConfigPath($State,$PathSettings,$PathSystemSettings,$PathGameSettings) ;- Internal function used inside the SetupPressLogic function.
		If FileExists($PathSettings) and FileExists($PathSystemSettings) and FileExists($PathGameSettings) Then
			RegWrite("HKCU\Software\SMITE Optimizer\","ConfigProgramState","REG_SZ",$State)
			RegWrite("HKCU\Software\SMITE Optimizer\","ConfigPathEngine","REG_SZ",$PathSettings)
			RegWrite("HKCU\Software\SMITE Optimizer\","ConfigPathSystem","REG_SZ",$PathSystemSettings)
			RegWrite("HKCU\Software\SMITE Optimizer\","ConfigPathGame","REG_SZ",$PathGameSettings)

			Return True
		EndIf

		Return False
	EndFunc

	Func SetupPressLogic() ;- The SetupPressLogic function handles button presses from the configuration discovery.

		Local $sDefaultEnginePath = @MyDocumentsDir & "\My Games\Smite\BattleGame\Config\BattleEngine.ini"
		Local $sDefaultSystemPath = @MyDocumentsDir & "\My Games\Smite\BattleGame\Config\BattleSystemSettings.ini"
		Local $sDefaultGamePath = @MyDocumentsDir & "\My Games\Smite\BattleGame\Config\BattleGame.ini"

		Local $sDefaultEnginePathOneDrive = "C:\Users\" & @UserName & "\OneDrive\Documents\My Games\Smite\BattleGame\Config\BattleEngine.ini"
		Local $sDefaultSystemPathOneDrive = "C:\Users\" & @UserName & "\OneDrive\Documents\My Games\Smite\BattleGame\Config\BattleSystemSettings.ini"
		Local $sDefaultGamePathOneDrive = "C:\Users\" & @UserName & "\OneDrive\Documents\My Games\Smite\BattleGame\Config\BattleGame.ini"


		Local $Found = False


		;- Since we no longer need a fallback, all buttons essentially do the same now. Though it is still useful to know what "mode" the program is in.
		;- Also this is a mess, maybe do some cleanup at one point?

		Switch @GUI_CtrlId
			Case $MainGUIHomePicBtnSteam ;- Steam button.
				$Found = VerifyAndStoreConfigPath("Steam",$sDefaultEnginePath,$sDefaultSystemPath,$sDefaultGamePath)

				If not $Found Then
					$Found = VerifyAndStoreConfigPath("Steam",$sDefaultEnginePathOneDrive,$sDefaultSystemPathOneDrive,$sDefaultGamePathOneDrive)

					If $Found Then
						DisplayErrorMessage("Config files are located in " & '"/OneDrive/"' & " settings may not apply correctly! For more information, check 'Common Issues' in the debug tab!",$MainGUI,"Warning!")
					Else
						DisplayErrorMessage("Could not find configuration files!")
					EndIf
				EndIf

			Case $MainGUIHomePicBtnEGS ;- Epic Games Store button.
				$Found = VerifyAndStoreConfigPath("Epic Games Store",$sDefaultEnginePath,$sDefaultSystemPath,$sDefaultGamePath)

				If not $Found Then
					$Found = VerifyAndStoreConfigPath("Epic Games Store",$sDefaultEnginePathOneDrive,$sDefaultSystemPathOneDrive,$sDefaultGamePathOneDrive)

					If $Found Then
						DisplayErrorMessage("Config files are located in " & '"/OneDrive/"' & " settings may not apply correctly! For more information, check 'Common Issues' in the debug tab!",$MainGUI,"Warning!")
					Else
						DisplayErrorMessage("Could not find configuration files!")
					EndIf
				EndIf

			Case $MainGUIHomePicBtnLegacy ;- Legacy button.
				$Found = VerifyAndStoreConfigPath("Legacy",$sDefaultEnginePath,$sDefaultSystemPath,$sDefaultGamePath)

				If not $Found Then
					$Found = VerifyAndStoreConfigPath("Legacy",$sDefaultEnginePathOneDrive,$sDefaultSystemPathOneDrive,$sDefaultGamePathOneDrive)

					If $Found Then
						DisplayErrorMessage("Config files are located in " & '"/OneDrive/"' & " settings may not apply correctly! For more information, check 'Common Issues' in the debug tab!",$MainGUI,"Warning!")
					Else
						DisplayErrorMessage("Could not find configuration files!")
					EndIf
				EndIf

			Case $MainGUIHomeButtonMoreOptions ;- More options button.
				If $GUIMoreOptions <> NULL Then GUIDelete($GUIMoreOptions)
				GUISetState(@SW_DISABLE,$MainGUI)

				Local $WinPos = WinGetPos($MainGUI)

				Global $GUIMoreOptions = GUICreate("SO_MOREOPTIONS",600,300,$WinPos[0] + ($WinPos[2]/2)-300,$WinPos[1] + ($WinPos[3]/2)-150,BitOR($WS_MINIMIZEBOX,$WS_MAXIMIZEBOX,$WS_POPUP),$WS_EX_TOOLWINDOW)
					GUISwitch($GUIMoreOptions)

					_GUI_EnableDrag($GUIMoreOptions,600,300)
					GUISetBkColor($cBackgroundColor)

					GUICtrlSetDefColor($cTextColor,$GUIMoreOptions)
					GUICtrlSetDefBkColor($cBackgroundColor,$GUIMoreOptions)

					Local $Pic = GUICtrlCreatePic($sEmpty,0,34,600,266)
						LoadImageResource($Pic,$MainResourcePath & "MoreOptionsBG.jpg","MoreOptionsBG")
						GUICtrlSetResizing(-1,$GUI_DOCKBORDERS)
						GUICtrlSetState(-1,$GUI_DISABLE)

					Local $Pic = GUICtrlCreatePic($sEmpty,18,9,16,16)
						LoadImageResource($Pic,$MainResourcePath & "\SMITEOptimizerIcon.jpg","SMITEOptimizerIcon")
						GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
					GUICtrlCreateLabelTransparentBG("More Options",50,9,75,15)
						GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
						GUICtrlSetFont(-1,9,Default,Default,$MainFontName)

					Local $GUIMoreOptionsClose = GUICtrlCreatePic($sEmpty,566,0,34,34)
						LoadImageResource($GUIMoreOptionsClose,$MainResourcePath & "CloseNoActivate.jpg","CloseNoActivate")
					Local $GUIMoreOptionsASearch = GUICtrlCreatePic($sEmpty,34,112,250,110)
						LoadImageResource($GUIMoreOptionsASearch,$MainResourcePath & "ASearchBtnInActive.jpg","ASearchBtnInActive")
					Local $GUIMoreOptionsMSearch = GUICtrlCreatePic($sEmpty,316,112,250,110)
						LoadImageResource($GUIMoreOptionsMSearch,$MainResourcePath & "MSearchBtnInActive.jpg","MSearchBtnInActive")

				GUISetState(@SW_SHOW,$GUIMoreOptions)

				Local $CloseState = False
				Local $ASearchState = False
				Local $MSearchState = False

				While True
					Local $CursorInfo = GUIGetCursorInfo($GUIMoreOptions)

					If (WinGetTitle("[active]") = "SO_MOREOPTIONS" or WinGetTitle("[active]") = "SO_NOTIFICATION_GUI") and @Error = 0 Then
						If $NotificationGUI <> NULL Then
							If _IsPressed("01") Then ;- MouseClick (Left)
								GUIDelete($NotificationGUI)
								$NotificationGUI = NULL

								GUISetState(@SW_ENABLE,$GUIMoreOptions)
								_WinAPI_SetWindowPos($MainGUI,$HWND_TOPMOST,0,0,0,0,BitOR($SWP_NOACTIVATE,$SWP_NOMOVE,$SWP_NOSIZE))
								_WinAPI_SetWindowPos($MainGUI,$HWND_NOTOPMOST,0,0,0,0,BitOR($SWP_NOACTIVATE,$SWP_NOMOVE,$SWP_NOSIZE))
								WinActivate($GUIMoreOptions)
							EndIf
						Else
							If _IsPressed("1B") Then ;- Allow the user to exit the UI by pressing the escape key.
								ReturnToMainGUI()
								ExitLoop(1)
							EndIf

							Switch $CursorInfo[4]
								Case $GUIMoreOptionsClose ;- Close "x" button.
									If not $CloseState Then
										LoadImageResource($GUIMoreOptionsClose,$MainResourcePath & "CloseActivate.jpg","CloseActivate")
										$CloseState = True

										If $ASearchState Then
											LoadImageResource($GUIMoreOptionsASearch,$MainResourcePath & "ASearchBtnInActive.jpg","ASearchBtnInActive")
											$ASearchState = False
										ElseIf $MSearchState Then
											LoadImageResource($GUIMoreOptionsMSearch,$MainResourcePath & "MSearchBtnInActive.jpg","MSearchBtnInActive")
											$MSearchState = False
										EndIf
									EndIf

									If _IsPressed("01") Then ;- MouseClick (Left)
										ReturnToMainGUI()
										ExitLoop
									EndIf
								Case $GUIMoreOptionsASearch ;- Automatic search button.
									If not $ASearchState Then
										LoadImageResource($GUIMoreOptionsASearch,$MainResourcePath & "ASearchBtnActive.jpg","ASearchBtnActive")
										$ASearchState = True

										If $CloseState Then
											LoadImageResource($GUIMoreOptionsClose,$MainResourcePath & "CloseNoActivate.jpg","CloseNoActivate")
											$CloseState = False
										ElseIf $MSearchState Then
											LoadImageResource($GUIMoreOptionsMSearch,$MainResourcePath & "MSearchBtnInActive.jpg","MSearchBtnInActive")
											$MSearchState = False
										EndIf
									EndIf

									If _IsPressed("01") Then ;- MouseClick (Left)
										GUIDelete($GUIMoreOptions)
										WinActivate($MainGUI)

										Local $WinPos = WinGetPos($MainGUI)

										$GUIMoreOptions = GUICreate("SO_SCANFILES",400,250,$WinPos[0] + ($WinPos[2]/2)-200,$WinPos[1] + ($WinPos[3]/2)-125,BitOR($WS_MINIMIZEBOX,$WS_MAXIMIZEBOX,$WS_POPUP),$WS_EX_TOOLWINDOW)
											GUISwitch($GUIMoreOptions)

											GUISetBkColor($cBackgroundColor)

											GUICtrlSetDefColor($cTextColor,$GUIMoreOptions)
											GUICtrlSetDefBkColor($cBackgroundColor,$GUIMoreOptions)

											Local $Pic = GUICtrlCreatePic($sEmpty,0,34,400,216)
												LoadImageResource($Pic,$MainResourcePath & "ScanFilesBG.jpg","ScanFilesBG")
												GUICtrlSetResizing(-1,$GUI_DOCKBORDERS)
												GUICtrlSetState(-1,$GUI_DISABLE)

											Local $Pic = GUICtrlCreatePic($sEmpty,18,9,16,16)
												LoadImageResource($Pic,$MainResourcePath & "SMITEOptimizerIcon.jpg","SMITEOptimizerIcon")
												GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
											GUICtrlCreateLabelTransparentBG("Automatic search",50,9,100,15)
												GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
												GUICtrlSetFont(-1,9,Default,Default,$MainFontName)

											Local $GUIMoreOptionsLabelScanState = GUICtrlCreateLabelTransparentBG($sEmpty,99,124,400,50)
												GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
												GUICtrlSetFont(-1,20,Default,Default,$MainFontName)

											Local $GUIMoreOptionsClose = GUICtrlCreatePic($sEmpty,366,0,34,34)
												LoadImageResource($GUIMoreOptionsClose,$MainResourcePath & "CloseNoActivate.jpg","CloseNoActivate")

										GUISetState(@SW_SHOW,$GUIMoreOptions)

										Local $FixedDrives = GetDriveLetters()
										Local $CloseState = False
										Local $ScanState = False
										Local $DriveIndex = 0
										Global $IndexerPID = 0

										While True
											Local $CursorInfo = GUIGetCursorInfo($GUIMoreOptions)

											If WinGetTitle("[active]") = "SO_SCANFILES" and @Error = 0 Then
												If _IsPressed("1B") Then ;- Allow the user to exit the UI by pressing the escape key.
													ReturnToMainGUI()
													ExitLoop(2)
												EndIf

												Switch $CursorInfo[4]
													Case $GUIMoreOptionsClose
														If not $CloseState Then
															LoadImageResource($GUIMoreOptionsClose,$MainResourcePath & "CloseActivate.jpg","CloseActivate")
															$CloseState = True
														EndIf

														If _IsPressed("01") Then ;- MouseClick (Left)
															If IsDeclared("IndexerPID") and $IndexerPID <> 0 Then
																ProcessClose($IndexerPID) ;- Close batch script.
																If FileExists(@TempDir & "\SO_Index.bat") Then FileDelete(@TempDir & "\SO_Index.bat")
																If FileExists(@TempDir & "\SO_Index.txt") Then FileDelete(@TempDir & "\SO_Index.txt")

																ReturnToMainGUI()
																ExitLoop(2)
															Else
																ReturnToMainGUI()
																ExitLoop(2)
															EndIf
														EndIf

													Case Else
														If $CloseState Then
															LoadImageResource($GUIMoreOptionsClose,$MainResourcePath & "CloseNoActivate.jpg","CloseNoActivate")
															$CloseState = False
														EndIf

												EndSwitch

												Sleep(10)
											Else
												If WinGetTitle("[active]") = $ProgramName Then WinActivate($GUIMoreOptions)

												Sleep(100)
											EndIf

											If not $ScanState Then
												GUICtrlSetPos($GUIMoreOptionsLabelScanState,82,124,400,50)
												GUICtrlSetData($GUIMoreOptionsLabelScanState,"Indexing drive "&$FixedDrives[$DriveIndex]&":\")

												If FileExists(@TempDir & "\SO_Index.bat") Then FileDelete(@TempDir & "\SO_Index.bat")
												If FileExists(@TempDir & "\SO_Index.txt") Then FileDelete(@TempDir & "\SO_Index.txt")

												;- We are offloading the indexing to a batch script running the "dir" command with the exact settings we need to easily process the list.
												;- This is a lot faster than indexing a whole drive using AutoIt since AutoIt is limited to one CPU core and extremely slow in general.
												;- Compared to the way I did this before, this is at least 10 times faster.

												FileWrite(@TempDir & "\SO_Index.bat","CHCP 65001"&@CRLF&"@echo off"&@CRLF&"Cls"&@CRLF&$FixedDrives[$DriveIndex]&":"&@CRLF&"cd.."&@CRLF&"dir /s /b /a:-d /o:n > "&@TempDir&"\SO_Index.txt")
												If not FileExists(@TempDir & "\SO_Index.bat") Then
													fSendMetric("error_autosearch_nobat")
													ReturnToMainGUI()
													DisplayErrorMessage("Failed to write index batch file!")
													ExitLoop(2)
												EndIf

												$IndexerPID = Run(@TempDir & "\SO_Index.bat",$sEmpty,@SW_HIDE)

												If @Error <> 0 Then
													fSendMetric("error_autosearch_run")
													ReturnToMainGUI()
													DisplayErrorMessage("An error occurred when attempting to run the index function.")
													ExitLoop(2)
												EndIf

												$ScanState = True
											ElseIf not ProcessExists($IndexerPID) Then
												GUICtrlSetPos($GUIMoreOptionsLabelScanState,11,124,400,50)
												GUICtrlSetData($GUIMoreOptionsLabelScanState,"Processing index of drive "&$FixedDrives[$DriveIndex]&":\")

												If not FileExists(@TempDir&"\SO_Index.txt") Then
													fSendMetric("error_autosearch_read")
													ReturnToMainGUI()
													DisplayErrorMessage("Failed to read index output!")
													ExitLoop(2)
												EndIf

												$DriveIndex = $DriveIndex + 1

												If $DriveIndex > uBound($FixedDrives)-1 Then
													fSendMetric("error_autosearch_nofiles")
													ReturnToMainGUI()
													DisplayErrorMessage("Could not find any configuration files on your system.")
													ExitLoop(2)
												EndIf

												Local $File = FileReadToArray(@TempDir & "\SO_Index.txt")
												If @Error <> 0 Then
													fSendMetric("error_autosearch_readindex")
													ReturnToMainGUI()
													DisplayErrorMessage("Failed to read index output!")
													ExitLoop(2)
												EndIf


												Local $SettingsEnginePath, $SettingsSystemPath, $SettingsGamePath

												For $I = 0 To uBound($File) - 1 Step 1
													If StringRight($File[$I],16) = "BattleEngine.ini" Then
														$SettingsEnginePath = $File[$I]
													ElseIf StringRight($File[$I],24) = "BattleSystemSettings.ini" Then
														$SettingsSystemPath = $File[$I]
													ElseIf StringRight($File[$I],14) = "BattleGame.ini" Then
														$SettingsGamePath = $File[$I]
													EndIf

													If $SettingsEnginePath <> $sEmpty and $SettingsSystemPath <> $sEmpty and $SettingsGamePath <> $sEmpty Then ExitLoop
												Next

												If $SettingsEnginePath <> $sEmpty and $SettingsSystemPath <> $sEmpty and $SettingsGamePath <> $sEmpty Then ;- The automatic search has found all three files, so we finish up and continue.
													fSendMetric("event_autosearch_success")

													RegWrite("HKCU\Software\SMITE Optimizer\","ConfigProgramState","REG_SZ","Custom Files")
													RegWrite("HKCU\Software\SMITE Optimizer\","ConfigPathEngine","REG_SZ",$SettingsEnginePath)
													RegWrite("HKCU\Software\SMITE Optimizer\","ConfigPathSystem","REG_SZ",$SettingsSystemPath)
													RegWrite("HKCU\Software\SMITE Optimizer\","ConfigPathGame","REG_SZ",$SettingsGamePath)

													If FileExists(@TempDir & "\SO_Index.bat") Then FileDelete(@TempDir & "\SO_Index.bat")
													If FileExists(@TempDir & "\SO_Index.txt") Then FileDelete(@TempDir & "\SO_Index.txt")

													$Found = True
													ReturnToMainGUI()
													ExitLoop(2)
												EndIf

												$ScanState = False
											EndIf
										WEnd
									EndIf
								Case $GUIMoreOptionsMSearch ;- Manual search button.
									If not $MSearchState Then
										LoadImageResource($GUIMoreOptionsMSearch,$MainResourcePath & "MSearchBtnActive.jpg","MSearchBtnActive")
										$MSearchState = True

										If $CloseState Then
											LoadImageResource($GUIMoreOptionsClose,$MainResourcePath & "CloseNoActivate.jpg","CloseNoActivate")
											$CloseState = False
										ElseIf $ASearchState Then
											LoadImageResource($GUIMoreOptionsASearch,$MainResourcePath & "ASearchBtnInActive.jpg","ASearchBtnInActive")
											$ASearchState = False
										EndIf
									EndIf

									If _IsPressed("01") Then ;- MouseClick (Left)
										Local $FileSettings = FileOpenDialog("Please select BattleEngine.ini","C:\Users\" & @UserName & "\Documents\My Games\SMITE\BattleGame\Config","INI Files (*.ini)",BitOr($FD_FILEMUSTEXIST,$FD_PATHMUSTEXIST),"BattleEngine.ini")

										If @Error = 0 Then ;- Check whether the user picked the right engine settings file.
											If StringLower(StringRight($FileSettings,16)) <> "battleengine.ini" Then
												LoadImageResource($GUIMoreOptionsMSearch,$MainResourcePath & "MSearchBtnInActive.jpg","MSearchBtnInActive")
												$MSearchState = False
												DisplayErrorMessage("Invalid file selected!",$GUIMoreOptions)
											Else
												Local $FileSystemSettings = FileOpenDialog("Please select BattleSystemSettings.ini","C:\Users\" & @UserName & "\Documents\My Games\SMITE\BattleGame\Config","INI Files (*.ini)",BitOr($FD_FILEMUSTEXIST,$FD_PATHMUSTEXIST),"BattleSystemSettings.ini")

												If @Error = 0 Then ;- Check whether the user picked the right system settings file.
													If StringLower(StringRight($FileSystemSettings,24)) <> "battlesystemsettings.ini" Then
														LoadImageResource($GUIMoreOptionsMSearch,$MainResourcePath & "MSearchBtnInActive.jpg","MSearchBtnInActive")
														$MSearchState = False
														DisplayErrorMessage("Invalid file selected!",$GUIMoreOptions)
													Else
														Local $FileGameSettings = FileOpenDialog("Please select BattleGame.ini","C:\Users\" & @UserName & "\Documents\My Games\SMITE\BattleGame\Config","INI Files (*.ini)",BitOr($FD_FILEMUSTEXIST,$FD_PATHMUSTEXIST),"BattleGame.ini")

														If @Error = 0 Then ;- Check whether the user picked the right game settings file.
															If StringLower(StringRight($FileGameSettings,14)) <> "battlegame.ini" Then
																LoadImageResource($GUIMoreOptionsMSearch,$MainResourcePath & "MSearchBtnInActive.jpg","MSearchBtnInActive")
																$MSearchState = False
																DisplayErrorMessage("Invalid file selected!",$GUIMoreOptions)
															Else ;- When all three files were accepted, we close the MoreOptionsGUI and continue!
																$Found = True

																RegWrite("HKCU\Software\SMITE Optimizer\","ConfigProgramState","REG_SZ","Custom Files")
																RegWrite("HKCU\Software\SMITE Optimizer\","ConfigPathEngine","REG_SZ",$FileSettings)
																RegWrite("HKCU\Software\SMITE Optimizer\","ConfigPathSystem","REG_SZ",$FileSystemSettings)
																RegWrite("HKCU\Software\SMITE Optimizer\","ConfigPathGame","REG_SZ",$FileGameSettings)

																ReturnToMainGUI()
																ExitLoop
															EndIf
														EndIf
													EndIf
												EndIf
											EndIf
										EndIf
									EndIf
								Case Else ;- Hover effects
									If $CloseState Then
										LoadImageResource($GUIMoreOptionsClose,$MainResourcePath & "CloseNoActivate.jpg","CloseNoActivate")
										$CloseState = False
									ElseIf $ASearchState Then
										LoadImageResource($GUIMoreOptionsASearch,$MainResourcePath & "ASearchBtnInActive.jpg","ASearchBtnInActive")
										$ASearchState = False
									ElseIf $MSearchState Then
										LoadImageResource($GUIMoreOptionsMSearch,$MainResourcePath & "MSearchBtnInActive.jpg","MSearchBtnInActive")
										$MSearchState = False
									EndIf
							EndSwitch
						EndIf

						Sleep(10)
					Else
						If WinGetTitle("[active]") = $ProgramName Then WinActivate($GUIMoreOptions)

						Sleep(100)
					EndIf
				WEnd
		EndSwitch

		If not $Found Then Return ;- Only run the code below if the files were found successfully.

		fSendMetric("event_configfiles_foundsuccess")

		$ProgramState = RegRead("HKCU\Software\SMITE Optimizer\","ConfigProgramState")
		$SettingsPath = RegRead("HKCU\Software\SMITE Optimizer\","ConfigPathEngine")
		$SystemSettingsPath = RegRead("HKCU\Software\SMITE Optimizer\","ConfigPathSystem")
		$GameSettingsPath = RegRead("HKCU\Software\SMITE Optimizer\","ConfigPathGame")

		Local $Text = "Discovery"
		If $ProgramState <> $sEmpty Then $Text = $ProgramState

		Local $WinWidth = WinGetPos($MainGUI)[2]


		GUISwitch($MainGUI) ;- Fix one-time crash.
		GUICtrlDelete($MainGUILabelProgramState) ;- Fix position and size.
		Global $MainGUILabelProgramState = GUICtrlCreateLabelTransparentBG("("&$Text&" mode)",-1000,17,-1,25,$SS_RIGHT)
			Local $Width = ControlGetPos($MainGUI,$sEmpty,$MainGUILabelProgramState)[2] + 25
			GUICtrlSetPos(-1,$MinWidth - $Width - 144,17,$Width,25)
			GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
			GUICtrlSetFont(-1,9,Default,Default,$WindowsUIFont)


		Local $Text = "Discovery"
		If $ProgramState <> $sEmpty Then $Text = $ProgramState

		;- Update debug menu
		GUICtrlSetData($MainGUIDebugLabelEngineSettings,"EngineSettings: "&$SettingsPath)
		GUICtrlSetData($MainGUIDebugLabelSystemSettings,"SystemSettings: "&$SystemSettingsPath)
		GUICtrlSetData($MainGUIDebugLabelGameSettings,"GameSettings: "&$GameSettingsPath)

		UnDrawMainGUIHomeConfigDiscovery()
		DrawMainGUIHome()
	EndFunc

	Func ButtonPressLogic() ;- This is the main logic for handling button presses.
		Switch @GUI_CtrlId

			;Main GUI functions
				Case $MainGUIButtonClose
					ProperExit()

				Case $MainGUIButtonMaximize
					If $MainGUIMaximizedState Then
						WinSetState($MainGUI,$sEmpty,@SW_RESTORE)
						$MainGUIMaximizedState = False
						LoadImageResource($MainGUIButtonMaximize,$MainResourcePath & "Maximize1NoActivate.jpg","Maximize1NoActivate")

						FixCopyrightGIFPosition() ;- Update the position of the Copyright GIF
					Else
						WinSetState($MainGUI,$sEmpty,@SW_MAXIMIZE)
						$MainGUIMaximizedState = True
						LoadImageResource($MainGUIButtonMaximize,$MainResourcePath & "Maximize2NoActivate.jpg","Maximize2NoActivate")

						FixCopyrightGIFPosition() ;- Update the position of the Copyright GIF
					EndIf

				Case $MainGUIButtonMinimize
					WinSetState($MainGUI,$sEmpty,@SW_MINIMIZE)

				Case $MainGUIButtonDiscord
					fSendMetric("action_discord_pressed")
					ShellExecute($sDiscordURL)
					RegWrite("HKCU\Software\SMITE Optimizer\","bShouldFlashDiscord","REG_SZ","1")
					$bShouldFlashDiscordIcon = False ;- Stop flashing already!

				Case $HomeIcon, $HomeIconHover
					If $MenuSelected <> 1 Then
						$MenuSelected = 1
						ToggleMenuState("Home")
					EndIf

				Case $FixesIcon, $FixesIconHover
					If $MenuSelected <> 2 Then
						$MenuSelected = 2
						ToggleMenuState("Fixes")
					EndIf

				Case $RCIcon, $RCIconHover
					If $MenuSelected <> 3 Then
						$MenuSelected = 3
						ToggleMenuState("RestoreConfigs")
					EndIf

				Case $DonateIcon, $DonateIconHover
					fSendMetric("action_donate_mtl_pressed")
					ShellExecute("https://donate.meteorthelizard.com")

				Case $ChangelogIcon, $ChangelogIconHover
					If $MenuSelected <> 5 Then
						$MenuSelected = 5
						ToggleMenuState("Changelog")
					EndIf

				Case $CopyrightIcon, $CopyrightIconHover
					If $MenuSelected <> 6 Then
						$MenuSelected = 6
						ToggleMenuState("Copyright")
					EndIf

				Case $DebugIcon, $DebugIconHover
					If $MenuSelected <> 7 Then
						$MenuSelected = 7
						ToggleMenuState("Debug")
					EndIf

			;- Home
				Case $MainGUIHomeButtonApply
					fSendMetric("action_applyconfig_pressed")
					Internal_ProcessRequest(True)

				Case $MainGUIHomeButtonFixConfig
					fSendMetric("action_verify_pressed")
					Internal_ProcessRequest()

				Case $MainGUIHomeSwitchModeSimple
					If GUICtrlRead($MainGUIHomeSwitchModeSimple) = $GUI_CHECKED and $ProgramHomeState <> "Simple" Then
						RegWrite("HKCU\Software\SMITE Optimizer\","ConfigSimpleOrAdvanced","REG_SZ","Simple")
						GUICtrlSetState($MainGUIHomeSwitchModeAdvanced,$GUI_UNCHECKED)

						UnDrawMainGUIHome() ;- Redraw everything!
						$ProgramHomeState = "Simple" ;- This needs to be set after everything has been undrawn.
						DrawMainGUIHome()
					EndIf

				Case $MainGUIHomeSwitchModeAdvanced
					If GUICtrlRead($MainGUIHomeSwitchModeAdvanced) = $GUI_CHECKED and $ProgramHomeState <> "Advanced" Then
						RegWrite("HKCU\Software\SMITE Optimizer\","ConfigSimpleOrAdvanced","REG_SZ","Advanced")
						GUICtrlSetState($MainGUIHomeSwitchModeSimple,$GUI_UNCHECKED)

						UnDrawMainGUIHome() ;- Redraw everything!
						$ProgramHomeState = "Advanced" ;- This needs to be set after everything has been undrawn.
						DrawMainGUIHome()
					EndIf

				Case $MainGUIHomeButtonRestoreDefaults
					fSendMetric("action_defaults_pressed")
					Internal_LoadSettingCookies(True)

				Case $MainGUIHomeButtonUseMaxPerformance
					fSendMetric("action_maxperformance_pressed")
					Internal_LoadSettingCookies(True,True)

				Case $MainGUIHomeCheckboxDisplayHints
					Local $CDHState = GUICtrlRead($MainGUIHomeCheckboxDisplayHints)
					$ProgramHomeHelpState = $CDHState
					RegWrite("HKCU\Software\SMITE Optimizer\","ConfigShowHints","REG_SZ",$CDHState)

					If $CDHState == $GUI_UNCHECKED Then
						fSendMetric("action_helptips_disabled")
					Else
						fSendMetric("action_helptips_enabled")
					EndIf

					If $ProgramHomeHelpState = $GUI_UNCHECKED Then ;- Reset the popup.
						GUICtrlSetPos($MainGUIHomeHelpBackground,-$MinWidth,-$MinHeight,1,1)
						$HoverBGDrawn = False
						WinMove($HoverInfoGUI,$sEmpty,-$ScrW*2,-$ScrH*2,0,0)
						$HoverImageDrawn = False
					EndIf


			;- Fixes
				Case $MainGUIFixesButtonCreateQuicklaunch
					fSendMetric("action_quicklaunch_pressed")
					Internal_CreateQuicklaunchBypass()

				Case $MainGUIFixesButtonInstallLegacy
					fSendMetric("action_installlegacy_pressed")
					Internal_InstallLegacyLauncher()

				Case $MainGUIFixesButtonApply
					fSendMetric("action_applyfixes_pressed")
					Internal_ProcessRequest(True,True)

				Case $MainGUIFixesButtonRepairEAC
					Internal_FixEAC()


			;- Restore Configuration
				Case $MainGUIRestoreConfigurationsButtonChangeBackupPath
					Local $Folder = FileSelectFolder("Select a new Folder:",$ConfigBackupPath)

					If StringLen($Folder) <= (260 - 18 - 21) Then ;- 18 is the length of the longest file name. 21 is the min and max length of a subfolder, and the slashes. Example: /02_08_2020_20_15_56/SystemSettings.ini
						If @Error = 0 and FileExists($Folder) Then ;- Make sure the user didn't just close the dialog and that the supplied folder is actually there. (Could have selected the folder from a drive that was removed.)
							$Folder = $Folder & "\"

							RegWrite("HKCU\Software\SMITE Optimizer\","ConfigBackupPath","REG_SZ",$Folder)
							$ConfigBackupPath = $Folder
							GUICtrlSetData($MainGUIRestoreConfigurationsInputBackupPath,$Folder)
						EndIf
					Else
						DisplayErrorMessage("The selected path is too long!")
					EndIf

				Case $MainGUIRestoreConfigurationsButtonOpenBackupPath
					ShellExecute($ConfigBackupPath)

				Case $MainGUIRestoreConfigurationsButtonRemoveSelected
					Local $TPath = GUICtrlRead($MainGUIRestoreConfigurationsListFiles)
					If $TPath = "No backups available." or $TPath = $sEmpty Then Return

					Local $AskC = GUICtrlRead($MainGUIRestoreConfigurationsCheckboxAskForConfirmation)
					Local $MsgB

					If $AskC = $GUI_CHECKED Then
						$MsgB = MsgBox($MB_YESNO,"Confirm action","Are you sure that you want to delete this backup?"&@CRLF&"This cannot be undone!")
					Else
						$MsgB = $IDYES
					EndIf

					If $MsgB = $IDYES Then
						Local $Error = DirRemove($ConfigBackupPath&$TPath,$DIR_REMOVE)
						If $Error = 0 Then
							fSendMetric("error_restorebackup_filesgone")
							DisplayErrorMessage("The selected backup could not be deleted!"&@CRLF&"It appears it was already deleted by another program, or maybe by you?")
						EndIf

						Internal_UpdateRestoreConfigList()
					EndIf

				Case $MainGUIRestoreConfigurationsButtonRestoreSelected
					Local $TPath = GUICtrlRead($MainGUIRestoreConfigurationsListFiles)
					If $TPath = "No backups available." or $TPath = $sEmpty Then Return

					Local $AskC = GUICtrlRead($MainGUIRestoreConfigurationsCheckboxAskForConfirmation)
					Local $MsgB

					If $AskC = $GUI_CHECKED Then
						$MsgB = MsgBox($MB_YESNO,"Confirm action","Are you sure that you want to restore this backup?"&@CRLF&"This will overwrite your game configuration files!"&@CRLF&"This cannot be undone!")
					Else
						$MsgB = $IDYES
					EndIf

					If $MsgB = $IDYES Then
						fSendMetric("action_restore_backup")

						If not FileExists($ConfigBackupPath&$TPath&"\Engine.ini") or not FileExists($ConfigBackupPath&$TPath&"\SystemSettings.ini") or not FileExists($ConfigBackupPath&$TPath&"\GameSettings.ini") Then
							fSendMetric("error_restorebackup_code9")

							DisplayErrorMessage("Attempted to restore the backup, but it appears to be missing or corrupt! Code: 009")
							Internal_UpdateRestoreConfigList() ;- Refresh list and attempt to remove missing backups. (Does not remove corrupt ones.)
						Else
							Local $CopySucc = FileCopy($ConfigBackupPath&$TPath&"\Engine.ini",$SettingsPath,$FC_OVERWRITE)

							If $CopySucc = 0 Then
								fSendMetric("error_restorebackup_code1")

								DisplayErrorMessage("There was an error copying one of the files! (Engine) Code: 001")
							Else
								Local $CopySucc = FileCopy($ConfigBackupPath&$TPath&"\SystemSettings.ini",$SystemSettingsPath,$FC_OVERWRITE)

								If $CopySucc = 0 Then
									fSendMetric("error_restorebackup_code2")

									DisplayErrorMessage("There was an error copying one of the files! (System) Code: 002")
								Else
									Local $CopySucc = FileCopy($ConfigBackupPath&$TPath&"\GameSettings.ini",$GameSettingsPath,$FC_OVERWRITE)

									If $CopySucc = 0 Then
										fSendMetric("error_restorebackup_code12")

										DisplayErrorMessage("There was an error copying one of the files! (Game) Code: 012")
									Else
										fSendMetric("event_restorebackup_success")
										DirRemove($ConfigBackupPath&$TPath,$DIR_REMOVE)
										Internal_UpdateRestoreConfigList()
									EndIf
								EndIf
							EndIf
						EndIf
					EndIf

			;- Changelog
				Case $MainGUIChangelogButtonViewOnline, $MainGUIChangelogButtonViewOnlineBG
					fSendMetric("action_changelog_pressed")
					ShellExecute("https://github.com/MeteorTheLizard/SMITE-Optimizer/commits/master")

			;- Copyright
				Case $MainGUICopyrightLabelWebsite
					fSendMetric("action_visit_website")
					ShellExecute("https://meteorthelizard.com")

				Case $MainGUICopyrightLabelLicenseLink
					_Resource_SaveToFile(@TempDir & "\GPL_License.txt","GPL_License")
					If FileExists(@TempDir & "\GPL_License.txt") Then ShellExecute(@TempDir & "\GPL_License.txt")

				Case $MainGUICopyrightLabelSourceLink
					fSendMetric("action_visit_github")
					ShellExecute("https://github.com/MeteorTheLizard/SMITE-Optimizer")

				Case $MainGUICopyrightLabelAutoitLicenseLink
					_Resource_SaveToFile(@TempDir & "\AutoIt_License.txt","AutoIt_License")
					If FileExists(@TempDir & "\AutoIt_License.txt") Then ShellExecute(@TempDir & "\AutoIt_License.txt")

				Case $MainGUICopyrightLabelPrivacyPolicy
					_Resource_SaveToFile(@TempDir & "\Privacy_Policy.txt","Privacy_Policy") ;- https://metrics-so.meteorthelizard.com/privacy_policy
					If FileExists(@TempDir & "\Privacy_Policy.txt") Then ShellExecute(@TempDir & "\Privacy_Policy.txt")

				Case $MainGUICopyrightLabelGDPR
					_Resource_SaveToFile(@TempDir & "\GDPR.txt","GDPR") ;- https://metrics-so.meteorthelizard.com/gdpr
					If FileExists(@TempDir & "\GDPR.txt") Then ShellExecute(@TempDir & "\GDPR.txt")

				Case $MainGUICopyrightLabelWebsiteMetrics
					ShellExecute($sMetricsServer)

			;- Debug
				Case $MainGUIDebugButtonCommonIssues
					fSendMetric("action_commonissues_pressed")
					_Resource_SaveToFile(@TempDir & "\CommonIssues.txt","CommonIssues")
					If FileExists(@TempDir & "\CommonIssues.txt") Then ShellExecute(@TempDir & "\CommonIssues.txt")

				Case $MainGUIDebugCheckboxCheckForUpdates
					Local $CDHState = GUICtrlRead($MainGUIDebugCheckboxCheckForUpdates)

					If $CDHState <> $GUI_CHECKED Then
						fSendMetric("action_automatic_updates_disabled")

						RegWrite("HKCU\Software\SMITE Optimizer\","ConfigCheckForUpdates","REG_SZ","0") ;- Disable.
					Else
						fSendMetric("action_automatic_updates_enabled")

						RegDelete("HKCU\Software\SMITE Optimizer\","ConfigCheckForUpdates") ;- The key shouldn't exist when the setting is set to default!
					EndIf

				Case $MainGUIDebugButtonPerformUpdate
					fSendMetric("action_manualupdate_pressed")
					RegWrite("HKCU\Software\SMITE Optimizer\","DebugForceUpdate","REG_SZ","1")
					Run(@ScriptFullPath)
					Exit

				Case $MainGUIDebugLabelReportABug
					fSendMetric("action_reportabug_pressed")
					ShellExecute("https://github.com/MeteorTheLizard/SMITE-Optimizer/issues")

				Case $MainGUIDebugLabelCreateDebugInfo ;- TODO: This really needs some error handling!

					Local $sDirSelect = FileSelectFolder("Choose a folder to save the debug dump into",@DesktopDir)
					If not @Error Then

						GUISwitch($MainGUI)
						Local $LabelDebugDumpWorking = GUICtrlCreateLabelTransparentBG("Creating debug dump..",65,220,400,55)
							GUICtrlSetResizing(-1,$GUI_DOCKLEFT + $GUI_DOCKBOTTOM + $GUI_DOCKSIZE)
							GUICtrlSetFont(-1,15,500,Default,$MainFontName)

						DirRemove(@TempDir & "\optimizerdebugdump",$DIR_REMOVE) ;- Cleanup!
						Sleep(350) ;- Windows!

						DirCreate(@TempDir & "\optimizerdebugdump")
						If not @Error Then ;- Time to retrieve information that could be useful for debugging!

							;- Retrieve the information in the system information box.
								GUICtrlSetData($LabelDebugDumpWorking,"Retrieving information from system box")

								FileWrite(@TempDir & "\optimizerdebugdump\systeminfobox.txt",GUICtrlRead($MainGUIDebugEditSystemInfo))

							;- Retrieve the configuration file paths.
								GUICtrlSetData($LabelDebugDumpWorking,"Retrieving configured file paths")

								Local $Str_Path1 = GUICtrlRead($MainGUIDebugLabelEngineSettings)
								Local $Str_Path2 = GUICtrlRead($MainGUIDebugLabelSystemSettings)
								Local $Str_Path3 = GUICtrlRead($MainGUIDebugLabelGameSettings)
								Local $Str_Path4 = GUICtrlRead($MainGUIDebugLabelConfigBackupPath)

								FileWrite(@TempDir & "\optimizerdebugdump\paths.txt",$Str_Path1 & @CRLF & $Str_Path2 & @CRLF & $Str_Path3 & @CRLF & $Str_Path4)

							;- Retrieve Launch.log files
								GUICtrlSetData($LabelDebugDumpWorking,"Retrieving game launch logs")

								DirCreate(@TempDir & "\optimizerdebugdump\logs\launch")

								;- Copy all log files over.
								FileCopy("C:\Users\" & @UserName &"\Documents\My Games\SMITE\BattleGame\Logs\*.log",@TempDir & "\optimizerdebugdump\logs\launch\",BitOr($FC_OVERWRITE,$FC_CREATEPATH))

								;- And since OneDrive loves to move files around, we've got to look in there too! (Don't worry, it only copies the log files over, nothing else.)
								FileCopy("C:\Users\" & @UserName &"\OneDrive\Documents\My Games\SMITE\BattleGame\Logs\*.log",@TempDir & "\optimizerdebugdump\logs\launch\",BitOr($FC_OVERWRITE,$FC_CREATEPATH))

							;- Retrieve config files
								GUICtrlSetData($LabelDebugDumpWorking,"Retrieving game configuration files")

								FileCopy($SettingsPath,@TempDir & "\optimizerdebugdump\config\EngineSettings.ini",BitOr($FC_OVERWRITE,$FC_CREATEPATH)) ;- BattleEngine.ini
								FileCopy($SystemSettingsPath,@TempDir & "\optimizerdebugdump\config\SystemSettings.ini",BitOr($FC_OVERWRITE,$FC_CREATEPATH)) ;- BattleSystemSettings.ini
								FileCopy($GameSettingsPath,@TempDir & "\optimizerdebugdump\config\GameSettings.ini",BitOr($FC_OVERWRITE,$FC_CREATEPATH)) ;- BattleGame.ini


								;- For whatever reason, Hi-Rez decided it is a good idea to store login information including the login token in the .ini files as plain-text.
								;- We are not interested in this information, so we are filtering it out to not include it in the debug dump.
								;- This is especially important as these debug dumps usually get publicly posted, we don't want people to lose their accounts!

								If FileExists(@TempDir & "\optimizerdebugdump\config\GameSettings.ini") Then

									Local $Read[0]
										_FileReadToArray(@TempDir & "\optimizerdebugdump\config\GameSettings.ini",$Read)


									;- Remove all entries starting with these lines.
									Local $aFilter[9] = [ _
										"LoginName", _
										"LoginPwd", _
										"SaveLoginName", _
										"m_bKeepLoggedIn", _
										"m_dwLastLoginPortalId", _
										"m_dwLastLoginAccountId", _
										"m_sLastLoginAccessToken", _
										"m_sLastLoginAccessTokenExpiration" _
									]

									For $I = 0 To uBound($aFilter) - 1 Step 1

										Local $iLen = StringLen($aFilter[$I])

										For $B = 0 To uBound($Read) - 1 Step 1
											If StringLeft($Read[$B],$iLen) = $aFilter[$I] Then
												$Read[$B] = ";{INFORMATION REPLACED FOR SECURITY REASONS}"
												ExitLoop
											EndIf
										Next
									Next


									;- Write the new data to the file.

									_FileWriteFromArray(@TempDir & "\optimizerdebugdump\config\GameSettings.ini",$Read)


								EndIf

							;- Retrieve EAC logs
								GUICtrlSetData($LabelDebugDumpWorking,"Retrieving EasyAntiCheat logs")

								FileCopy("C:\Users\" & @UserName & "\AppData\Roaming\EasyAntiCheat\*.log",@TempDir & "\optimizerdebugdump\logs\*.log",BitOr($FC_OVERWRITE,$FC_CREATEPATH))
								FileCopy("C:\Users\" & @UserName & "\AppData\Roaming\EasyAntiCheat\140\*.log",@TempDir & "\optimizerdebugdump\logs\*.log",BitOr($FC_OVERWRITE,$FC_CREATEPATH))

							;- Retrieve registry values
								GUICtrlSetData($LabelDebugDumpWorking,"Retrieving registry values")

								Local $sData = $sEmpty

								For $i = 1 To 100 Step 1
									Local $sVar = RegEnumVal("HKCU\SOFTWARE\SMITE Optimizer\", $i)
										If @Error Then _
											ContinueLoop

									$sData = $sData & $sVar & " = " & RegRead("HKCU\SOFTWARE\SMITE Optimizer\",$sVar) & @CRLF

								Next

								FileWrite(@TempDir & "\optimizerdebugdump\reg-values.txt",$sData)

							;- Create dxdiag.txt
								GUICtrlSetData($LabelDebugDumpWorking,"Retrieving dxdiag information")

								ShellExecute("dxdiag",'/dontskip /whql:off /t "' & @TempDir & '\optimizerdebugdump\dxdiag.txt"')
								While ProcessExists("dxdiag.exe") ;- The program has to wait for that to finish; using Run() won't make a difference, as the command line comes back immediately.

								WEnd

							GUICtrlSetData($LabelDebugDumpWorking,"Creating archive")

							local $file_Zip = _Zip_Create($sDirSelect & "\SMITE_Optimizer_Debug.zip",1)
								_Zip_AddItem($file_Zip,@TempDir & "\optimizerdebugdump\")

							DirRemove(@TempDir & "\optimizerdebugdump",$DIR_REMOVE) ;- Cleanup!

							GUICtrlDelete($LabelDebugDumpWorking)

							fSendMetric("action_debugdump_created")

							MsgBox(0,"Success","Debug dump successfully created!")
						EndIf
					EndIf

				Case $MainGUIDebugButtonResetConfigPaths
					GUISetState(@SW_DISABLE,$MainGUI)

					Local $Msg = MsgBox($MB_YESNO,"Confirm action","Are you sure that you want to reset the configuration paths?",Default,$MainGUI) ;- No timeout, set parent so we don't lose focus!
					If $Msg == $IDYES Then
						RegDelete("HKCU\Software\SMITE Optimizer\","ConfigPathEngine")
						RegDelete("HKCU\Software\SMITE Optimizer\","ConfigPathSystem")
						RegDelete("HKCU\Software\SMITE Optimizer\","ConfigPathGame")
						RegDelete("HKCU\Software\SMITE Optimizer\","ConfigProgramState")

						$SettingsPath = $sEmpty
						$SystemSettingsPath = $sEmpty
						$GameSettingsPath = $sEmpty

						$ProgramState = $sEmpty

						Local $WinWidth = WinGetPos($MainGUI)[2]

						GUICtrlDelete($MainGUILabelProgramState) ;- Fix position and size.
						Global $MainGUILabelProgramState = GUICtrlCreateLabelTransparentBG("(Discovery mode)",-1000,17,-1,25,$SS_RIGHT)
							Local $Width = ControlGetPos($MainGUI,$sEmpty,$MainGUILabelProgramState)[2] + 25
							GUICtrlSetPos(-1,$MinWidth - $Width - 144,17,$Width,25)
							GUICtrlSetResizing(-1,$GUI_DOCKRIGHT + $GUI_DOCKTOP + $GUI_DOCKSIZE)
							GUICtrlSetFont(-1,9,Default,Default,$WindowsUIFont)


						;- Update debug menu
						GUICtrlSetData($MainGUIDebugLabelEngineSettings,"EngineSettings: Not yet defined")
						GUICtrlSetData($MainGUIDebugLabelSystemSettings,"SystemSettings: Not yet defined")
						GUICtrlSetData($MainGUIDebugLabelGameSettings,"GameSettings: Not yet defined")

						fSendMetric("action_configpaths_reset")

						$MenuSelected = 1
						ToggleMenuState("Home")
					EndIf

					GUISetState(@SW_ENABLE,$MainGUI)
		EndSwitch
	EndFunc

	Func Internal_ProcessScreenRes() ;- Generate a list of resolutions.

		Global $AvailableResolutions[0]
		Global $AvailableResolutionsStr

			;- Add common resolutions

			;- 4:3
				_ArrayAdd($AvailableResolutions,"800 x 600") ;- Min-res
				_ArrayAdd($AvailableResolutions,"1024 x 768")
				_ArrayAdd($AvailableResolutions,"1280 x 960")
				_ArrayAdd($AvailableResolutions,"1400 x 1050")
				_ArrayAdd($AvailableResolutions,"1440 x 1080")
				_ArrayAdd($AvailableResolutions,"1600 x 1200")

			;- 16:9
				_ArrayAdd($AvailableResolutions,"1280 x 720") ;- HD
				_ArrayAdd($AvailableResolutions,"1366 x 768")
				_ArrayAdd($AvailableResolutions,"1600 x 900")
				_ArrayAdd($AvailableResolutions,"1920 x 1080") ;- Full HD
				_ArrayAdd($AvailableResolutions,"2560 x 1440") ;- WQHD
				_ArrayAdd($AvailableResolutions,"3840 x 2160") ;- 4K
				_ArrayAdd($AvailableResolutions,"7680 x 4320") ;- 8K

			;- 16:10
				_ArrayAdd($AvailableResolutions,"1280 x 800") ;- HD
				_ArrayAdd($AvailableResolutions,"1440 x 900")
				_ArrayAdd($AvailableResolutions,"1680 x 1050")
				_ArrayAdd($AvailableResolutions,"1920 x 1200") ;- Full HD
				_ArrayAdd($AvailableResolutions,"2560 x 1600") ;- WQHD
				_ArrayAdd($AvailableResolutions,"3840 x 2400") ;- 4K

			;- 21:9
				_ArrayAdd($AvailableResolutions,"2560 x 1080") ;- Full HD
				_ArrayAdd($AvailableResolutions,"3440 x 1440") ;- WQHD
				_ArrayAdd($AvailableResolutions,"3840 x 1600") ;- 4K
				_ArrayAdd($AvailableResolutions,"5120 x 2160") ;- 5K

			;- 32:9 (Community Contribution) - https://github.com/crackman2
				_ArrayAdd($AvailableResolutions,"3840 x 1080") ;- Full HD
				_ArrayAdd($AvailableResolutions,"5120 x 1440") ;- WQHD


			$AvailableResolutions = _ArrayUnique($AvailableResolutions) ;- Filter duplicates.
				_ArrayDelete($AvailableResolutions,0)


			;- Sort by total pixel count

			Local $aTempPixels[0][2]

			For $I = 0 To uBound($AvailableResolutions) - 1 Step 1

				ReDim $aTempPixels[$I + 1][2]

					$aTempPixels[$I][0] = $AvailableResolutions[$I]


				Local $aSplit = StringSplit($aTempPixels[$I][0]," x ",1) ;- 1 = Entire delimiter

				If uBound($aSplit) > 2 Then _ ;- Prevent crash from missing split (redundant)
					$aTempPixels[$I][1] = (Number($aSplit[1]) * Number($aSplit[2]))

			Next


			_ArraySort($aTempPixels,Default,Default,Default,1) ;- Sort by column 1 (pixel count)


			For $I = 0 To uBound($aTempPixels) - 1 Step 1 ;- Apply to base
				$AvailableResolutions[$I] = $aTempPixels[$I][0]
			Next


			_ArrayInsert($AvailableResolutions,0,@DesktopWidth & " x " & @DesktopHeight) ;- Add native-res (Always at the top)


			;- Custom resolution entry

			Local $bErrorFlag = False

			Local $sReadX = RegRead("HKCU\Software\SMITE Optimizer\","Custom_ResX")
				If @Error Then _
					$bErrorFlag = True

			Local $sReadY = RegRead("HKCU\Software\SMITE Optimizer\","Custom_ResY")
				If @Error Then _
					$bErrorFlag = True


			If Not $bErrorFlag Then

				$sReadX = Floor(Abs(Number($sReadX))) ;- No exponents, negative numbers, or decimals. (Also strips a leading zero and characters!)
					$sReadX = ($sReadX < 800 ? 800 : $sReadX > 15360 ? 15360 : $sReadX) ;- Lowest: 800, clamp to 16k resolution, about time we use ternary operators!

				$sReadY = Floor(Abs(Number($sReadY))) ;- No exponents, negative numbers, or decimals. (Also strips a leading zero and characters!)
					$sReadY = ($sReadY < 600 ? 600 : $sReadY > 8640 ? 8640 : $sReadY) ;- Lowest: 800, clamp to 16k resolution, about time we use ternary operators!

				_ArrayInsert($AvailableResolutions,1,"Custom (" & $sReadX & " x " & $sReadY & ")") ;- Add custom option (Always 2nd)

			Else

				_ArrayInsert($AvailableResolutions,1,"Custom") ;- Add custom option (Always 2nd)

			EndIf


			;- Generate string for combos

			For $I = 0 To uBound($AvailableResolutions) - 1 Step 1
				$AvailableResolutionsStr = $AvailableResolutionsStr & $AvailableResolutions[$I] & "|"
			Next

	EndFunc

	Func Internal_ChooseCustomRes() ;- Bring up a prompt to select custom resolution.

		If $ResPromptGUI <> NULL Then
			GUIDelete($ResPromptGUI)
		EndIf


		_WinAPI_SetWindowPos($MainGUI,$HWND_TOPMOST,0,0,0,0,BitOR($SWP_NOACTIVATE,$SWP_NOMOVE,$SWP_NOSIZE))
		_WinAPI_SetWindowPos($MainGUI,$HWND_NOTOPMOST,0,0,0,0,BitOR($SWP_NOACTIVATE,$SWP_NOMOVE,$SWP_NOSIZE))

		GUISetState(@SW_DISABLE,$MainGUI)


		Local $WinPos = WinGetPos($MainGUI)

		Global $ResPromptGUI = GUICreate("SO_RESSELECT",300,150,$WinPos[0] + ($WinPos[2]/2)-150,$WinPos[1] + ($WinPos[3]/2)-75,BitOR($WS_MINIMIZEBOX,$WS_MAXIMIZEBOX,$WS_POPUP),$WS_EX_TOOLWINDOW)
			GUISwitch($ResPromptGUI)

			_GUI_EnableDrag($ResPromptGUI,300,150)
			GUISetBkColor($cBackgroundColor)

			GUICtrlSetDefColor($cTextColor,$ResPromptGUI)
			GUICtrlSetDefBkColor($cBackgroundColor,$ResPromptGUI)

			Local $Pic = GUICtrlCreatePic($sEmpty,0,34,300,116)
				LoadImageResource($Pic,$MainResourcePath & "ChooseResBG.jpg","ChooseResBG")
				GUICtrlSetState(-1,$GUI_DISABLE)

			Local $Pic = GUICtrlCreatePic($sEmpty,18,9,16,16)
				LoadImageResource($Pic,$MainResourcePath & "\SMITEOptimizerIcon.jpg","SMITEOptimizerIcon")

			GUICtrlCreateLabelTransparentBG("Choose resolution",50,9,105,15)
				GUICtrlSetFont(-1,9,Default,Default,$MainFontName)


			GUICtrlCreateLabelTransparentBG("Width",66,45,50,15)
				GUICtrlSetFont(-1,9,Default,Default,$MainFontName)

			Local $sRead = RegRead("HKCU\Software\SMITE Optimizer\","Custom_ResX")
				$sRead = Floor(Abs(Number($sRead))) ;- No exponents, negative numbers, or decimals. (Also strips a leading zero and characters!)
					$sRead = ($sRead < 800 ? 800 : $sRead > 15360 ? 15360 : $sRead) ;- Lowest: 800, clamp to 16k resolution, about time we use ternary operators!

			Local $ResX = GUICtrlCreateInputSO($sRead,65,64,75,25,$ES_NUMBER)


			GUICtrlCreateLabelTransparentBG("Height",161,45,50,15)
				GUICtrlSetFont(-1,9,Default,Default,$MainFontName)

			Local $sRead = RegRead("HKCU\Software\SMITE Optimizer\","Custom_ResY")
				$sRead = Floor(Abs(Number($sRead))) ;- No exponents, negative numbers, or decimals. (Also strips a leading zero and characters!)
					$sRead = ($sRead < 600 ? 600 : $sRead > 8640 ? 8640 : $sRead) ;- Lowest: 800, clamp to 16k resolution, about time we use ternary operators!

			Local $ResY = GUICtrlCreateInputSO($sRead,160,64,75,25,$ES_NUMBER)


			Local $Cancel = GUICtrlCreateButtonSO($ResPromptGUI,"Cancel",65,101,75,35)
			Local $Apply = GUICtrlCreateButtonSO($ResPromptGUI,"Apply",160,101,75,35)

			Local $ResPromptGUIClose = GUICtrlCreatePic($sEmpty,266,0,34,34)
				LoadImageResource($ResPromptGUIClose,$MainResourcePath & "CloseNoActivate.jpg","CloseNoActivate")

		GUISetState(@SW_SHOW,$ResPromptGUI)


		Local $CloseState = False
		Local $bReturnFlag = False

		While True
			Local $CursorInfo = GUIGetCursorInfo($ResPromptGUI)

			If WinGetTitle("[active]") = "SO_RESSELECT" Then

				If _IsPressed("1B") Then ;- Allow the user to exit the UI by pressing the escape key.
					ExitLoop
				EndIf

				Switch $CursorInfo[4]

					Case $ResPromptGUIClose ;- Close "x" button.
						If not $CloseState Then
							LoadImageResource($ResPromptGUIClose,$MainResourcePath & "CloseActivate.jpg","CloseActivate")
							$CloseState = True
						EndIf

						If _IsPressed("01") Then ;- MouseClick (Left)

							If $ProgramHomeState = "Simple" Then ;- Revert back to whatever was selected before "Custom"
								_GUICtrlComboBox_SelectString($MainGUIHomeSimpleComboScreenRes,$HomeSimpleComboResLastIndex)
							ElseIf $ProgramHomeState = "Advanced" Then
								_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboScreenRes,$HomeAdvancedComboResLastIndex)
							EndIf


							ExitLoop

						EndIf

					Case $Apply ;- Process request on Apply
						If _IsPressed("01") Then ;- MouseClick (Left)

							While _IsPressed("01") ;- Cheap way to wait for release
								Sleep(10)
							WEnd


							Local $iX = GUICtrlRead($ResX)
								$iX = Floor(Abs(Number($iX))) ;- No exponents, negative numbers, or decimals. (Also strips a leading zero and characters!)

							$iX = ($iX < 800 ? 800 : $iX > 15360 ? 15360 : $iX) ;- Lowest: 800, clamp to 16k resolution, about time we use ternary operators!


							Local $iY = GUICtrlRead($ResY)
								$iY = Floor(Abs(Number($iY))) ;- No exponents, negative numbers, or decimals. (Also strips a leading zero and characters!)

							$iY = ($iY < 600 ? 600 : $iY > 8640 ? 8640 : $iY) ;- Lowest: 600, clamp to 16k resolution, about time we use ternary operators!


							;- Save to config

							RegWrite("HKCU\Software\SMITE Optimizer\","Custom_ResX","REG_SZ",$iX)
							RegWrite("HKCU\Software\SMITE Optimizer\","Custom_ResY","REG_SZ",$iY)


							Local $sSet = "Custom (" & $iX & " x " & $iY & ")"

							_GUICtrlComboBox_DeleteString($MainGUIHomeSimpleComboScreenRes,1) ;- Replace Custom with new res
							_GUICtrlComboBox_InsertString($MainGUIHomeSimpleComboScreenRes,$sSet,1)

							If $ProgramHomeState = "Simple" Then
								_GUICtrlComboBox_SelectString($MainGUIHomeSimpleComboScreenRes,$sSet,1)
								$LastReadScrResSimple = GUICtrlRead($MainGUIHomeSimpleComboScreenRes) ;- Overwrite last selection to prevent another prompt!
							EndIf

							_GUICtrlComboBox_DeleteString($MainGUIHomeAdvancedComboScreenRes,1) ;- Replace Custom with new res
							_GUICtrlComboBox_InsertString($MainGUIHomeAdvancedComboScreenRes,$sSet,1)

							If $ProgramHomeState = "Advanced" Then
								_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboScreenRes,$sSet,1)
								$LastReadScrResAdvanced = GUICtrlRead($MainGUIHomeAdvancedComboScreenRes) ;- Overwrite last selection to prevent another prompt!
							EndIf


							$bReturnFlag = True


							ExitLoop

						EndIf

					Case $Cancel
						If _IsPressed("01") Then ;- MouseClick (Left)

							While _IsPressed("01") ;- Cheap way to wait for release
								Sleep(10)
							WEnd


							If $ProgramHomeState = "Simple" Then ;- Revert back to whatever was selected before "Custom"
								_GUICtrlComboBox_SelectString($MainGUIHomeSimpleComboScreenRes,$HomeSimpleComboResLastIndex)
							ElseIf $ProgramHomeState = "Advanced" Then
								_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboScreenRes,$HomeAdvancedComboResLastIndex)
							EndIf


							ExitLoop

						EndIf

					Case Else ;- Hover effects
						If $CloseState Then
							LoadImageResource($ResPromptGUIClose,$MainResourcePath & "CloseNoActivate.jpg","CloseNoActivate")
							$CloseState = False
						EndIf

				EndSwitch


				Sleep(10)

			Else
				If WinGetTitle("[active]") = $ProgramName Then WinActivate($ResPromptGUI)

				Sleep(100)
			EndIf

		WEnd


		;- Switch back to MainGUI!

		GUISwitch($MainGUI)
		_GUI_DragAndResizeUpdate($MainGUI,$MinWidth,$MinHeight)

		GUIDelete($ResPromptGUI)
		$ResPromptGUI = NULL

		GUISetState(@SW_ENABLE,$MainGUI)
		WinActivate($MainGUI)


		Return $bReturnFlag ;- Used to prevent a second popup.

	EndFunc

	Func Internal_ConvertMagicNumber($Number) ;- This is to ensure that the program will always stay compatible, even when 'magic numbers' get changed.
		If $Number = "En" or $Number = $GUI_CHECKED Then
			Return $GUI_CHECKED
		ElseIf $Number = "Di" or $Number = $GUI_UNCHECKED Then
			Return $GUI_UNCHECKED
		EndIf
	EndFunc

	Func Internal_ConvertMagicNumberSave($Number) ;- This is to ensure that the program will always stay compatible, even when 'magic numbers' get changed.
		If $Number = $GUI_CHECKED Then
			Return "En"
		ElseIf $Number = $GUI_UNCHECKED Then
			Return "Di"
		EndIf
	EndFunc

	Func Internal_SaveSettingCookie() ;- Remember settings.
		Local $Int_Settings

		If $ProgramHomeState = "Simple" Then

			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeSimpleComboWorldQuality) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeSimpleComboCharacterQuality) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeSimpleComboShadowQuality) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeSimpleComboSkyQuality) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeSimpleComboEffectsParticleQuality) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeSimpleInputMaxFPS) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeSimpleComboScreenRes) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeSimpleSliderScreenResScale) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeSimpleComboWindowmode) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeSimpleComboAntialiasing) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeSimpleComboMaxAnisotropy) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeSimpleComboDetailMode) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeSimpleCheckboxVSync)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeSimpleCheckboxRagdollPhysics)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeSimpleCheckboxDirectX11)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeSimpleCheckboxBloom)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeSimpleCheckboxDecals)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeSimpleCheckboxDynamicLightShadows)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeSimpleCheckboxLensflares)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeSimpleCheckboxReflections)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeSimpleCheckboxHighQualityMats))

			RegWrite("HKCU\Software\SMITE Optimizer\","ConfigCookieSimple","REG_SZ",$Int_Settings)
		ElseIf $ProgramHomeState = "Advanced" Then

			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedComboWorldQuality) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedComboCharacterQuality) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedComboTerrainQuality) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedComboNPCQuality) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedComboWeaponQuality) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedComboVehicleQuality) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedComboShadowsQuality) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedComboParticleQualityLevel) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedComboSkyQuality) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedComboEffectsParticleQuality) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedComboScreenRes) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedSliderScreenResScale) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedComboWindowmode) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedComboAntialiasing) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedComboMaxAnisotropy) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedInputMaxFPS) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxSpeedTreeWind)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxSpeedTreeLeaves)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxSpeedTreeFronds)) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedComboSpeedTreeLODBias) & "|"
			$Int_Settings = $Int_Settings & GUICtrlRead($MainGUIHomeAdvancedComboDetailMode) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxVSync)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxPhysX)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxDX11)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxBloom)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxLensflares)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxReflections)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxUncText)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxLightShafts)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxFogVolumes)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxDistortion)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxFilteredDistortion)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxDropShadows)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxWholeSceneShadows)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxConservShadowBounds)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxLightEnvShadows)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxStaticDecals)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxDynamicDecals)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxUnbatchedDecals)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxDynamicLights)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxCompDynamicLights)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxSHSecondaryLighting)) & "|"
			$Int_Settings = $Int_Settings & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIHomeAdvancedCheckboxDynamicShadows))

			RegWrite("HKCU\Software\SMITE Optimizer\","ConfigCookieAdvanced","REG_SZ",$Int_Settings)
		EndIf


		;- Fixes
		Local $Settings_Fixes = $sEmpty

		$Settings_Fixes = $Settings_Fixes & GUICtrlRead($MainGUIFixesInputMaxFPS) & "|"
		$Settings_Fixes = $Settings_Fixes & GUICtrlRead($MainGUIFixesComboAudioFix) & "|"
		$Settings_Fixes = $Settings_Fixes & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIFixesCheckboxDisableJump)) & "|"
		$Settings_Fixes = $Settings_Fixes & Internal_ConvertMagicNumberSave(GUICtrlRead($MainGUIFixesCheckboxDisableFog))

		RegWrite("HKCU\Software\SMITE Optimizer\","ConfigCookieFixes","REG_SZ",$Settings_Fixes)

	EndFunc

	Func Internal_LoadSettingCookies($Bool = False,$Performance = False,$InitBool = False) ;- Load settings.
		Local $Int_Settings

		If $ProgramHomeState = "Simple" or $InitBool Then
			If not $Performance Then ;- Do we want to use the maximum performance settings?
				$Int_Settings = RegRead("HKCU\Software\SMITE Optimizer\","ConfigCookieSimple")

				If @Error or $Bool Then ;- If the key doesn't exist or we clicked the "Restore Defaults" button, we want to use the default settings!
					$Int_Settings = "Best|" & _ ;- World Quality.
									"Best|" & _ ;- Character Quality.
									"Best|" & _ ;- Shadow Quality.
									"Best|" & _ ;- Sky Quality.
									"Best|" & _ ;- Effects Quality.
									"150|" & _ ;- FPS.
									$AvailableResolutions[0] & "|" & _ ;- Screen Resolution. ([0] = Native)
									"100|" & _ ;- Screen Resolution Scale.
									"Fullscreen|" & _ ;- Window Type.
									"High|" & _ ;- Anti-Aliasing.
									"16x|" & _ ;- Anisotropic Filtering.
									"2|" & _ ;- DetailMode.
									$GUI_UNCHECKED & "|" & _ ;- Vertical Synchronisation.
									$GUI_CHECKED & "|" & _ ;- Ragdoll Physics.
									$GUI_CHECKED & "|" & _ ;- DirectX 11.
									$GUI_CHECKED & "|" & _ ;- Bloom.
									$GUI_CHECKED & "|" & _ ;- Decals.
									$GUI_CHECKED & "|" & _ ;- Dynamic Lights and Shadows.
									$GUI_CHECKED & "|" & _ ;- Lensflares.
									$GUI_CHECKED & "|" & _ ;- Reflections.
									$GUI_CHECKED ;- Uncompressed Textures.
				EndIf
			Else
				$Int_Settings = "Low|" & _ ;- World Quality.
								"Low|" & _ ;- Character Quality.
								"Low|" & _ ;- Shadow Quality.
								"Low|" & _ ;- Sky Quality.
								"Low|" & _ ;- Effects Quality.
								"300|" & _ ;- FPS.
								$AvailableResolutions[0] & "|" & _ ;- Screen Resolution. ([0] = Native)
								"100|" & _ ;- Screen Resolution Scale.
								"Fullscreen|" & _ ;- Window Type.
								"Off|" & _ ;- Anti-Aliasing.
								"Off|" & _ ;- Anisotropic Filtering.
								"0|" & _ ;- DetailMode.
								$GUI_UNCHECKED & "|" & _ ;- Vertical Synchronisation.
								$GUI_UNCHECKED & "|" & _ ;- Ragdoll Physics.
								$GUI_CHECKED & "|" & _ ;- DirectX 11.
								$GUI_UNCHECKED & "|" & _ ;- Bloom.
								$GUI_CHECKED & "|" & _ ;- Decals.
								$GUI_UNCHECKED & "|" & _ ;- Dynamic Lights and Shadows.
								$GUI_UNCHECKED & "|" & _ ;- Lensflares.
								$GUI_UNCHECKED & "|" & _ ;- Reflections.
								$GUI_UNCHECKED ;- Uncompressed Textures.
			EndIf

			Local $Split = StringSplit($Int_Settings,"|")
				_ArrayDelete($Split,0)

			_GUICtrlComboBox_SelectString($MainGUIHomeSimpleComboWorldQuality,$Split[0])
			_GUICtrlComboBox_SelectString($MainGUIHomeSimpleComboCharacterQuality,$Split[1])
			_GUICtrlComboBox_SelectString($MainGUIHomeSimpleComboShadowQuality,$Split[2])
			_GUICtrlComboBox_SelectString($MainGUIHomeSimpleComboSkyQuality,$Split[3])
			_GUICtrlComboBox_SelectString($MainGUIHomeSimpleComboEffectsParticleQuality,$Split[4])


			Local $sLowerRead = StringLower($Split[5]) ;- Prevent people from using exponents, inf, or nan (Community Contribution)

			If $sLowerRead == "inf" or $sLowerRead == "nan" or StringInStr($sLowerRead,"e",0) <> 0 Then
				$Split[5] = 999
			EndIf

			GUICtrlSetData($MainGUIHomeSimpleInputMaxFPS,$Split[5])


			Local $Res

				RegRead("HKCU\Software\SMITE Optimizer\","ConfigCookieSimple")

			If @Error Then ;- Default to native resolution on first launch!
				$Res = _GUICtrlComboBox_SelectString($MainGUIHomeSimpleComboScreenRes,@DesktopWidth & " x " & @DesktopHeight)
			Else

				If StringLeft($Split[6],6) <> "Custom" Then

					$Res = _GUICtrlComboBox_SelectString($MainGUIHomeSimpleComboScreenRes,$Split[6])

				Else ;- When a custom resolution is set, load from reg keys!

					Local $sReadX = RegRead("HKCU\Software\SMITE Optimizer\","Custom_ResX")
						$sReadX = Floor(Abs(Number($sReadX))) ;- No exponents, negative numbers, or decimals. (Also strips a leading zero and characters!)
							$sReadX = ($sReadX < 800 ? 800 : $sReadX > 15360 ? 15360 : $sReadX) ;- Lowest: 800, clamp to 16k resolution, about time we use ternary operators!

					Local $sReadY = RegRead("HKCU\Software\SMITE Optimizer\","Custom_ResY")
						$sReadY = Floor(Abs(Number($sReadY))) ;- No exponents, negative numbers, or decimals. (Also strips a leading zero and characters!)
							$sReadY = ($sReadY < 600 ? 600 : $sReadY > 8640 ? 8640 : $sReadY) ;- Lowest: 800, clamp to 16k resolution, about time we use ternary operators!

					$Res = _GUICtrlComboBox_SelectString($MainGUIHomeSimpleComboScreenRes,"Custom (" & $sReadX & " x " & $sReadY & ")")

				EndIf


				If $Res = -1 Then
					_GUICtrlComboBox_SelectString($MainGUIHomeSimpleComboScreenRes,@DesktopWidth & " x " & @DesktopHeight) ;- That resolution is not available anymore, so we default to native!
				EndIf

			EndIf


			GUICtrlSetData($MainGUIHomeSimpleSliderScreenResScale,$Split[7])
			_GUICtrlComboBox_SelectString($MainGUIHomeSimpleComboWindowmode,$Split[8])
			_GUICtrlComboBox_SelectString($MainGUIHomeSimpleComboAntialiasing,$Split[9])
			_GUICtrlComboBox_SelectString($MainGUIHomeSimpleComboMaxAnisotropy,$Split[10])
			_GUICtrlComboBox_SelectString($MainGUIHomeSimpleComboDetailMode,$Split[11])
			GUICtrlSetState($MainGUIHomeSimpleCheckboxVSync,Internal_ConvertMagicNumber($Split[12]))
			GUICtrlSetState($MainGUIHomeSimpleCheckboxRagdollPhysics,Internal_ConvertMagicNumber($Split[13]))
;~ 			GUICtrlSetState($MainGUIHomeSimpleCheckboxDirectX11,Internal_ConvertMagicNumber($Split[14])) ;- Disabled to comply with patch 11.4.
			GUICtrlSetState($MainGUIHomeSimpleCheckboxBloom,Internal_ConvertMagicNumber($Split[15]))
			GUICtrlSetState($MainGUIHomeSimpleCheckboxDecals,Internal_ConvertMagicNumber($Split[16]))
			GUICtrlSetState($MainGUIHomeSimpleCheckboxDynamicLightShadows,Internal_ConvertMagicNumber($Split[17]))
			GUICtrlSetState($MainGUIHomeSimpleCheckboxLensflares,Internal_ConvertMagicNumber($Split[18]))
			GUICtrlSetState($MainGUIHomeSimpleCheckboxReflections,Internal_ConvertMagicNumber($Split[19]))
			GUICtrlSetState($MainGUIHomeSimpleCheckboxHighQualityMats,Internal_ConvertMagicNumber($Split[20]))


			$LastReadScrResSimple = GUICtrlRead($MainGUIHomeSimpleComboScreenRes) ;- This needs to be set here so that it doesn't trigger an input event!
			$HomeSimpleComboResLastIndex = $LastReadScrResSimple

		EndIf

		If $ProgramHomeState = "Advanced" or $InitBool Then
			If not $Performance Then ;- Do we want to use the maximum performance settings?
				$Int_Settings = RegRead("HKCU\Software\SMITE Optimizer\","ConfigCookieAdvanced")

				If @Error or $Bool Then ;- If the key doesn't exist or we clicked the "Restore Defaults" button, we want to use the default settings!
					$Int_Settings = "Best|" & _ ;- World Quality.
									"Best|" & _ ;- Character Quality.
									"Best|" & _ ;- Terrain Quality.
									"Best|" & _ ;- NPC Quality.
									"Best|" & _ ;- Weapon Quality.
									"Best|" & _ ;- Vehicle Quality.
									"Best|" & _ ;- Shadow Quality.
									"Best|" & _ ;- Particle Quality.
									"Best|" & _ ;- Sky Quality.
									"Best|" & _ ;- Effects Quality.
									$AvailableResolutions[0] & "|" & _ ;- Screen Resolution. ([0] = Native)
									"100|" & _ ;- Screen Resolution Scale.
									"Fullscreen|" & _ ;- Window Type.
									"High|" & _ ;- Anti-Aliasing.
									"16x|" & _ ;- Anisotropic Filtering.
									"150|" & _ ;- FPS.
									$GUI_CHECKED & "|" & _ ;- SpeedTreeWind.
									$GUI_CHECKED & "|" & _ ;- SpeedTreeLeaves.
									$GUI_CHECKED & "|" & _ ;- SpeedTreeFronds.
									"2|" & _ ;- SpeedTreeLODBias.
									"2|" & _ ;- DetailMode.
									$GUI_UNCHECKED & "|" & _ ;- Vertical Synchronisation.
									$GUI_CHECKED & "|" & _ ;- Ragdoll Physics.
									$GUI_CHECKED & "|" & _ ;- DirectX 11.
									$GUI_CHECKED & "|" & _ ;- Bloom.
									$GUI_CHECKED & "|" & _ ;- Lensflares.
									$GUI_CHECKED & "|" & _ ;- Reflections.
									$GUI_CHECKED & "|" & _ ;- Uncompressed Textures.
									$GUI_CHECKED & "|" & _ ;- Light Shafts.
									$GUI_CHECKED & "|" & _ ;- FogVolumes.
									$GUI_CHECKED & "|" & _ ;- Distortion.
									$GUI_CHECKED & "|" & _ ;- Filtered Distortion.
									$GUI_CHECKED & "|" & _ ;- Drop Shadows.
									$GUI_CHECKED & "|" & _ ;- Whole Scene Dominant Shadows.
									$GUI_CHECKED & "|" & _ ;- Conservative Shadow Bounds.
									$GUI_CHECKED & "|" & _ ;- Light Environment Shadows.
									$GUI_CHECKED & "|" & _ ;- Static Decals.
									$GUI_CHECKED & "|" & _ ;- Dynamic Decals.
									$GUI_CHECKED & "|" & _ ;- Unbatched Decals.
									$GUI_CHECKED & "|" & _ ;- Dynamic Lights.
									$GUI_CHECKED & "|" & _ ;- Composite Dynamic Lights.
									$GUI_CHECKED & "|" & _ ;- SH Secondary Lighting.
									$GUI_CHECKED ;- Dynamic Shadows.
				EndIf
			Else
				$Int_Settings = "Low|" & _ ;- World Quality.
								"Low|" & _ ;- Character Quality.
								"Low|" & _ ;- Terrain Quality.
								"Low|" & _ ;- NPC Quality.
								"Low|" & _ ;- Weapon Quality.
								"Best|" & _ ;- Vehicle Quality.
								"Low|" & _ ;- Shadow Quality.
								"Low|" & _ ;- Particle Quality.
								"Low|" & _ ;- Sky Quality.
								"Low|" & _ ;- Effects Quality.
								$AvailableResolutions[0] & "|" & _ ;- Screen Resolution. ([0] = Native)
								"100|" & _ ;- Screen Resolution Scale.
								"Fullscreen|" & _ ;- Window Type.
								"Off|" & _ ;- Anti-Aliasing.
								"Off|" & _ ;- Anisotropic Filtering.
								"300|" & _ ;- FPS.
								$GUI_UNCHECKED & "|" & _ ;- SpeedTreeWind.
								$GUI_UNCHECKED & "|" & _ ;- SpeedTreeLeaves.
								$GUI_UNCHECKED & "|" & _ ;- SpeedTreeFronds.
								"0|" & _ ;- SpeedTreeLODBias.
								"0|" & _ ;- DetailMode.
								$GUI_UNCHECKED & "|" & _ ;- Vertical Synchronisation.
								$GUI_UNCHECKED & "|" & _ ;- Ragdoll Physics.
								$GUI_CHECKED & "|" & _ ;- DirectX 11.
								$GUI_UNCHECKED & "|" & _ ;- Bloom.
								$GUI_UNCHECKED & "|" & _ ;- Lensflares.
								$GUI_UNCHECKED & "|" & _ ;- Reflections.
								$GUI_UNCHECKED & "|" & _ ;- Uncompressed Textures.
								$GUI_UNCHECKED & "|" & _ ;- Light Shafts.
								$GUI_UNCHECKED & "|" & _ ;- FogVolumes.
								$GUI_UNCHECKED & "|" & _ ;- Distortion.
								$GUI_UNCHECKED & "|" & _ ;- Filtered Distortion.
								$GUI_UNCHECKED & "|" & _ ;- Drop Shadows.
								$GUI_UNCHECKED & "|" & _ ;- Whole Scene Dominant Shadows.
								$GUI_UNCHECKED & "|" & _ ;- Conservative Shadow Bounds.
								$GUI_UNCHECKED & "|" & _ ;- Light Environment Shadows.
								$GUI_CHECKED & "|" & _ ;- Static Decals.
								$GUI_CHECKED & "|" & _ ;- Dynamic Decals.
								$GUI_CHECKED & "|" & _ ;- Unbatched Decals.
								$GUI_UNCHECKED & "|" & _ ;- Dynamic Lights.
								$GUI_UNCHECKED & "|" & _ ;- Composite Dynamic Lights.
								$GUI_UNCHECKED & "|" & _ ;- SH Secondary Lighting.
								$GUI_UNCHECKED ;- Dynamic Shadows.
			EndIf

			Local $Split = StringSplit($Int_Settings,"|")
				_ArrayDelete($Split,0)

			_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboWorldQuality,$Split[0])
			_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboCharacterQuality,$Split[1])
			_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboTerrainQuality,$Split[2])
			_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboNPCQuality,$Split[3])
			_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboWeaponQuality,$Split[4])
			_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboVehicleQuality,$Split[5])
			_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboShadowsQuality,$Split[6])
			_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboParticleQualityLevel,$Split[7])
			_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboSkyQuality,$Split[8])
			_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboEffectsParticleQuality,$Split[9])


			Local $Res

				RegRead("HKCU\Software\SMITE Optimizer\","ConfigCookieAdvanced")

			If @Error Then ;- Default to native resolution on first launch!
				$Res = _GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboScreenRes,@DesktopWidth & " x " & @DesktopHeight)
			Else

				If StringLeft($Split[10],6) <> "Custom" Then

					$Res = _GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboScreenRes,$Split[10])

				Else ;- When a custom resolution is set, load from reg keys!

					Local $sReadX = RegRead("HKCU\Software\SMITE Optimizer\","Custom_ResX")
						$sReadX = Floor(Abs(Number($sReadX))) ;- No exponents, negative numbers, or decimals. (Also strips a leading zero and characters!)
							$sReadX = ($sReadX < 800 ? 800 : $sReadX > 15360 ? 15360 : $sReadX) ;- Lowest: 800, clamp to 16k resolution, about time we use ternary operators!

					Local $sReadY = RegRead("HKCU\Software\SMITE Optimizer\","Custom_ResY")
						$sReadY = Floor(Abs(Number($sReadY))) ;- No exponents, negative numbers, or decimals. (Also strips a leading zero and characters!)
							$sReadY = ($sReadY < 600 ? 600 : $sReadY > 8640 ? 8640 : $sReadY) ;- Lowest: 800, clamp to 16k resolution, about time we use ternary operators!

					$Res = _GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboScreenRes,"Custom (" & $sReadX & " x " & $sReadY & ")")

				EndIf


				If $Res = -1 Then
					_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboScreenRes,@DesktopWidth & " x " & @DesktopHeight) ;- That resolution is not available anymore, so we default to native!
				EndIf

			EndIf


			GUICtrlSetData($MainGUIHomeAdvancedSliderScreenResScale,$Split[11])
			_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboWindowmode,$Split[12])
			_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboAntialiasing,$Split[13])
			_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboMaxAnisotropy,$Split[14])


			Local $sLowerRead = StringLower($Split[15]) ;- Prevent people from using exponents, inf, or nan (Community Contribution)

			If $sLowerRead == "inf" or $sLowerRead == "nan" or StringInStr($sLowerRead,"e",0) <> 0 Then
				$Split[15] = 999
			EndIf

			GUICtrlSetData($MainGUIHomeAdvancedInputMaxFPS,$Split[15])


			GUICtrlSetState($MainGUIHomeAdvancedCheckboxSpeedTreeWind,Internal_ConvertMagicNumber($Split[16]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxSpeedTreeLeaves,Internal_ConvertMagicNumber($Split[17]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxSpeedTreeFronds,Internal_ConvertMagicNumber($Split[18]))
			_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboSpeedTreeLODBias,$Split[19])
			_GUICtrlComboBox_SelectString($MainGUIHomeAdvancedComboDetailMode,$Split[20])
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxVSync,Internal_ConvertMagicNumber($Split[21]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxPhysX,Internal_ConvertMagicNumber($Split[22]))
;~ 			GUICtrlSetState($MainGUIHomeAdvancedCheckboxDX11,Internal_ConvertMagicNumber($Split[23])) ;- Disabled to comply with patch 11.4.
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxBloom,Internal_ConvertMagicNumber($Split[24]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxLensflares,Internal_ConvertMagicNumber($Split[25]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxReflections,Internal_ConvertMagicNumber($Split[26]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxUncText,Internal_ConvertMagicNumber($Split[27]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxLightShafts,Internal_ConvertMagicNumber($Split[28]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxFogVolumes,Internal_ConvertMagicNumber($Split[29]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxDistortion,Internal_ConvertMagicNumber($Split[30]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxFilteredDistortion,Internal_ConvertMagicNumber($Split[31]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxDropShadows,Internal_ConvertMagicNumber($Split[32]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxWholeSceneShadows,Internal_ConvertMagicNumber($Split[33]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxConservShadowBounds,Internal_ConvertMagicNumber($Split[34]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxLightEnvShadows,Internal_ConvertMagicNumber($Split[35]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxStaticDecals,Internal_ConvertMagicNumber($Split[36]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxDynamicDecals,Internal_ConvertMagicNumber($Split[37]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxUnbatchedDecals,Internal_ConvertMagicNumber($Split[38]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxDynamicLights,Internal_ConvertMagicNumber($Split[39]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxCompDynamicLights,Internal_ConvertMagicNumber($Split[40]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxSHSecondaryLighting,Internal_ConvertMagicNumber($Split[41]))
			GUICtrlSetState($MainGUIHomeAdvancedCheckboxDynamicShadows,Internal_ConvertMagicNumber($Split[42]))


			$LastReadScrResAdvanced = GUICtrlRead($MainGUIHomeAdvancedComboScreenRes) ;- This needs to be set here so that it doesn't trigger an input event!
			$HomeSimpleComboResLastIndex = $LastReadScrResAdvanced

		EndIf
	EndFunc

	Func Internal_UpdateRestoreConfigList() ;- Update the backup file list.
		_GUICtrlListBox_ResetContent($MainGUIRestoreConfigurationsListFiles)

		Local $aFileList2D[0][2]

		Local $FileList = _FileListToArray($ConfigBackupPath,"*",2)
			_ArrayDelete($FileList,0)

		ReDim $aFileList2D[uBound($FileList)][2]

		For $I = uBound($FileList) - 1 To 0 Step -1 ;- Make sure only valid folders are added to the list. Needs to happen in reverse!

			If not FileExists($ConfigBackupPath & $FileList[$I] & "/Engine.ini") or not FileExists($ConfigBackupPath & $FileList[$I] & "/SystemSettings.ini") or not FileExists($ConfigBackupPath & $FileList[$I] & "/GameSettings.ini") Then
				_ArrayDelete($FileList,$I)
			Else

				$aFileList2D[$I][0] = $FileList[$I]

				Local $aStr = StringSplit($FileList[$I],"_")
				$aFileList2D[$I][1] = $aStr[3] & $aStr[2] & $aStr[1] & $aStr[4] & $aStr[5] & $aStr[6]

			EndIf
		Next


		_ArraySort($aFileList2D,1,Default,Default,1) ;- Descending, Col. 1


		Local $FileCount = uBound($aFileList2D,1)

		If $FileCount = 0 Then
			_GUICtrlListBox_AddString($MainGUIRestoreConfigurationsListFiles,"No backups available.")
		Else
			For $I = 0 To $FileCount - 1 Step 1
				_GUICtrlListBox_AddString($MainGUIRestoreConfigurationsListFiles,$aFileList2D[$I][0])
			Next
		EndIf
	EndFunc

	Func Internal_CreateConfigBackup() ;- Create config backup.

		fSendMetric("event_configbackup_create")

		Local $SubPath = $ConfigBackupPath & @MDAY & "_" & @MON & "_" & @YEAR & "_" & @HOUR & "_" & @MIN & "_" & @SEC

		Local $CreateDir = DirCreate($SubPath) ;- Create subdirectory.
		If $CreateDir = 0 Then Return False ;- If the directory creation was unsuccessful, we need to abort immediately!

		Local $FileCopy = FileCopy($SettingsPath,$SubPath & "\Engine.ini",1)
		If $FileCopy = 0 Then Return False ;- If the file copy was unsuccessful, we need to abort immediately!

		Local $FileCopy = FileCopy($SystemSettingsPath,$SubPath & "\SystemSettings.ini",1)
		If $FileCopy = 0 Then Return False ;- If the file copy was unsuccessful, we need to abort immediately!

		Local $FileCopy = FileCopy($GameSettingsPath,$SubPath & "\GameSettings.ini",1)
		If $FileCopy = 0 Then Return False ;- If the file copy was unsuccessful, we need to abort immediately!

		Internal_UpdateRestoreConfigList() ;- Update restore configuration list.

		Return True
	EndFunc

	;- Optimizer functions
	Func Interal_VerifyAndFixConfiguration($FileReadArray,$Hive) ;- This function ensures that the optimizer can apply all changes without any issues.

		;- It used to fix corruption and missing variables, but we leave that up to the game now.
		;- It doesn't work when the file is completely empty, which we consider a critical failure.
		;- In which case it's not our problem. If it's that bad, the person affected most likely has to deal with something much worse.


		;~ Group = The "group" of values, such as "[URL]"
		;~ Keyname = The name of a variable within a group, such as "Game="
		;~ Keyvalue = The value of a keyname within a group, such as "SMITE"
		;~ [URL] < Group
		;~ Game=SMITE < Keyname=Keyvalue


		;- Remove carriage returns, and new lines.

		For $I = uBound($FileReadArray) - 1 To 0 Step -1
			$FileReadArray[$I] = StringReplace($FileReadArray[$I],@CR,$sEmpty)
			$FileReadArray[$I] = StringReplace($FileReadArray[$I],@LF,$sEmpty)
		Next


		;- Remove comments, empty lines, and invalid lines.

		For $I = uBound($FileReadArray) - 1 To 0 Step -1

			Local $sLeft1 = StringLeft($FileReadArray[$I],1)

			If $sLeft1 = ";" Or $sLeft1 = "/" Or $sLeft1 = "#" Or $sLeft1 = $sEmpty Then
				_ArrayDelete($FileReadArray,$I)
			EndIf
		Next


		;- Remove empty groups.

		Local $iStartBounds = (uBound($FileReadArray) - 1)

		For $I = $iStartBounds To 0 Step -1

			If StringLeft($FileReadArray[$I],1) = "[" Then

				If ($I > 0 And StringLeft($FileReadArray[$I-1],1) = "[") Then
					_ArrayDelete($FileReadArray,$I-1)
				ElseIf $I = $iStartBounds Then
					_ArrayDelete($FileReadArray,$I)
				EndIf
			EndIf
		Next


		;- Remove duplicates.
		;- This avoids potential conflicts. The first occurrence is kept, since duplicates after that are not used by the game.
		;- This preserves any settings the user might have made that do not get changed by the optimizer.
		;- This also includes changes like login information, tracking, cookies, etc.


		Local $aGroups[0] ;- Cache groups.

		For $I = 0 To uBound($FileReadArray) - 1 Step 1

			If StringLeft($FileReadArray[$I],1) = "[" Then

				Local $iSize = uBound($aGroups)
				ReDim $aGroups[$iSize + 1]

				$aGroups[$iSize] = $FileReadArray[$I]

			EndIf
		Next


		Local $aGroupDupes[0] ;- Cache duplicate groups.

		For $I = 0 To uBound($aGroups) - 1 Step 1

			For $B = ($I + 1) To uBound($aGroups) - 1 Step 1

				If $aGroups[$I] = $aGroups[$B] Then

					;- Check if this one is cached already; if so, skip it.
					For $C = 0 To uBound($aGroupDupes) - 1 Step 1
						If $aGroupDupes[$C] = $aGroups[$B] Then
							ExitLoop(2)
						EndIf
					Next

					Local $iSize = uBound($aGroupDupes)
					ReDim $aGroupDupes[$iSize + 1]

					$aGroupDupes[$iSize] = $aGroups[$I]

					ExitLoop

				EndIf
			Next
		Next


		;- Iterate through duplicate groups and cache ranges that we need to delete.

		Local $aCachedRanges[0]
		Local $iBounds = (uBound($FileReadArray) - 1)

		For $I = 0 To uBound($aGroupDupes) - 1 Step 1

			Local $iLastOccurance = 0


			For $A = $iBounds To 0 Step -1
				If $FileReadArray[$A] = $aGroupDupes[$I] Then
					$iLastOccurance = ($A - 1)
					ExitLoop
				EndIf
			Next

			For $A = 0 To $iLastOccurance Step 1

				If $FileReadArray[$A] = $aGroupDupes[$I] Then  ;- Additional occurance.


					;- Find the next group or the end of the file.

					Local $IEnd = $iLastOccurance

					For $B = ($A + 1) To $iLastOccurance Step 1 ;- Clamps itself (start > end.)

						If StringLeft($FileReadArray[$B],1) = "[" Then
							$IEnd = ($B - 1) ;- Get range of the next group start.
							ExitLoop
						EndIf
					Next


					;- Cache found range.
					Local $iSize = uBound($aCachedRanges)
					ReDim $aCachedRanges[$iSize + 1]

					$aCachedRanges[$iSize] = ($A & "-" & $IEnd)

				EndIf
			Next
		Next

		;- Remove ranges in the array.

		For $I = uBound($aCachedRanges) - 1 To 0 Step -1
			_ArrayDelete($FileReadArray,$aCachedRanges[$I])
		Next


		;- Restore missing groups and keynames that the SMITE Optimizer is capable of modifying.

		;- Restore missing groups.

		For $I = 0 To uBound($Hive,1) - 1 Step 1 ;- Rows.

			Local $sGroup = $Hive[$I][0]

			If $sGroup = "" Then ;- HiveX end reached; continue with the next row.
				ExitLoop
			EndIf


			;- Add the group if it is missing!

			Local $iBounds = uBound($FileReadArray) - 1

			For $B = 0 To $iBounds Step 1

				If $FileReadArray[$B] = $sGroup Then ;- Group start.
					ExitLoop
				ElseIf $B = $iBounds Then ;- Group is missing; add it back!
					_ArrayAdd($FileReadArray,$sGroup)
				EndIf
			Next
		Next


		;- Add missing keynames to groups.

		;- Restore keynames.
		_ArrayAdd($FileReadArray,"") ;- Cheeky hack that is needed.


		For $I = 0 To uBound($Hive,1) - 1 Step 1 ;- Rows.

			Local $sGroup = $Hive[$I][0]

			If $sGroup = "" Then ;- HiveX end reached; continue with the next row.
				ExitLoop
			EndIf


			For $B = 1 To uBound($Hive,2) - 1 Step 1 ;- Columns, iterate through all keynames.

				Local $sKeyName = $Hive[$I][$B]
				Local $iLen = StringLen($sKeyName)

				If $sKeyName = "" or $iLen = 0 Then ;- HiveY end reached; continue with the next row.
					ExitLoop
				EndIf


				;- Retrieve the start of the group.

				Local $bGroupFound = False
				Local $iGroupStart

				For $C = 0 To uBound($FileReadArray) - 1 Step 1
					If $FileReadArray[$C] = $sGroup Then
						$bGroupFound = True
						$iGroupStart = $C+1
						ExitLoop
					EndIf
				Next


				If $bGroupFound Then

					;- Since we can potentially extend the file past its bounds, we have an open boundary and escape before a crash could occur.

					For $C = $iGroupStart To 2^31 Step 1 ;- Spicy. What could possibly go wrong?

						If $C > (uBound($FileReadArray) - 1) Then ;- Panic escape // safety.
							ExitLoop
						EndIf


						If StringLeft($FileReadArray[$C],$iLen) = $sKeyName Then ;- KeyName was found; no changes were needed.
							ExitLoop
						EndIf

						If StringLeft($FileReadArray[$C],1) = "[" Or StringLeft($FileReadArray[$C],1) = "" Then ;- We hit a group or the end of the file.

							;- Insert KeyName into the group.
							_ArrayInsert($FileReadArray,$iGroupStart,$sKeyName&"=")

							ExitLoop

						EndIf

					Next
				EndIf
			Next
		Next


		;- Insert 1 empty line above each group, except the top of the array.

		For $I = uBound($FileReadArray) - 1 To 1 Step -1
			If $I > 1 and StringLeft($FileReadArray[$I],1) = "[" Then
				_ArrayInsert($FileReadArray,$I,"")
			EndIf
		Next


		Return $FileReadArray

	EndFunc

	Func Internal_GetQualityLevel($Data) ;- Used to determine the quality level selected.
		Local $Ret = 3 ;- In case we somehow got supplied with a bad $Data variable, we want to return the default setting!

		Switch $Data
			Case "Best"
				$Ret = 0
			Case "High"
				$Ret = 1
			Case "Medium"
				$Ret = 2
			Case "Low"
				$Ret = 3
			Case "Very Low"
				$Ret = 4
			Case "Minimum"
				$Ret = 5
			Case "Potato"
				$Ret = 6
			Case "Lowest Possible"
				$Ret = 7

		EndSwitch

		Return $Ret
	EndFunc

	Func Internal_ApplyKey($Array,$KeyName,$KeyValue) ;- Used to write single key settings.

		Local $KeyLength = StringLen($KeyName)
		For $A = 0 To uBound($Array) - 1 Step 1
			If StringLeft($Array[$A],$KeyLength) = $KeyName Then ;- Replace all occurrences of that key within the .INI
				$Array[$A] = $KeyName&$KeyValue
			EndIf
		Next

		Return $Array
	EndFunc

	Func Internal_ApplySystemKey($Array,$KeyName,$KeyValue) ;- Used to write key settings to the [SystemSettings] group.

		Local $KeyLength = StringLen($KeyName)
		Local $FoundGroup = False

		For $A = 0 To uBound($Array) - 1 Step 1
			If not $FoundGroup Then ;- We need to make sure that we are in the correct group!
				If $Array[$A] = "[SystemSettings]" Then
					$FoundGroup = True
				EndIf
			ElseIf StringLeft($Array[$A],$KeyLength) = $KeyName Then ;- Group was found, and this is the keyvalue we want to modify, so modify it.

				$Array[$A] = $KeyName&$KeyValue ;- This changes all occurrences within the group.

			ElseIf $FoundGroup And StringLeft($Array[$A],1) = "[" Then ;- End of the group was reached.
				ExitLoop
			EndIf
		Next

		Return $Array
	EndFunc

	Func Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Used to write settings from the TextureHive.
		For $I = 0 To 3 Step 1
			If $TextureQualityHive[$HSubIndex][$Quality][$I] = $sEmpty Then ExitLoop ;- End of HiveZ reached.

			Local $VarStart = StringInStr($TextureQualityHive[$HSubIndex][$Quality][$I],"=")
			Local $SubKeyname = StringLeft($TextureQualityHive[$HSubIndex][$Quality][$I],$VarStart) ;- Retrieve the name of the key.
			Local $SubKeyvar = StringMid($TextureQualityHive[$HSubIndex][$Quality][$I],$VarStart+1) ;- Retrieve the value of the key.

			Local $KeyLength = StringLen($SubKeyname)
			Local $FoundGroup = False

			For $A = 0 To uBound($Array) - 1 Step 1
				If not $FoundGroup Then ;- We need to make sure that we are in the correct group!
					If $Array[$A] = "[SystemSettings]" Then
						$FoundGroup = True
					EndIf
				ElseIf StringLeft($Array[$A],$KeyLength) = $SubKeyname Then ;- Replace the first occurrence of that key within the .INI with the value from the TextureHive.
					$Array[$A] = $TextureQualityHive[$HSubIndex][$Quality][$I]
					ExitLoop
				EndIf
			Next
		Next

		Return $Array
	EndFunc

	Func Internal_CheckboxToStrBool($Checkbox)
		Local $Read = GUICtrlRead($Checkbox)
		If $Read = $GUI_CHECKED Then Return "True"

		Return "False"
	EndFunc

	Func Internal_ApplyChanges($Array,$State)
		If $State = "EngineSettings" Then

			;- FPS (Continued in SystemSettings)
			;- ----- ----- ----- ----- -----

				If $ProgramHomeState = "Simple" Then

					Local $RRead = GUICtrlRead($MainGUIHomeSimpleInputMaxFPS)
					If $RRead < 30 Then $RRead = 30 ;- Restrict people from going lower than 30. I'd rather not have potatoes in my games.


					Local $sLowerRead = StringLower($RRead) ;- Prevent people from using exponents, inf, or nan (Community Contribution)

					If $sLowerRead = "inf" or $sLowerRead = "nan" or StringInStr($sLowerRead,"e",0) <> 0 Then
						$RRead = 999
					EndIf


					$Array = Internal_ApplyKey($Array,"bSmoothFrameRate=","True")
					$Array = Internal_ApplyKey($Array,"MinDesiredFrameRate=",$RRead/2)
					$Array = Internal_ApplyKey($Array,"MinSmoothedFrameRate=",$RRead/2)
					$Array = Internal_ApplyKey($Array,"MaxSmoothedFrameRate=",$RRead)

				ElseIf $ProgramHomeState = "Advanced" Then

					Local $RRead = GUICtrlRead($MainGUIHomeAdvancedInputMaxFPS)
					If $RRead < 30 Then $RRead = 30 ;- Restrict people from going lower than 30. I'd rather not have potatoes in my games.


					Local $sLowerRead = StringLower($RRead) ;- Prevent people from using exponents, inf, or nan (Community Contribution)

					If $sLowerRead = "inf" or $sLowerRead = "nan" or StringInStr($sLowerRead,"e",0) <> 0 Then
						$RRead = 999
					EndIf


					$Array = Internal_ApplyKey($Array,"bSmoothFrameRate=","True")
					$Array = Internal_ApplyKey($Array,"MinDesiredFrameRate=",$RRead/2)
					$Array = Internal_ApplyKey($Array,"MinSmoothedFrameRate=",$RRead/2)
					$Array = Internal_ApplyKey($Array,"MaxSmoothedFrameRate=",$RRead)

				EndIf

			;- ----- ----- ----- ----- -----

			$Array = Internal_ApplyKey($Array,"MaximumPoolSize=","0") ;- Default
			$Array = Internal_ApplyKey($Array,"MinimumPoolSize=","255") ;- Default

			;- We want to set the maximum loading time for textures to 1 second and load the rest outside the loading screen.
			;- This looks rather ugly for the player when textures load in after the loading screen, but reduced loading times are better for everyone.
			;- Plus, there is usually at least a 30-second pre-game timer, which is more than enough time to load textures for any potato.
			$Array = Internal_ApplyKey($Array,"LoadMapTimeLimit=","1")
			$Array = Internal_ApplyKey($Array,"UseDynamicStreaming=","True") ;- Only works with this option enabled.

			fSendMetric("event_applychanges_engine_complete")

		ElseIf $State = "SystemSettings" Then

			;- Even though depth of field seems to be enabled by default on max settings (need confirmation), it causes a lot of problems and artifacts, especially in assault.
			$Array = Internal_ApplySystemKey($Array,"DepthOfField=","False") ;- So we simply disable it by default.

			$Array = Internal_ApplySystemKey($Array,"DirectionalLightmaps=","True") ;- Default. (We are setting this to true to prevent crashes.)

			;- The following settings don't have any effect, but we disable them anyway since it could still run extra instructions.
			$Array = Internal_ApplySystemKey($Array,"MotionBlur=","False")
			$Array = Internal_ApplySystemKey($Array,"MotionBlurPause=","False")
			$Array = Internal_ApplySystemKey($Array,"MotionBlurSkinning=","1") ;- Default.
			$Array = Internal_ApplySystemKey($Array,"MaxFilterBlurSampleCount=","4") ;- Default.

			If $ProgramHomeState = "Simple" Then

				;- World Quality
				;- ----- ----- ----- ----- -----

					;- In Simple mode, "World Quality" changes both World and the Terrain.

					Local $Quality = GUICtrlRead($MainGUIHomeSimpleComboWorldQuality)
					$Quality = Internal_GetQualityLevel($Quality) ;- Retrieve the index of the TextureHive respectively.

					Local $HSubIndex = 0 ;- 0 = World Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply World Quality

					$HSubIndex = 2 ;- 2 = Terrain Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply Terrain Quality

					;- If the world quality is lower than high, we want to disable some settings.
					;- Animated trees, light shafts, fog detail, Depth of Field, Texture based filter distortions.

					If $Quality > 2 Then ;- If lower than high.
						$Array = Internal_ApplySystemKey($Array,"SpeedTreeWind=","False")
						$Array = Internal_ApplySystemKey($Array,"SpeedTreeLeaves=","False")
						$Array = Internal_ApplySystemKey($Array,"SpeedTreeFronds=","False")
						$Array = Internal_ApplySystemKey($Array,"SpeedTreeLODBias=","0")

						$Array = Internal_ApplySystemKey($Array,"bAllowLightShafts=","False")

						$Array = Internal_ApplySystemKey($Array,"FogVolumes=","False")

						$Array = Internal_ApplySystemKey($Array,"Distortion=","False")
						$Array = Internal_ApplySystemKey($Array,"FilteredDistortion=","False")
					Else
						$Array = Internal_ApplySystemKey($Array,"SpeedTreeWind=","True") ;- Default.
						$Array = Internal_ApplySystemKey($Array,"SpeedTreeLeaves=","True") ;- Default.
						$Array = Internal_ApplySystemKey($Array,"SpeedTreeFronds=","True") ;- Default.
						$Array = Internal_ApplySystemKey($Array,"SpeedTreeLODBias=","2") ;- 2 Is the default value.

						$Array = Internal_ApplySystemKey($Array,"bAllowLightShafts=","True") ;- Default.

						$Array = Internal_ApplySystemKey($Array,"FogVolumes=","True") ;- Default.

						$Array = Internal_ApplySystemKey($Array,"Distortion=","True") ;- Default.
						$Array = Internal_ApplySystemKey($Array,"FilteredDistortion=","True") ;- Default.
					EndIf

				;- ----- ----- ----- ----- -----

				;- Character Quality
				;- ----- ----- ----- ----- -----

					;- In Simple mode, "Character Quality" changes Character, NPC, Weapon, and Vehicle Quality.

					Local $Quality = GUICtrlRead($MainGUIHomeSimpleComboCharacterQuality)
					$Quality = Internal_GetQualityLevel($Quality) ;- Retrieve the index of the TextureHive respectively.

					Local $HSubIndex = 1 ;- 1 = Character Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply Character Quality

					Local $HSubIndex = 3 ;- 3 = NPC Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply NPC Quality

					Local $HSubIndex = 4 ;- 4 = Weapon Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply Weapon Quality

					Local $HSubIndex = 5 ;- 5 = Vehicle Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply Vehicle Quality

				;- ----- ----- ----- ----- -----

				;- Shadow Quality
				;- ----- ----- ----- ----- -----

					Local $Quality = GUICtrlRead($MainGUIHomeSimpleComboShadowQuality)
					$Quality = Internal_GetQualityLevel($Quality) ;- Retrieve the index of the TextureHive respectively.

					Local $HSubIndex = 6 ;- 6 = Shadow Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply Shadow Quality

					;- If the shadow quality is lower than high, we want to change some settings.
					;- Drop shadows, image based shadows, smooth bounds, shadows based on light reflections.

					If $Quality > 2 Then ;- If lower than high.
						$Array = Internal_ApplySystemKey($Array,"bAllowDropShadows=","False")
						$Array = Internal_ApplySystemKey($Array,"bAllowWholeSceneDominantShadows=","False")
						$Array = Internal_ApplySystemKey($Array,"bUseConservativeShadowBounds=","False")
						$Array = Internal_ApplySystemKey($Array,"LightEnvironmentShadows=","False")
					Else
						$Array = Internal_ApplySystemKey($Array,"bAllowDropShadows=","True")
						$Array = Internal_ApplySystemKey($Array,"bAllowWholeSceneDominantShadows=","True")
						$Array = Internal_ApplySystemKey($Array,"bUseConservativeShadowBounds=","True")
						$Array = Internal_ApplySystemKey($Array,"LightEnvironmentShadows=","True")
					EndIf

				;- ----- ----- ----- ----- -----

				;- Skybox Quality
				;- ----- ----- ----- ----- -----

					Local $Quality = GUICtrlRead($MainGUIHomeSimpleComboSkyQuality)
					$Quality = Internal_GetQualityLevel($Quality) ;- Retrieve the index of the TextureHive respectively.

					Local $HSubIndex = 7 ;- 7 = Skybox Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply Skybox Quality

				;- ----- ----- ----- ----- -----

				;- Effects Quality
				;- ----- ----- ----- ----- -----

					Local $Quality = GUICtrlRead($MainGUIHomeSimpleComboEffectsParticleQuality)
					$Quality = Internal_GetQualityLevel($Quality) ;- Retrieve the index of the TextureHive respectively.

					Local $HSubIndex = 8 ;- 8 = Effects Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply Effects Quality

					;- Set Particle Quality. ProgramSetting (Ingame Setting)
					If $Quality = 0 Then ;- 0 = Best (Maximum)
						$Array = Internal_ApplySystemKey($Array,"DropParticleDistortion=","False")
						$Array = Internal_ApplySystemKey($Array,"ParticleLODBias=","0")
						$Array = Internal_ApplySystemKey($Array,"PerfScalingBias=","0")
					ElseIf $Quality = 1 Then ;- 1 = High (High)
						$Array = Internal_ApplySystemKey($Array,"DropParticleDistortion=","True")
						$Array = Internal_ApplySystemKey($Array,"ParticleLODBias=","1")
						$Array = Internal_ApplySystemKey($Array,"PerfScalingBias=","0.1")
					ElseIf $Quality = 2 Then ;- 2 = Medium (Medium)
						$Array = Internal_ApplySystemKey($Array,"DropParticleDistortion=","True")
						$Array = Internal_ApplySystemKey($Array,"ParticleLODBias=","2")
						$Array = Internal_ApplySystemKey($Array,"PerfScalingBias=","0.2")
					ElseIf $Quality >= 3 Then ;- 10 = Low (Low)
						$Array = Internal_ApplySystemKey($Array,"DropParticleDistortion=","True")
						$Array = Internal_ApplySystemKey($Array,"ParticleLODBias=","10")
						$Array = Internal_ApplySystemKey($Array,"PerfScalingBias=","0.2")
					EndIf

				;- ----- ----- ----- ----- -----

				;- Resolution
				;- ----- ----- ----- ----- -----

					Local $RRead = GUICtrlRead($MainGUIHomeSimpleComboScreenRes)
					Local $SplitC = StringSplit($RRead,"x")
						_ArrayDelete($SplitC,0)

					;- Strip non-numeric characters!
					$SplitC[0] = StringReplace($SplitC[0],"Custom (",$sEmpty)
					Local $ScreenResX = Number($SplitC[0])
					Local $ScreenResY = Number($SplitC[1])

					$Array = Internal_ApplySystemKey($Array,"ResX=",$ScreenResX)
					$Array = Internal_ApplySystemKey($Array,"ResY=",$ScreenResY)

				;- ----- ----- ----- ----- -----

				;- Window mode
				;- ----- ----- ----- ----- -----

					Local $Mode = GUICtrlRead($MainGUIHomeSimpleComboWindowmode)
					If $Mode = "Fullscreen" Then
						$Array = Internal_ApplySystemKey($Array,"Fullscreen=","True")
						$Array = Internal_ApplySystemKey($Array,"FullscreenWindowed=","False")
						$Array = Internal_ApplySystemKey($Array,"Borderless=","False")
					ElseIf $Mode = "Borderless Window" Then
						$Array = Internal_ApplySystemKey($Array,"Fullscreen=","False")
						$Array = Internal_ApplySystemKey($Array,"FullscreenWindowed=","False")
						$Array = Internal_ApplySystemKey($Array,"Borderless=","True")
					ElseIf $Mode = "Windowed" Then
						$Array = Internal_ApplySystemKey($Array,"Fullscreen=","False")
						$Array = Internal_ApplySystemKey($Array,"FullscreenWindowed=","False")
						$Array = Internal_ApplySystemKey($Array,"Borderless=","False")
					EndIf

				;- ----- ----- ----- ----- -----

				;- Resolution Scale
				;- ----- ----- ----- ----- -----

					Local $RsEn = GUICtrlRead($MainGUIHomeSimpleSliderScreenResScale)
					If $RsEn <> 100 Then ;- Make sure this setting is actually enabled.
						$Array = Internal_ApplySystemKey($Array,"ScreenPercentage=",$RsEn)
						$Array = Internal_ApplySystemKey($Array,"UpscaleScreenPercentage=","True") ;- Upscaling is a lot faster than actually rendering the game at X% resolution and nearly has the same quality. (It's also on by default.)
					Else
						$Array = Internal_ApplySystemKey($Array,"ScreenPercentage=","100")
						$Array = Internal_ApplySystemKey($Array,"UpscaleScreenPercentage=","False")
					EndIf

				;- ----- ----- ----- ----- -----

				;- DirectX11
				;- ----- ----- ----- ----- -----

					;- DirectX11 has to always be enabled as of patch 11.4.
					$Array = Internal_ApplySystemKey($Array,"UseDX11=","True")
					$Array = Internal_ApplySystemKey($Array,"AllowD3D11=","True")
					$Array = Internal_ApplySystemKey($Array,"PreferD3D11=","True")
					$Array = Internal_ApplySystemKey($Array,"UseD3D11Beta=","True")

				;- ----- ----- ----- ----- -----

				;- Anti-Aliasing
				;- ----- ----- ----- ----- -----

					Local $AARead = GUICtrlRead($MainGUIHomeSimpleComboAntialiasing)

					If $AARead = "Off" Then
						$AARead = 0
					ElseIf $AARead = "Low" Then
						$AARead = 1
					ElseIf $AARead = "Medium" Then
						$AARead = 2
					ElseIf $AARead = "High" Then
						$AARead = 3
					EndIf

					$Array = Internal_ApplySystemKey($Array,"FXAAQuality=",$AARead)

				;- ----- ----- ----- ----- -----

				;- Anisotropic Filtering
				;- ----- ----- ----- ----- -----

					Local $AFRead = GUICtrlRead($MainGUIHomeSimpleComboMaxAnisotropy)

					If $AFRead = "Off" Then
						$AFRead = "0"
					Else
						$AFRead = StringReplace($AFRead,"x",$sEmpty)
					EndIf

					$Array = Internal_ApplySystemKey($Array,"MaxAnisotropy=",$AFRead)

				;- ----- ----- ----- ----- -----

				;- Decals
				;- ----- ----- ----- ----- -----

					Local $DecalsRead = GUICtrlRead($MainGUIHomeSimpleCheckboxDecals)

					$Array = Internal_ApplySystemKey($Array,"MaxActiveDecals=","0") ;- Default.

					If $DecalsRead = $GUI_UNCHECKED Then
						$Array = Internal_ApplySystemKey($Array,"StaticDecals=","False")
						$Array = Internal_ApplySystemKey($Array,"DynamicDecals=","False")
						$Array = Internal_ApplySystemKey($Array,"UnbatchedDecals=","False")
					ElseIf $DecalsRead = $GUI_CHECKED Then
						$Array = Internal_ApplySystemKey($Array,"StaticDecals=","True");- Default.
						$Array = Internal_ApplySystemKey($Array,"DynamicDecals=","True") ;- Default.
						$Array = Internal_ApplySystemKey($Array,"UnbatchedDecals=","True") ;- Default.
					EndIf

				;- ----- ----- ----- ----- -----

				;- Dynamic Lights and Shadows
				;- ----- ----- ----- ----- -----

					Local $DASRead = GUICtrlRead($MainGUIHomeSimpleCheckboxDynamicLightShadows)

					If $DASRead = $GUI_UNCHECKED Then
						$Array = Internal_ApplySystemKey($Array,"DynamicLights=","False")
						$Array = Internal_ApplySystemKey($Array,"CompositeDynamicLights=","False")
						$Array = Internal_ApplySystemKey($Array,"SHSecondaryLighting=","False")
						$Array = Internal_ApplySystemKey($Array,"DynamicShadows=","False")
					ElseIf $DASRead = $GUI_CHECKED Then
						$Array = Internal_ApplySystemKey($Array,"DynamicLights=","True") ;- Default.
						$Array = Internal_ApplySystemKey($Array,"CompositeDynamicLights=","True") ;- Default.
						$Array = Internal_ApplySystemKey($Array,"SHSecondaryLighting=","True") ;- Default.
						$Array = Internal_ApplySystemKey($Array,"DynamicShadows=","True") ;- Default.
					EndIf

				;- ----- ----- ----- ----- -----

				;- Reflections
				;- ----- ----- ----- ----- -----

					Local $ReflectionsRead = GUICtrlRead($MainGUIHomeSimpleCheckboxReflections)

					If $ReflectionsRead = $GUI_UNCHECKED Then
						$Array = Internal_ApplySystemKey($Array,"AllowImageReflections=","False")
						$Array = Internal_ApplySystemKey($Array,"AllowImageReflectionShadowing=","False")
					ElseIf $ReflectionsRead = $GUI_CHECKED Then
						$Array = Internal_ApplySystemKey($Array,"AllowImageReflections=","True") ;- Default.
						$Array = Internal_ApplySystemKey($Array,"AllowImageReflectionShadowing=","True") ;- Default.
					EndIf

				;- ----- ----- ----- ----- -----

				Local $FPSRead = GUICtrlRead($MainGUIHomeSimpleInputMaxFPS) ;- FPS. (Also being applied in EngineSettings.)
				If $FPSRead < 30 Then $FPSRead = 30 ;- Restrict people from going lower than 30. I'd rather not have potatoes in my games.


				Local $sLowerRead = StringLower($FPSRead) ;- Prevent people from using exponents, inf, or nan (Community Contribution)

				If $sLowerRead = "inf" or $sLowerRead = "nan" or StringInStr($sLowerRead,"e",0) <> 0 Then
					$FPSRead = 999
				EndIf

				$Array = Internal_ApplySystemKey($Array,"TargetFrameRate=",$FPSRead)


				Local $DetailModeRead = GUICtrlRead($MainGUIHomeSimpleComboDetailMode) ;- DetailMode.
				$Array = Internal_ApplySystemKey($Array,"DetailMode=",$DetailModeRead)

				Local $UseVsyncRead = Internal_CheckboxToStrBool($MainGUIHomeSimpleCheckboxVSync) ;- Vertical Synchronisation.
				$Array = Internal_ApplySystemKey($Array,"UseVsync=",$UseVsyncRead)
				$Array = Internal_ApplySystemKey($Array,"VsyncPresentInterval=","1")

				Local $PhysXRead = Internal_CheckboxToStrBool($MainGUIHomeSimpleCheckboxRagdollPhysics) ;- PhysX.
				$Array = Internal_ApplySystemKey($Array,"bAllowRagdolling=",$PhysXRead)

				Local $BloomRead = Internal_CheckboxToStrBool($MainGUIHomeSimpleCheckboxBloom) ;- Bloom.
				$Array = Internal_ApplySystemKey($Array,"Bloom=",$BloomRead)

				Local $LensFlareRead = Internal_CheckboxToStrBool($MainGUIHomeSimpleCheckboxLensflares) ;- Lensflares.
				$Array = Internal_ApplySystemKey($Array,"LensFlares=",$LensFlareRead)

				Local $UncompTextRead = Internal_CheckboxToStrBool($MainGUIHomeSimpleCheckboxHighQualityMats) ;- High Quality Textures.
				$Array = Internal_ApplySystemKey($Array,"bAllowHighQualityMaterials=",$UncompTextRead)
				$Array = Internal_ApplySystemKey($Array,"bUseLowQualMaterials=",not $UncompTextRead) ;- This is always the opposite of the checkbox.

			ElseIf $ProgramHomeState = "Advanced" Then

				;- ----- ----- ----- ----- -----

					Local $Quality = GUICtrlRead($MainGUIHomeAdvancedComboWorldQuality)
					$Quality = Internal_GetQualityLevel($Quality) ;- Retrieve the index of the TextureHive respectively.

					Local $HSubIndex = 0 ;- 0 = World Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply World Quality

				;- ----- ----- ----- ----- -----

					Local $Quality = GUICtrlRead($MainGUIHomeAdvancedComboCharacterQuality)
					$Quality = Internal_GetQualityLevel($Quality) ;- Retrieve the index of the TextureHive respectively.

					Local $HSubIndex = 1 ;- 1 = Character Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply Character Quality

				;- ----- ----- ----- ----- -----

					Local $Quality = GUICtrlRead($MainGUIHomeAdvancedComboTerrainQuality)
					$Quality = Internal_GetQualityLevel($Quality) ;- Retrieve the index of the TextureHive respectively.

					Local $HSubIndex = 2 ;- 2 = Terrain Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply Terrain Quality

				;- ----- ----- ----- ----- -----

					Local $Quality = GUICtrlRead($MainGUIHomeAdvancedComboNPCQuality)
					$Quality = Internal_GetQualityLevel($Quality) ;- Retrieve the index of the TextureHive respectively.

					Local $HSubIndex = 3 ;- 3 = NPC Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply NPC Quality

				;- ----- ----- ----- ----- -----

					Local $Quality = GUICtrlRead($MainGUIHomeAdvancedComboWeaponQuality)
					$Quality = Internal_GetQualityLevel($Quality) ;- Retrieve the index of the TextureHive respectively.

					Local $HSubIndex = 4 ;- 4 = Weapon Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply Weapon Quality

				;- ----- ----- ----- ----- -----

					Local $Quality = GUICtrlRead($MainGUIHomeAdvancedComboVehicleQuality)
					$Quality = Internal_GetQualityLevel($Quality) ;- Retrieve the index of the TextureHive respectively.

					Local $HSubIndex = 5 ;- 5 = Vehicle Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply Vehicle Quality

				;- ----- ----- ----- ----- -----

					Local $Quality = GUICtrlRead($MainGUIHomeAdvancedComboShadowsQuality)
					$Quality = Internal_GetQualityLevel($Quality) ;- Retrieve the index of the TextureHive respectively.

					Local $HSubIndex = 6 ;- 6 = Shadow Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply Shadow Quality

				;- ----- ----- ----- ----- -----

					Local $Quality = GUICtrlRead($MainGUIHomeAdvancedComboSkyQuality)
					$Quality = Internal_GetQualityLevel($Quality) ;- Retrieve the index of the TextureHive respectively.

					Local $HSubIndex = 7 ;- 7 = Sky Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply Sky Quality

				;- ----- ----- ----- ----- -----

					Local $Quality = GUICtrlRead($MainGUIHomeAdvancedComboEffectsParticleQuality)
					$Quality = Internal_GetQualityLevel($Quality) ;- Retrieve the index of the TextureHive respectively.

					Local $HSubIndex = 8 ;- 8 = Effects Settings.

					$Array = Internal_ApplySubkeys($Array,$HSubIndex,$Quality) ;- Apply Effects Quality

				;- ----- ----- ----- ----- -----

				;- Particle Quality Level
				;- ----- ----- ----- ----- -----

					Local $PQ_LevelRead = GUICtrlRead($MainGUIHomeAdvancedComboParticleQualityLevel)

					;- Set Particle Quality. ProgramSetting (Ingame Setting)
					If $PQ_LevelRead = "Best" Then ;- Best (Maximum)
						$Array = Internal_ApplySystemKey($Array,"DropParticleDistortion=","False")
						$Array = Internal_ApplySystemKey($Array,"ParticleLODBias=","0")
						$Array = Internal_ApplySystemKey($Array,"PerfScalingBias=","0")
					ElseIf $PQ_LevelRead = "High" Then ;- High (High)
						$Array = Internal_ApplySystemKey($Array,"DropParticleDistortion=","True")
						$Array = Internal_ApplySystemKey($Array,"ParticleLODBias=","1")
						$Array = Internal_ApplySystemKey($Array,"PerfScalingBias=","0.1")
					ElseIf $PQ_LevelRead = "Medium" Then ;- Medium (Medium)
						$Array = Internal_ApplySystemKey($Array,"DropParticleDistortion=","True")
						$Array = Internal_ApplySystemKey($Array,"ParticleLODBias=","2")
						$Array = Internal_ApplySystemKey($Array,"PerfScalingBias=","0.2")
					ElseIf $PQ_LevelRead = "Low" Then ;- Low (Low)
						$Array = Internal_ApplySystemKey($Array,"DropParticleDistortion=","True")
						$Array = Internal_ApplySystemKey($Array,"ParticleLODBias=","10")
						$Array = Internal_ApplySystemKey($Array,"PerfScalingBias=","0.2")
					EndIf

				;- ----- ----- ----- ----- -----

				;- Resolution
				;- ----- ----- ----- ----- -----

					Local $RRead = GUICtrlRead($MainGUIHomeAdvancedComboScreenRes)
					Local $SplitC = StringSplit($RRead,"x")
						_ArrayDelete($SplitC,0)

					;- Strip non-numeric characters!
					$SplitC[0] = StringReplace($SplitC[0],"Custom (",$sEmpty)
					Local $ScreenResX = Number($SplitC[0])
					Local $ScreenResY = Number($SplitC[1])

					$Array = Internal_ApplySystemKey($Array,"ResX=",$ScreenResX)
					$Array = Internal_ApplySystemKey($Array,"ResY=",$ScreenResY)

				;- ----- ----- ----- ----- -----

				;- Window mode
				;- ----- ----- ----- ----- -----

					Local $Mode = GUICtrlRead($MainGUIHomeAdvancedComboWindowmode)
					If $Mode = "Fullscreen" Then
						$Array = Internal_ApplySystemKey($Array,"Fullscreen=","True")
						$Array = Internal_ApplySystemKey($Array,"FullscreenWindowed=","False")
						$Array = Internal_ApplySystemKey($Array,"Borderless=","False")
					ElseIf $Mode = "Borderless Window" Then
						$Array = Internal_ApplySystemKey($Array,"Fullscreen=","False")
						$Array = Internal_ApplySystemKey($Array,"FullscreenWindowed=","False")
						$Array = Internal_ApplySystemKey($Array,"Borderless=","True")
					ElseIf $Mode = "Windowed" Then
						$Array = Internal_ApplySystemKey($Array,"Fullscreen=","False")
						$Array = Internal_ApplySystemKey($Array,"FullscreenWindowed=","False")
						$Array = Internal_ApplySystemKey($Array,"Borderless=","False")
					EndIf

				;- ----- ----- ----- ----- -----

				;- Resolution Scale
				;- ----- ----- ----- ----- -----

					Local $RsEn = GUICtrlRead($MainGUIHomeAdvancedSliderScreenResScale)
					If $RsEn <> 100 Then ;- Make sure this setting is actually enabled.
						$Array = Internal_ApplySystemKey($Array,"ScreenPercentage=",$RsEn)
						$Array = Internal_ApplySystemKey($Array,"UpscaleScreenPercentage=","True") ;- Upscaling is a lot faster than actually rendering the game at X% resolution and nearly has the same quality. (It's also on by default.)
					Else
						$Array = Internal_ApplySystemKey($Array,"ScreenPercentage=","100")
						$Array = Internal_ApplySystemKey($Array,"UpscaleScreenPercentage=","False")
					EndIf

				;- ----- ----- ----- ----- -----

				;- Anti-Aliasing
				;- ----- ----- ----- ----- -----

					Local $AARead = GUICtrlRead($MainGUIHomeAdvancedComboAntialiasing)

					If $AARead = "Off" Then
						$AARead = 0
					ElseIf $AARead = "Low" Then
						$AARead = 1
					ElseIf $AARead = "Medium" Then
						$AARead = 2
					ElseIf $AARead = "High" Then
						$AARead = 3
					EndIf

					$Array = Internal_ApplySystemKey($Array,"FXAAQuality=",$AARead)

				;- ----- ----- ----- ----- -----

				;- Anisotropic Filtering
				;- ----- ----- ----- ----- -----

					Local $AFRead = GUICtrlRead($MainGUIHomeAdvancedComboMaxAnisotropy)

					If $AFRead = "Off" Then
						$AFRead = "0"
					Else
						$AFRead = StringReplace($AFRead,"x",$sEmpty)
					EndIf

					$Array = Internal_ApplySystemKey($Array,"MaxAnisotropy=",$AFRead)

				;- ----- ----- ----- ----- -----

				;- DirectX11
				;- ----- ----- ----- ----- -----

					;- DirectX11 has to always be enabled as of patch 11.4.
					$Array = Internal_ApplySystemKey($Array,"UseDX11=","True")
					$Array = Internal_ApplySystemKey($Array,"AllowD3D11=","True")
					$Array = Internal_ApplySystemKey($Array,"PreferD3D11=","True")
					$Array = Internal_ApplySystemKey($Array,"UseD3D11Beta=","True")

				;- ----- ----- ----- ----- -----

				;- Reflections
				;- ----- ----- ----- ----- -----

					Local $ReflectionsRead = GUICtrlRead($MainGUIHomeAdvancedCheckboxReflections)

					If $ReflectionsRead = $GUI_UNCHECKED Then
						$Array = Internal_ApplySystemKey($Array,"AllowImageReflections=","False")
						$Array = Internal_ApplySystemKey($Array,"AllowImageReflectionShadowing=","False")
					ElseIf $ReflectionsRead = $GUI_CHECKED Then
						$Array = Internal_ApplySystemKey($Array,"AllowImageReflections=","True") ;- Default.
						$Array = Internal_ApplySystemKey($Array,"AllowImageReflectionShadowing=","True") ;- Default.
					EndIf

				;- ----- ----- ----- ----- -----

				Local $FPSRead = GUICtrlRead($MainGUIHomeAdvancedInputMaxFPS) ;- FPS. (Also being applied in EngineSettings)
				If $FPSRead < 30 Then $FPSRead = 30 ;- Restrict people from going lower than 30. I'd rather not have potatoes in my games.


				Local $sLowerRead = StringLower($FPSRead) ;- Prevent people from using exponents, inf, or nan (Community Contribution)

				If $sLowerRead = "inf" or $sLowerRead = "nan" or StringInStr($sLowerRead,"e",0) <> 0 Then
					$FPSRead = 999
				EndIf

				$Array = Internal_ApplySystemKey($Array,"TargetFrameRate=",$FPSRead)


				Local $UseVsyncRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxVSync) ;- Vertical Synchronisation.
				$Array = Internal_ApplySystemKey($Array,"UseVsync=",$UseVsyncRead)
				$Array = Internal_ApplySystemKey($Array,"VsyncPresentInterval=","1")

				Local $PhysXRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxPhysX) ;- PhysX.
				$Array = Internal_ApplySystemKey($Array,"bAllowRagdolling=",$PhysXRead)

				Local $BloomRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxBloom) ;- Bloom.
				$Array = Internal_ApplySystemKey($Array,"Bloom=",$BloomRead)

				Local $SpeedTreeWindRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxSpeedTreeWind) ;- SpeedTreeWind.
				$Array = Internal_ApplySystemKey($Array,"SpeedTreeWind=",$SpeedTreeWindRead)

				Local $SpeedTreeLeavesRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxSpeedTreeLeaves) ;- SpeedTreeLeaves.
				$Array = Internal_ApplySystemKey($Array,"SpeedTreeLeaves=",$SpeedTreeLeavesRead)

				Local $SpeedTreeFrondsRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxSpeedTreeFronds) ;- SpeedTreeFronds.
				$Array = Internal_ApplySystemKey($Array,"SpeedTreeFronds=",$SpeedTreeFrondsRead)

				Local $SpeedTreeLODBiasRead = GUICtrlRead($MainGUIHomeAdvancedComboSpeedTreeLODBias) ;- SpeedTreeLODBias.
				$Array = Internal_ApplySystemKey($Array,"SpeedTreeLODBias=",$SpeedTreeLODBiasRead)

				Local $DetailModeRead = GUICtrlRead($MainGUIHomeAdvancedComboDetailMode) ;- DetailMode.
				$Array = Internal_ApplySystemKey($Array,"DetailMode=",$DetailModeRead)

				Local $LensflaresRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxLensflares) ;- Lensflares.
				$Array = Internal_ApplySystemKey($Array,"LensFlares=",$LensflaresRead)

				Local $LightEnvShadowsRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxLightEnvShadows) ;- LightEnvironmentShadows.
				$Array = Internal_ApplySystemKey($Array,"LightEnvironmentShadows=",$LightEnvShadowsRead)

				Local $LightShaftsRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxLightShafts) ;- LightShafts.
				$Array = Internal_ApplySystemKey($Array,"bAllowLightShafts=",$LightShaftsRead)

				Local $FogVolumesRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxFogVolumes) ;- FogVolumes.
				$Array = Internal_ApplySystemKey($Array,"FogVolumes=",$FogVolumesRead)

				Local $DistortionRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxDistortion) ;- Distortion.
				$Array = Internal_ApplySystemKey($Array,"Distortion=",$DistortionRead)

				Local $FilteredDistortionRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxFilteredDistortion) ;- FilteredDistortion.
				$Array = Internal_ApplySystemKey($Array,"FilteredDistortion=",$FilteredDistortionRead)

				Local $DropShadowsRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxDropShadows) ;- DropShadows.
				$Array = Internal_ApplySystemKey($Array,"bAllowDropShadows=",$DropShadowsRead)

				Local $WholeSceneShadowsRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxWholeSceneShadows) ;- bAllowWholeSceneDominantShadows.
				$Array = Internal_ApplySystemKey($Array,"bAllowWholeSceneDominantShadows=",$WholeSceneShadowsRead)

				Local $ConservShadowBoundsRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxConservShadowBounds) ;- bUseConservativeShadowBounds.
				$Array = Internal_ApplySystemKey($Array,"bUseConservativeShadowBounds=",$ConservShadowBoundsRead)

				Local $StaticDecalsRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxStaticDecals) ;- StaticDecals.
				$Array = Internal_ApplySystemKey($Array,"StaticDecals=",$StaticDecalsRead)

				Local $DynamicDecalsRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxDynamicDecals) ;- DynamicDecals.
				$Array = Internal_ApplySystemKey($Array,"DynamicDecals=",$DynamicDecalsRead)

				Local $UnbatchedDecalsRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxUnbatchedDecals) ;- UnbatchedDecals.
				$Array = Internal_ApplySystemKey($Array,"UnbatchedDecals=",$UnbatchedDecalsRead)

				Local $DynamicLightsRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxDynamicLights) ;- DynamicLights.
				$Array = Internal_ApplySystemKey($Array,"DynamicLights=",$DynamicLightsRead)

				Local $CompositeDynamicLightsRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxCompDynamicLights) ;- CompositeDynamicLights.
				$Array = Internal_ApplySystemKey($Array,"CompositeDynamicLights=",$CompositeDynamicLightsRead)

				Local $SHSecondaryLightingRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxSHSecondaryLighting) ;- SHSecondaryLighting.
				$Array = Internal_ApplySystemKey($Array,"SHSecondaryLighting=",$SHSecondaryLightingRead)

				Local $DynamicShadowsRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxDynamicShadows) ;- DynamicShadows.
				$Array = Internal_ApplySystemKey($Array,"DynamicShadows=",$DynamicShadowsRead)

				Local $UncompTextRead = Internal_CheckboxToStrBool($MainGUIHomeAdvancedCheckboxUncText) ;- High Quality Textures.
				$Array = Internal_ApplySystemKey($Array,"bAllowHighQualityMaterials=",$UncompTextRead)
				$Array = Internal_ApplySystemKey($Array,"bUseLowQualMaterials=",not $UncompTextRead) ;- This is always the opposite of the checkbox.

			EndIf

			fSendMetric("event_applychanges_system_complete")

		ElseIf $State = "GameSettings" Then

			;- Currently unused for the home tab.

		EndIf


		Return $Array
	EndFunc

	Func Internal_ApplyFixes($Array,$State)
		If $State = "EngineSettings" Then

			;- FPS (Continued in SystemSettings)
			;- ----- ----- ----- ----- -----

				Local $RRead = GUICtrlRead($MainGUIFixesInputMaxFPS)
				If $RRead < 30 Then $RRead = 30 ;- Restrict people from going lower than 30. I'd rather not have potatoes in my games.


				Local $sLowerRead = StringLower($RRead) ;- Prevent people from using exponents, inf, or nan (Community Contribution)

				If $sLowerRead = "inf" or $sLowerRead = "nan" or StringInStr($sLowerRead,"e",0) <> 0 Then
					$RRead = 999
				EndIf


				$Array = Internal_ApplyKey($Array,"bSmoothFrameRate=","True")
				$Array = Internal_ApplyKey($Array,"MinDesiredFrameRate=",$RRead/2)
				$Array = Internal_ApplyKey($Array,"MinSmoothedFrameRate=",$RRead/2)
				$Array = Internal_ApplyKey($Array,"MaxSmoothedFrameRate=",$RRead)

			;- ----- ----- ----- ----- -----

			;- Audio Channels
				Local $RRead = GUICtrlRead($MainGUIFixesComboAudioFix)
				If $RRead < 32 or $RRead > 512 Then ;- Better safe than sorry!
					$RRead = 32
				EndIf

				$Array = Internal_ApplyKey($Array,"MaxChannels=",$RRead)

			fSendMetric("event_applyfixes_engine_complete")

		ElseIf $State = "SystemSettings" Then

			Local $FPSRead = GUICtrlRead($MainGUIFixesInputMaxFPS) ;- FPS. (Also being applied in EngineSettings)
			If $FPSRead < 30 Then $FPSRead = 30 ;- Restrict people from going lower than 30. I'd rather not have potatoes in my games.


			Local $sLowerRead = StringLower($FPSRead) ;- Prevent people from using exponents, inf, or nan (Community Contribution)

			If $sLowerRead = "inf" or $sLowerRead = "nan" or StringInStr($sLowerRead,"e",0) <> 0 Then
				$FPSRead = 999
			EndIf

			$Array = Internal_ApplySystemKey($Array,"TargetFrameRate=",$FPSRead)


			Local $bFogState = GUICtrlRead($MainGUIFixesCheckboxDisableFog)

			If $bFogState = $GUI_CHECKED Then
				$Array = Internal_ApplySystemKey($Array,"bAllowFog=","False")
				$Array = Internal_ApplySystemKey($Array,"FogVolumes=","False")
				$Array = Internal_ApplySystemKey($Array,"MobileFog=","False")
				$Array = Internal_ApplySystemKey($Array,"MobileHeightFog=","False")
			Else
				$Array = Internal_ApplySystemKey($Array,"bAllowFog=","True")
				$Array = Internal_ApplySystemKey($Array,"FogVolumes=","True")
				$Array = Internal_ApplySystemKey($Array,"MobileFog=","True")
				$Array = Internal_ApplySystemKey($Array,"MobileHeightFog=","True")
			EndIf


			fSendMetric("event_applyfixes_system_complete")

		ElseIf $State = "GameSettings" Then

			Local $bJumpState = GUICtrlRead($MainGUIFixesCheckboxDisableJump)

			If $bJumpState = $GUI_CHECKED Then
				$Array = Internal_ApplyKey($Array,"bJumpEnabled=","False")
			Else
				$Array = Internal_ApplyKey($Array,"bJumpEnabled=","True")
			EndIf


			fSendMetric("event_applyfixes_game_complete")

		EndIf

		Return $Array
	EndFunc

	Func Internal_ProcessHandleError($Message,$Bool = True)
		GUIDelete($ProcessUI)
		GUISetState(@SW_ENABLE,$MainGUI)
		WinActivate($MainGUI)

		If $Bool Then DisplayErrorMessage($Message)

		$ProcessingRequest = False
	EndFunc

	Func Internal_ProcessRequest($Bool = False,$FixesBool = False) ;- Main settings processing handler function.

		If ProcessExists("smite.exe") Then
			fSendMetric("error_applywhen_smiterunning")
			DisplayErrorMessage("Cannot apply settings while SMITE is running!")
			Return
		EndIf

		If $SettingsPath = $sEmpty or $SystemSettingsPath = $sEmpty or $GameSettingsPath = $sEmpty Then
			fSendMetric("error_applywith_noconfigpaths")
			DisplayErrorMessage("Cannot apply settings; discover the configuration files first!")
			Return
		EndIf

		If $ProcessingRequest Then Return ;- Make sure this is not run twice, for whatever reason.
			$ProcessingRequest = True

		RegWrite("HKCU\Software\SMITE Optimizer\","NotClosedProperly","REG_SZ","1") ;- Set the cookie for crash detection.

		$HoverTipAlpha = 0 ;- Make sure the help tips are removed!
		WinSetTrans($HoverInfoGUI,$sEmpty,$HoverTipAlpha)

		Internal_SaveSettingCookie() ;- Store our current configuration.

		_WinAPI_SetWindowPos($MainGUI,$HWND_TOPMOST,0,0,0,0,BitOR($SWP_NOACTIVATE,$SWP_NOMOVE,$SWP_NOSIZE))
		_WinAPI_SetWindowPos($MainGUI,$HWND_NOTOPMOST,0,0,0,0,BitOR($SWP_NOACTIVATE,$SWP_NOMOVE,$SWP_NOSIZE))

		GUISetState(@SW_DISABLE,$MainGUI)

		Local $WinPos = WinGetPos($MainGUI)

		Global $ProcessUI = GUICreate("SO_PROCESSING",400,150,$WinPos[0] + ($WinPos[2]/2)-200,$WinPos[1] + ($WinPos[3]/2)-75,$WS_POPUP,$WS_EX_TOOLWINDOW)
			GUISetBkColor($cBackgroundColor)

			Local $ProcessUIBG = GUICtrlCreatePic($sEmpty,0,0,400,150)
				LoadImageResource($ProcessUIBG,$MainResourcePath & "NotificationBG.jpg","NotificationBG")

			Local $ProcessUILabelMainStatus = GUICtrlCreateLabelTransparentBG("Processing..",5,0,300,30)
				GUICtrlSetFont(-1,20,500,Default,$MainFontName)

			Local $ProcessUILabelCATC = GUICtrlCreateLabelTransparentBG("(Click to continue)",105,4,250,30)
				GUICtrlSetFont(-1,15,500,Default,$MainFontName)
				GUICtrlSetState(-1,$GUI_HIDE)

			Local $ProcessUILabelStatusBackup = GUICtrlCreateLabelTransparentBG("[X] Creating backup",5,35,300,30)
				GUICtrlSetColor(-1,0xFF0000)

			Local $ProcessUILabelStatusRead = GUICtrlCreateLabelTransparentBG("[X] Reading files",5,50,300,30)
				GUICtrlSetColor(-1,0xFF0000)

			Local $ProcessUILabelStatusVerify = GUICtrlCreateLabelTransparentBG("[X] Verifying and repairing integrity",5,65,300,30)
				GUICtrlSetColor(-1,0xFF0000)

			Local $ProcessUILabelStatusApply = GUICtrlCreateLabelTransparentBG("[X] Applying settings",5,80,300,30)
				GUICtrlSetColor(-1,0xFF0000)

			Local $ProcessUILabelStatusSave = GUICtrlCreateLabelTransparentBG("[X] Saving",5,95,300,30)
				GUICtrlSetColor(-1,0xFF0000)

			Local $ProcessUIProgress = GUICtrlCreateProgress(5,120,390,25)
				GUICtrlSetColor(-1,0xFF0000)
				GUICtrlSetBkColor(-1,$GUI_BKCOLOR_TRANSPARENT)

		GUISetState(@SW_SHOW,$ProcessUI)
		GUISwitch($ProcessUI)

		Local $PState = 0
		While True

			;- We handle the different steps inside the while loop, so the window has a chance to come back in focus when the user re-activates it.

			Local $CursorInfo = GUIGetCursorInfo($ProcessUI)
			Local $CfgArray

			If $PState = 0 Then ;- Make backup
				Local $Success = Internal_CreateConfigBackup()

				If not $Success Then
					fSendMetric("error_configbackup_code3")
					Internal_ProcessHandleError("There was an error creating the configuration backup! (Not successful) Code: 003")
					ExitLoop
				EndIf

				GUICtrlSetData($ProcessUIProgress,20)
				GUICtrlSetColor($ProcessUILabelStatusBackup,0x00FF00)
				GUICtrlSetData($ProcessUILabelStatusBackup,"[✓] Creating backup")

				$PState = $PState + 1
			ElseIf $PState = 1 Then ;- Read files
				Local $EngineFile
				Local $SystemFile
				Local $GameFile
				Local $EngineFileFallback[1]
				Local $SystemFileFallback[1]
				Local $GameFileFallback[1]

				_FileReadToArray($SettingsPath,$EngineFile,$FRTA_NOCOUNT)
				If not IsArray($EngineFile) Then _
					$EngineFile = $EngineFileFallback

				_FileReadToArray($SystemSettingsPath,$SystemFile,$FRTA_NOCOUNT)
				If not IsArray($SystemFile) Then _
					$SystemFile = $SystemFileFallback

				_FileReadToArray($GameSettingsPath,$GameFile,$FRTA_NOCOUNT)
				If not IsArray($GameFile) Then _
					$GameFile = $GameFileFallback

				GUICtrlSetData($ProcessUIProgress,40)
				GUICtrlSetColor($ProcessUILabelStatusRead,0x00FF00)
				GUICtrlSetData($ProcessUILabelStatusRead,"[✓] Reading files")

				$PState = $PState + 1
			ElseIf $PState = 2 Then ;- Verify Files
				Local $EngineSF = Interal_VerifyAndFixConfiguration($EngineFile,$EngineSettingsClearHive)
				Local $SystemSF = Interal_VerifyAndFixConfiguration($SystemFile,$SystemSettingsClearHive)
				Local $GameSF = Interal_VerifyAndFixConfiguration($GameFile,$GameSettingsClearHive)

				GUICtrlSetData($ProcessUIProgress,60)
				GUICtrlSetColor($ProcessUILabelStatusVerify,0x00FF00)
				GUICtrlSetData($ProcessUILabelStatusVerify,"[✓] Verifying and repairing integrity")

				$PState = $PState + 1
			ElseIf $PState = 3 Then ;- Apply changes
				If $Bool Then ;- Whether to apply settings or not
					If not $FixesBool Then ;- Home (Simple | Advanced)
						$EngineSF = Internal_ApplyChanges($EngineSF,"EngineSettings")
						$SystemSF = Internal_ApplyChanges($SystemSF,"SystemSettings")
						$GameSF = Internal_ApplyChanges($GameSF,"GameSettings")
					Else ;- Fixes
						$EngineSF = Internal_ApplyFixes($EngineSF,"EngineSettings")
						$SystemSF = Internal_ApplyFixes($SystemSF,"SystemSettings")
						$GameSF = Internal_ApplyFixes($GameSF,"GameSettings")
					EndIf

					GUICtrlSetData($ProcessUIProgress,80)
					GUICtrlSetColor($ProcessUILabelStatusApply,0x00FF00)
					GUICtrlSetData($ProcessUILabelStatusApply,"[✓] Applying settings")
				Else
					GUICtrlSetData($ProcessUIProgress,80)
					GUICtrlSetColor($ProcessUILabelStatusApply,0x0000FF)
					GUICtrlSetData($ProcessUILabelStatusApply,"[X] Applying settings (Skipped)")
				EndIf

				$PState = $PState + 1
			ElseIf $PState = 4 Then ;- Save
				FileDelete($SettingsPath) ;- We don't have to delete the files, but it is cleaner and can prevent write errors, even though _FileWriteFromArray overwrites them anyway.
				FileDelete($SystemSettingsPath)

				_FileWriteFromArray($SettingsPath,$EngineSF)

				If @Error <> 0 Then
					fSendMetric("error_writeconfig_code4")
					Internal_ProcessHandleError("There was an error when writing to the configuration files! (Engine) Code: 004"&@CRLF&"Make sure the configuration files can be written to (Check read only status)")
					ExitLoop
				EndIf

				_FileWriteFromArray($SystemSettingsPath,$SystemSF)

				If @Error <> 0 Then
					fSendMetric("error_writeconfig_code5")
					Internal_ProcessHandleError("There was an error when writing to the configuration files! (System) Code: 005"&@CRLF&"Make sure the configuration files can be written to (Check read only status)")
					ExitLoop
				EndIf

				_FileWriteFromArray($GameSettingsPath,$GameSF)

				If @Error <> 0 Then
					fSendMetric("error_writeconfig_code13")
					Internal_ProcessHandleError("There was an error when writing to the configuration files! (Game) Code: 013"&@CRLF&"Make sure the configuration files can be written to (Check read only status)")
					ExitLoop
				EndIf

				GUICtrlSetData($ProcessUIProgress,100)
				GUICtrlSetColor($ProcessUILabelStatusSave,0x00FF00)
				GUICtrlSetData($ProcessUILabelStatusSave,"[✓] Saving")

				GUICtrlSetState($ProcessUILabelMainStatus,$GUI_HIDE)
				GUICtrlSetState($ProcessUILabelCATC,$GUI_SHOW)

				$PState = $PState + 1
			EndIf

			If WinGetTitle("[active]") = "SO_PROCESSING" and @Error = 0 Then
				Switch $CursorInfo[4]
					Case $ProcessUIBG, $ProcessUILabelMainStatus, $ProcessUILabelCATC, $ProcessUILabelStatusBackup, $ProcessUILabelStatusRead, $ProcessUILabelStatusVerify, $ProcessUILabelStatusApply, $ProcessUILabelStatusSave, $ProcessUIProgress
						If $PState = 5 and _IsPressed("01") Then
							Internal_ProcessHandleError($sEmpty,False)
							ExitLoop
						EndIf
				EndSwitch

				Sleep(10)
			Else
				If WinGetTitle("[active]") = $ProgramName Then WinActivate($ProcessUI)

				Sleep(100)
			EndIf
		WEnd


		RegDelete("HKCU\Software\SMITE Optimizer\","NotClosedProperly") ;- Success! No crash detection is required anymore!

	EndFunc

	Func Internal_ExportSettings()
		GUISetState(@SW_DISABLE,$MainGUI) ;- Disable MainGUI!

		;- Initialize variables
		Local $S_Title = $ProgramName & " HUD Configuration Exporter"


		;- Create the GUI where we choose which HUD version we want to export!
		Local $GUI_ExportSettings = GUICreate($S_Title,320,80,-1,-1,$WS_POPUP,$WS_EX_TOOLWINDOW)
			GUISwitch($GUI_ExportSettings)

			GUISetBkColor($cAccentColor,$GUI_ExportSettings)

			Local $GUI_LabelInfo = GUICtrlCreateLabelTransparentBG("Select which HUD to export:",7,5,313,35)
				GUICtrlSetFont(-1,12,Default,Default,$WindowsUIFont)

			Local $GUI_ButtonClassic = GUICtrlCreateButtonSO($MainGUI,"Classic",5,40,100,35,$cAccentColor,$cTextColor,$cBackgroundColor)
			Local $GUI_ButtonNew = GUICtrlCreateButtonSO($MainGUI,"New",110,40,100,35,$cAccentColor,$cTextColor,$cBackgroundColor)
			Local $GUI_ButtonCancel = GUICtrlCreateButtonSO($MainGUI,"Cancel",215,40,100,35,$cAccentColor,$cTextColor,$cBackgroundColor)

		GUISetState()


		Local $GameFile ;- Read EngineGame.ini from path

			_FileReadToArray($GameSettingsPath,$GameFile,$FRTA_NOCOUNT)
			If not IsArray($GameFile) Then
				fSendMetric("error_exporthud1_code19")
				DisplayErrorMessage("Could not read EngineGame.ini Code: 19")
				Return
			EndIf


		Local $S_ExportData = $sEmpty
		Local $S_ExportData_2 = $sEmpty
		Local $S_ExportData_3 = $sEmpty


		While True ;- Mouse input
			Local $CursorInfo = GUIGetCursorInfo($GUI_ExportSettings)

			If WinGetTitle("[active]") = $S_Title and @Error = 0 Then
				If _IsPressed("1B") Then ;- Allow the user to exit the GUI by pressing the escape key.
					ExitLoop(1)
				EndIf

				If _IsPressed("01") Then
					While _IsPressed("01")
						Sleep(10) ;- Wait until they let go of mouse1!
					WEnd

					Switch $CursorInfo[4]
						Case $GUI_ButtonClassic

							;- Search for "TransformSettings=" and store it if found.

							For $I = 0 To uBound($GameFile) - 1 Step 1
								If StringLeft($GameFile[$I],18) == "TransformSettings=" Then
									$S_ExportData = $GameFile[$I] ;- The data we want!
									ExitLoop
								EndIf
							Next


							If $S_ExportData == $sEmpty Then
								fSendMetric("error_exporthud2_code19")
								DisplayErrorMessage("Could not read EngineGame.ini Code: 19") ;- Too lazy to make another code for basically the same error.
								ExitLoop(1)
							EndIf


							ExitLoop(1)

						Case $GUI_ButtonNew

							;- Search for "TransformSettingsV2=" and "NewHudTransformSettingsKBM=" and "NewHudTransformSettingsGMP=" and store them if found.
							;- I'm unsure why there are three different values for these. I'm assuming V2 became obsolete when they re-introduced the new HUD.

							For $I = 0 To uBound($GameFile) - 1 Step 1
								If StringLeft($GameFile[$I],20) == "TransformSettingsV2=" Then
									$S_ExportData = $GameFile[$I] ;- The data we want!
									ExitLoop
								EndIf
							Next

							For $I = 0 To uBound($GameFile) - 1 Step 1
								If StringLeft($GameFile[$I],27) == "NewHudTransformSettingsKBM=" Then
									$S_ExportData_2 = $GameFile[$I] ;- The data we want!
									ExitLoop
								EndIf
							Next

							For $I = 0 To uBound($GameFile) - 1 Step 1
								If StringLeft($GameFile[$I],27) == "NewHudTransformSettingsGMP=" Then
									$S_ExportData_3 = $GameFile[$I] ;- The data we want!
									ExitLoop
								EndIf
							Next


							If $S_ExportData == $sEmpty or $S_ExportData_2 == $sEmpty or $S_ExportData_3 == $sEmpty Then
								fSendMetric("error_exporthud3_code19")
								DisplayErrorMessage("Could not read EngineGame.ini Code: 19") ;- Too lazy to make another code for basically the same error.
								ExitLoop(1)
							EndIf


							ExitLoop(1)

						Case $GUI_ButtonCancel
							ExitLoop(1)

					EndSwitch
				EndIf

				Sleep(10)
			Else
				If WinGetTitle("[active]") = $ProgramName Then WinActivate($GUI_ExportSettings)

				Sleep(100)
			EndIf

		WEnd


		If $S_ExportData_2 <> $sEmpty Then ;- We exported the new HUD!

			Local $ExportPath = FileSelectFolder("Choose a directory to save the file.",@DesktopDir)

			If not @Error and $ExportPath <> $sEmpty Then

				FileDelete($ExportPath & "/Export_NewHUD.ini") ;- Flush the old file by deleting it
				Sleep(100) ;- Windows!

				If @Error Then ;- Since flushing the file is important, we want to abort if it fails!
					fSendMetric("error_newexporthud_notsaved")
					DisplayErrorMessage("Something went wrong while saving." & @CRLF & "If the file already exists, delete it, then try to create it again.")
					Return
				EndIf

				FileWrite($ExportPath & "/Export_NewHUD.ini",$S_ExportData & @CRLF & $S_ExportData_2 & @CRLF & $S_ExportData_3)

				If @Error Then ;- Since flushing the file is important, we want to abort if it fails!
					fSendMetric("error_newexporthud_notsaved")
					DisplayErrorMessage("Something went wrong while saving." & @CRLF & "If the file already exists, delete it, then try to create it again.")
					Return
				EndIf

				fSendMetric("event_newexporthud_success")
				MsgBox(0,"Success!","New HUD settings were exported to:" & @CRLF & $ExportPath)

			EndIf

		ElseIf $S_ExportData <> $sEmpty Then ;- We exported the classic HUD!

			Local $ExportPath = FileSelectFolder("Choose a directory to save the file.",@DesktopDir)

			If not @Error and $ExportPath <> $sEmpty Then

				FileDelete($ExportPath & "/Export_ClassicHUD.ini") ;- Flush the old file by deleting it
				Sleep(100) ;- Windows!

				If @Error Then ;- Since flushing the file is important, we want to abort if it fails!
					fSendMetric("error_classicexporthud_notsaved")
					DisplayErrorMessage("Something went wrong while saving." & @CRLF & "If the file already exists, delete it, then try to create it again.")
					Return
				EndIf

				FileWrite($ExportPath & "/Export_ClassicHUD.ini",$S_ExportData)

				If @Error Then ;- Since flushing the file is important, we want to abort if it fails!
					fSendMetric("error_classicexporthud_notsaved")
					DisplayErrorMessage("Something went wrong while saving." & @CRLF & "If the file already exists, delete it, then try to create it again.")
					Return
				EndIf

				fSendMetric("event_classicexporthud_success")
				MsgBox(0,"Success!","Classic HUD settings were exported to:" & @CRLF & $ExportPath)

			EndIf
		EndIf


		;- Delete popup and switch back to MainGUI

		GUIDelete($GUI_ExportSettings)

		GUISwitch($MainGUI)
		GUISetState(@SW_ENABLE,$MainGUI) ;- Enable MainGUI

		WinActivate($MainGUI)

	EndFunc

	Func Internal_ImportSettings()

		If ProcessExists("smite.exe") Then
			fSendMetric("error_hudimportwhen_smiterunning")
			DisplayErrorMessage("Cannot import HUD settings while SMITE is running!")
			Return
		EndIf


		Local $FileSelected = FileOpenDialog("Choose Export_ClassicHUD.ini or Export_NewHUD.ini",@DesktopDir,".INI Files (*.ini)",BitOr($FD_FILEMUSTEXIST,$FD_PATHMUSTEXIST))

		If not @Error and $FileSelected <> $sEmpty Then ;- Do some checking on the selected file.

			Local $sFileName
			Local $bFound = False

			For $I = StringLen($FileSelected) To 1 Step -1 ;- Surely there is a better way to find and extract a substring, right?

				Local $sStr = StringLower(StringMid($FileSelected,$I,$I))

				If $sStr == "export_classichud.ini" or $sStr == "export_newhud.ini" Then
					$sFileName = StringMid($FileSelected,$I)
					$bFound = True
					ExitLoop
				EndIf
			Next


			Local $bContentFine = False

			Local $bFoundClassic = False
			Local $bFoundV2 = False
			Local $bFoundKBM = False
			Local $bFoundGMP = False

			Local $sDataClassic
			Local $sDataV2
			Local $sDataV2KBM
			Local $sDataV2GMP

			If $bFound Then ;- A valid file has been selected; now check the content!

				Local $aExtracted[0]

				_FileReadToArray($FileSelected,$aExtracted,$FRTA_NOCOUNT)
				If not IsArray($aExtracted) Then
					fSendMetric("error_hudimport1_code20")
					DisplayErrorMessage("Could not read the supplied file! Code: 20")
					Return
				EndIf


				;- Check for main strings

				For $I = 0 To uBound($aExtracted) - 1 Step 1
					If StringLeft($aExtracted[$I],18) == "TransformSettings=" Then

						$bFoundClassic = True
						$sDataClassic = $aExtracted[$I]

					ElseIf StringLeft($aExtracted[$I],20) == "TransformSettingsV2=" Then

						$bFoundV2 = True
						$sDataV2 = $aExtracted[$I]

					ElseIf StringLeft($aExtracted[$I],27) == "NewHudTransformSettingsKBM=" Then

						$bFoundKBM = True
						$sDataV2KBM = $aExtracted[$I]

					ElseIf StringLeft($aExtracted[$I],27) == "NewHudTransformSettingsGMP=" Then

						$bFoundGMP = True
						$sDataV2GMP = $aExtracted[$I]

					EndIf
				Next


				If $bFoundClassic or ($bFoundV2 and $bFoundKBM and $bFoundGMP) Then

					$bContentFine = True

				Else
					fSendMetric("error_hudimport2_code20")
					DisplayErrorMessage("Could not read the supplied file! Code: 20")
					Return
				EndIf

			EndIf


			;- The contents of the exported file appear to be fine, so we now import them into our EngineGame.ini

			If $bContentFine Then

				Internal_CreateConfigBackup() ;- Just to be safe.


				Local $GameFile ;- Read EngineGame.ini from path

					_FileReadToArray($GameSettingsPath,$GameFile,$FRTA_NOCOUNT)
					If not IsArray($GameFile) Then
						fSendMetric("error_hudimport3_code20")
						DisplayErrorMessage("Could not read EngineGame.ini Code: 20") ;- Code re-used.
						Return
					EndIf


				;- Loop through the data until we find what we want to replace.

				For $I = 0 To uBound($GameFile) - 1 Step 1

					If $bFoundClassic and StringLeft($GameFile[$I],18) == "TransformSettings=" Then

						$GameFile[$I] = $sDataClassic & @CRLF ;- Apply Data

					ElseIf $bFoundV2 and StringLeft($GameFile[$I],20) == "TransformSettingsV2=" Then

						$GameFile[$I] = $sDataV2 & @CRLF ;- Apply Data

					ElseIf $bFoundKBM and StringLeft($GameFile[$I],27) == "NewHudTransformSettingsKBM=" Then

						$GameFile[$I] = $sDataV2KBM & @CRLF ;- Apply Data

					ElseIf $bFoundKBM and StringLeft($GameFile[$I],27) == "NewHudTransformSettingsGMP=" Then

						$GameFile[$I] = $sDataV2GMP & @CRLF ;- Apply Data

					EndIf
				Next


				;- Apply Changes to the EngineGame.ini file

				_FileWriteFromArray($GameSettingsPath,$GameFile)


				If not @Error Then
					fSendMetric("event_importhud_success")
					MsgBox(0,"Success!","HUD Configuration imported and applied successfully!")
				EndIf

			EndIf
		EndIf
	EndFunc

	Func Internal_CreateQuicklaunchBypass()
		MsgBox(0,$ProgramName,'Patch 11.4 removed "-nosteam" and "-noepic" functionality which broke this feature.' & @CRLF & "It cannot be restored to a working state.")
	EndFunc

	Func Internal_InstallLegacyLauncher()
		MsgBox(0,$ProgramName,'Patch 11.4 removed "-nosteam" and "-noepic" functionality which broke this feature.' & @CRLF & "It cannot be restored to a working state.")
	EndFunc

	Func Internal_FixEAC()
		If @OSVersion <> "WIN_XP" and IsAdmin() == 0 Then ;- AutoIt can't elevate itself on request, possible workarounds are too crappy. Just let the user do it.
			MsgBox($MB_OK,"Information","SMITE Optimizer needs administrator privileges to repair EasyAntiCheat!")

			Return
		EndIf

		fSendMetric("action_fixes_eac")


		;- Delete EasyAntiCheat image file

		Local $aFileList = _FileListToArrayRec("C:\Users\" & @UserName & "\AppData\Roaming\EasyAntiCheat","*.eac",$FLTAR_FILES,$FLTAR_RECUR,Default,$FLTAR_FULLPATH)
			_ArrayDelete($aFileList,0)

		For $I = 0 To uBound($aFileList) - 1 Step 1
			Local $bSucc = FileDelete($aFileList[$I])
			If Not $bSucc Then
				fSendMetric("error_fixes_eac_filedel")
				DisplayErrorMessage("Error",$MainGUI,"Failed to delete: " & @CRLF & $aFileList[$I] & @CRLF & "Cannot continue.")
				Return
			EndIf
		Next


		;- Re-install EasyAntiCheat using the binary file provided by Steam / EGS.


		;- Attempt retrieval of steam path

		Local $sPath = RegRead("HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\Steam App 386360\","InstallLocation")

		If @Error Or $sPath = $sEmpty Then
			$sPath = "C:\Program Files (x86)\Steam\steamapps\common\SMITE" ;- Check for the default SMITE install location. - Community Contribution.
		EndIf

		If not FileExists($sPath) Then ;- Not steam?

			;- Attempt retrieval of EGS path

			$sPath = "C:\ProgramData\Epic\EpicGamesLauncher\Data\Manifests"

			;- We need to loop through all files in the manifest folder since filenames differ from machine to machine.
			Local $Files = _FileListToArray($sPath,"*.item",1,True)
				_ArrayDelete($Files,0)

			For $I = 0 To uBound($Files) - 1 Step 1
				Local $Read = FileReadToArray($Files[$I])

				For $B = 0 To uBound($Read) - 1 Step 1
					Local $Str = StringLeft($Read[$B],20)

					If $Str == @TAB&'"InstallLocation": ' and StringInStr($Read[$B],"SMITE",0,1) <> 0 Then
						Local $NewStr = StringReplace($Read[$B],"\\","\")
						$NewStr = StringReplace($NewStr,'"InstallLocation": "',$sEmpty)
						$NewStr = StringReplace($NewStr,'",',$sEmpty)
						$NewStr = StringReplace($NewStr,@TAB,$sEmpty)

						$sPath = $NewStr
						ExitLoop(2)
					EndIf
				Next
			Next


			;- Check if the SMITE folder exists.

			If not FileExists($sPath) Then
				fSendMetric("error_fixes_eac_nogame")
				DisplayErrorMessage("Error",$MainGUI,"Failed to retrieve game location!")
				Return
			EndIf
		EndIf


		$sPath = $sPath & "\EasyAntiCheat\EasyAntiCheat_EOS_Setup.exe" ;- It should be just this one for both versions

		If not FileExists($sPath) Then

			fSendMetric("error_fixes_eac_nosetup_eos")


			$sPath = $sPath & "\EasyAntiCheat\EasyAntiCheat_Setup.exe" ;- But its unclear so lets do this as well

			If not FileExists($sPath) Then
				fSendMetric("error_fixes_eac_nosetup_both")
				DisplayErrorMessage("Error",$MainGUI,"Failed to retrieve location of EasyAntiCheat installer!")
				Return
			EndIf
		EndIf


		;- Uninstall EasyAntiCheat
		ShellExecuteWait($sPath,"uninstall f71b1231985f48d1af3de723e0a6acdd") ;- Community contribution
										;- Second parameter is the app-identifier for SMITE

		;- Install EasyAntiCheat
		ShellExecuteWait($sPath,"install f71b1231985f48d1af3de723e0a6acdd") ;- Parameters taken from installscript.vdf
									  ;- Second parameter is the app-identifier for SMITE

		;- Set EasyAntiCheat service to "Manual"
		RunWait(@ComSpec & " /c " & 'sc config "EasyAntiCheat" start= demand',$sEmpty,@SW_HIDE)


		fSendMetric("action_fixes_eac_success")
		MsgBox(0,"Information","Repaired EasyAntiCheat successfully.")

	EndFunc
#EndRegion

#Region ;- Help popup functions.

	;- Since the window is resizable, we need to calculate X axis offsets for the different objects, the 2D area for the mouse, the hover background, and the image it displays.
	;- We calculate the XOffset by using the X position of the first control as a base in that category.

	Func InRange2D($MousePos,$X_Start,$Y_Start,$X_End,$Y_End)
		If $DisplayHoverBG <> 1 Then
			Local $XOffset

			If $ProgramHomeState = "Simple" Then ;- XOffset Calculation.
				$XOffset = ControlGetPos($MainGUI,$sEmpty,$MainGUIHomeSimpleComboWorldQuality)[0]
			ElseIf $ProgramHomeState = "Advanced" Then
				$XOffset = ControlGetPos($MainGUI,$sEmpty,$MainGUIHomeAdvancedComboWorldQuality)[0]
			EndIf

			$X_Start = $X_Start - 100 + $XOffset
			$X_End = $X_End - 100 + $XOffset

			If ($MousePos[0] >= $X_Start and $MousePos[0] <= $X_End) and ($MousePos[1] >= $Y_Start and $MousePos[1] <= $Y_End) Then
				$DisplayHoverBG = 1
				Return True
			EndIf
		EndIf

		Return False
	EndFunc

	;- In this function, we calculate the XOffsets individually since both statements can be false at the same time, meaning it would be wasted CPU time!

	Func DisplayHoverImage($X,$Y,$X_Size,$Y_Size,$Image,$X_Pic,$Y_Pic,$X_Size_Pic,$Y_Size_Pic,$IsAnimated = False)
		If ($DisplayHoverBG = 1 and not $HoverBGDrawn) or $HoverID <> $X+$Y Then ;- This only runs when there is a change.
			Local $XOffset

			If $MenuSelected = 2 Then ;- XOffset Calculation.
				$XOffset = -100 + ControlGetPos($MainGUI,$sEmpty,$MainGUIFixesLabelMaxFPS)[0]
			ElseIf $ProgramHomeState = "Simple" Then
				$XOffset = -100 + ControlGetPos($MainGUI,$sEmpty,$MainGUIHomeSimpleComboWorldQuality)[0]
			ElseIf $ProgramHomeState = "Advanced" Then
				$XOffset = -100 + ControlGetPos($MainGUI,$sEmpty,$MainGUIHomeAdvancedComboWorldQuality)[0]
			EndIf

			GUICtrlSetPos($MainGUIHomeHelpBackground,$X + $XOffset,$Y,$X_Size,$Y_Size)

			$HoverBGDrawn = True
			$HoverID = $X + $Y
		ElseIf $DisplayHoverImage = 1 Then ;- This only runs when there is a change.
			Local $WinPos = WinGetPos($MainGUI)
			Local $XOffset

			If $MenuSelected = 2 Then ;- XOffset Calculation.
				$XOffset = -100 + ControlGetPos($MainGUI,$sEmpty,$MainGUIFixesInputMaxFPS)[0]
			ElseIf $ProgramHomeState = "Simple" Then
				$XOffset = -100 + ControlGetPos($MainGUI,$sEmpty,$MainGUIHomeSimpleComboWorldQuality)[0]
			ElseIf $ProgramHomeState = "Advanced" Then
				$XOffset = -100 + ControlGetPos($MainGUI,$sEmpty,$MainGUIHomeAdvancedComboWorldQuality)[0]
			EndIf

			WinMove($HoverInfoGUI,$sEmpty,$WinPos[0] + $X_Pic + $XOffset,$WinPos[1] + $Y_Pic,$X_Size_Pic,$Y_Size_Pic)

			If $IsAnimated Then

				If $HoverInfoGUIImageAnimation <> NULL Then
					GUICtrlDeleteGIF($HoverInfoGUIImageAnimation) ;- Destroy the object.
					$HoverInfoGUIImageAnimation = NULL
				EndIf


				GUISwitch($HoverInfoGUI) ;- Required since we created a new control.


				Local $StrippedImageStr = StringReplace($Image,@ScriptDir,$sEmpty)
					$StrippedImageStr = StringReplace($StrippedImageStr,"\Resource\HelpText/",$sEmpty)
					$StrippedImageStr = StringReplace($StrippedImageStr,".gif",$sEmpty)


				Local $iFrameCount = 32

				If $StrippedImageStr = "DetailMode" Then
					$iFrameCount = 20
				EndIf


				If @Compiled Then
					$HoverInfoGUIImageAnimation = GUICtrlCreateGIF( _Resource_GetAsImage($StrippedImageStr & "GIF") ,0,0,$X_Size_Pic,$Y_Size_Pic,$iFrameCount,100,True)[0]
				Else
					$HoverInfoGUIImageAnimation = GUICtrlCreateGIF($Image,0,0,$X_Size_Pic,$Y_Size_Pic,$iFrameCount,100)[0]
				EndIf

				GUISwitch($MainGUI) ;- Switch back!


				$HelpIsAnimating = True
			Else
				WinSetTrans($HoverInfoGUI,$sEmpty,0)
				GUICtrlSetPos($MainGUIHomeHelpImage,0,0,$X_Size_Pic,$Y_Size_Pic)

				Local $StrippedImageStr = StringReplace($Image,@ScriptDir,$sEmpty)
				$StrippedImageStr = StringReplace($StrippedImageStr,"\Resource\HelpText/",$sEmpty)
				$StrippedImageStr = StringReplace($StrippedImageStr,".jpg",$sEmpty)

				LoadImageResource($MainGUIHomeHelpImage,$Image,$StrippedImageStr)

				WinSetTrans($HoverInfoGUI,$sEmpty,$HoverTipAlpha)

				If $HelpIsAnimating Then
					If $HoverInfoGUIImageAnimation <> NULL Then
						GUICtrlDeleteGIF($HoverInfoGUIImageAnimation) ;- Destroy the object.
						$HoverInfoGUIImageAnimation = NULL
					EndIf

					$HelpIsAnimating = False
				EndIf
			EndIf

			$DisplayHoverImage = -1
			$HoverImageDrawn = True
		EndIf
	EndFunc

	;- This event will force the help tips to hide whenever a combo box expands.

	GUIRegisterMsg($WM_COMMAND,"Internal_HideHelpPopupOnComboChange")
	Func Internal_HideHelpPopupOnComboChange($hWnd,$msg,$wParam)
		Local $nNotifyCode = BitShift($wParam,16)

		Switch $nNotifyCode
			Case $CBN_DROPDOWN ;- Hide when open.
				$DisplayHoverImage = -2
				$SupressHoverImage = True
			Case $CBN_CLOSEUP ;- Unset state when closed.
				$DisplayHoverImage = 0
				$SupressHoverImage = False

		EndSwitch

		Return $GUI_RUNDEFMSG
	EndFunc
#EndRegion

Func _FixMenuSwitch() ;- This function is used internally to handle menu hover logic.
	If $MainGUIButtonCloseBool Then
		UndoMenuHoverState()

		LoadImageResource($MainGUIButtonClose,$MainResourcePath & "CloseNoActivate.jpg","CloseNoActivate")
		$MainGUIButtonCloseBool = False
	ElseIf $MainGUIButtonMaximizeBool Then
		UndoMenuHoverState()

		If $MainGUIMaximizedState Then
			LoadImageResource($MainGUIButtonMaximize,$MainResourcePath & "Maximize2NoActivate.jpg","Maximize2NoActivate")
		Else
			LoadImageResource($MainGUIButtonMaximize,$MainResourcePath & "Maximize1NoActivate.jpg","Maximize1NoActivate")
		EndIf

		$MainGUIButtonMaximizeBool = False
	ElseIf $MainGUIButtonMinimizeBool Then
		UndoMenuHoverState()

		LoadImageResource($MainGUIButtonMinimize,$MainResourcePath & "MinimizeNoActivate.jpg","MinimizeNoActivate")
		$MainGUIButtonMinimizeBool = False
	ElseIf $MainGUIButtonDiscordBool Then
		UndoMenuHoverState()

		LoadImageResource($MainGUIButtonDiscord,$MainResourcePath & "DiscordIconInActive.jpg","DiscordIconInActive")
		$MainGUIButtonDiscordBool = False
	ElseIf $HomeIconHoverHideBool Then
		UndoMenuHoverState()

		LoadImageResource($HomeIconHover,$MainResourcePath & "MenuItemBG.jpg","MenuItemBG")
		LoadImageResource($HomeIcon,$MainResourcePath & "HomeIconInactive.jpg","HomeIconInactive")
		$HomeIconHoverHideBool = False
	ElseIf $FixesIconHoverHideBool Then
		UndoMenuHoverState()

		LoadImageResource($FixesIconHover,$MainResourcePath & "MenuItemBG.jpg","MenuItemBG")
		LoadImageResource($FixesIcon,$MainResourcePath & "FixesIconInactive.jpg","FixesIconInactive")
		$FixesIconHoverHideBool = False
	ElseIf $RCIconHoverHideBool Then
		UndoMenuHoverState()

		LoadImageResource($RCIconHover,$MainResourcePath & "MenuItemBG.jpg","MenuItemBG")
		LoadImageResource($RCIcon,$MainResourcePath & "RestoreConfigsIconInactive.jpg","RestoreConfigsIconInactive")
		$RCIconHoverHideBool = False
	ElseIf $DonateIconHoverHideBool Then
		UndoMenuHoverState()

		LoadImageResource($DonateIconHover,$MainResourcePath & "MenuItemBG.jpg","MenuItemBG")
		LoadImageResource($DonateIcon,$MainResourcePath & "DonateIconInactive.jpg","DonateIconInactive")
		$DonateIconHoverHideBool = False
	ElseIf $ChangelogIconHoverHideBool Then
		UndoMenuHoverState()

		LoadImageResource($ChangelogIconHover,$MainResourcePath & "MenuItemBG.jpg","MenuItemBG")
		LoadImageResource($ChangelogIcon,$MainResourcePath & "ChangelogIconInactive.jpg","ChangelogIconInactive")
		$ChangelogIconHoverHideBool = False
	ElseIf $CopyrightIconHoverHideBool Then
		UndoMenuHoverState()

		LoadImageResource($CopyrightIconHover,$MainResourcePath & "MenuItemBG.jpg","MenuItemBG")
		LoadImageResource($CopyrightIcon,$MainResourcePath & "CopyrightIconInactive.jpg","CopyrightIconInactive")
		$CopyrightIconHoverHideBool = False
	ElseIf $DebugIconHoverHideBool Then
		UndoMenuHoverState()

		LoadImageResource($DebugIconHover,$MainResourcePath & "MenuItemBG.jpg","MenuItemBG")
		LoadImageResource($DebugIcon,$MainResourcePath & "DebugIconInactive.jpg","DebugIconInactive")
		$DebugIconHoverHideBool = False
	ElseIf $ViewOnlineChangesBtnHoverBool Then
		UndoMenuHoverState()

		LoadImageResource($MainGUIChangelogButtonViewOnlineBG,$MainResourcePath & "MenuItemBG.jpg","MenuItemBG")
		LoadImageResource($MainGUIChangelogButtonViewOnline,$MainResourcePath & "ChangelogIconInActive.jpg","ChangelogIconInActive")
		$ViewOnlineChangesBtnHoverBool = False
	ElseIf $WebsiteOpenHoverBool Then
		GUICtrlSetColor($MainGUICopyrightLabelWebsite,$cURLColor)
		GUICtrlSetFont($MainGUICopyrightLabelWebsite,11,500,Default,$MenuFontName)
		$WebsiteOpenHoverBool = False
	ElseIf $LicenseLabelHoverBool Then
		GUICtrlSetColor($MainGUICopyrightLabelLicenseLink,$cURLColor)
		GUICtrlSetFont($MainGUICopyrightLabelLicenseLink,15,500,Default,$MainFontName)
		$LicenseLabelHoverBool = False
	ElseIf $SourceLabelHoverBool Then
		GUICtrlSetColor($MainGUICopyrightLabelSourceLink,$cURLColor)
		GUICtrlSetFont($MainGUICopyrightLabelSourceLink,15,500,Default,$MainFontName)
		$SourceLabelHoverBool = False
	ElseIf $AutoItLicenseLabelHoverBool Then
		GUICtrlSetColor($MainGUICopyrightLabelAutoitLicenseLink,$cURLColor)
		GUICtrlSetFont($MainGUICopyrightLabelAutoitLicenseLink,15,500,Default,$MainFontName)
		$AutoItLicenseLabelHoverBool = False
	ElseIf $PrivacyPolicyLabelHoverBool Then
		GUICtrlSetColor($MainGUICopyrightLabelPrivacyPolicy,$cURLColor)
		GUICtrlSetFont($MainGUICopyrightLabelPrivacyPolicy,11,500,Default,$MenuFontName)
		$PrivacyPolicyLabelHoverBool = False
	ElseIf $GDPRLabelHoverBool Then
		GUICtrlSetColor($MainGUICopyrightLabelGDPR,$cURLColor)
		GUICtrlSetFont($MainGUICopyrightLabelGDPR,11,500,Default,$MenuFontName)
		$GDPRLabelHoverBool = False
	ElseIf $WebsiteMetricsLabelHoverBool Then
		GUICtrlSetColor($MainGUICopyrightLabelWebsiteMetrics,$cURLColor)
		GUICtrlSetFont($MainGUICopyrightLabelWebsiteMetrics,11,500,Default,$MenuFontName)
		$WebsiteMetricsLabelHoverBool = False
	ElseIf $MainGUIDebugLabelHoverBool Then
		GUICtrlSetColor($MainGUIDebugLabelReportABug,$cURLColor)
		GUICtrlSetFont($MainGUIDebugLabelReportABug,15,500,Default,$MainFontName)
		$MainGUIDebugLabelHoverBool = False
	ElseIf $MainGUIDebugDumpInfoHoverBool Then
		GUICtrlSetColor($MainGUIDebugLabelCreateDebugInfo,$cURLColor)
		GUICtrlSetFont($MainGUIDebugLabelCreateDebugInfo,15,500,Default,$MainFontName)
		$MainGUIDebugDumpInfoHoverBool = False
	ElseIf $SteamBtnHoverHideBool Then
		LoadImageResource($MainGUIHomePicBtnSteam,$MainResourcePath & "SteamBtnInActive.jpg","SteamBtnInActive")
		$SteamBtnHoverHideBool = False
	ElseIf $EGSBtnHoverHideBool Then
		LoadImageResource($MainGUIHomePicBtnEGS,$MainResourcePath & "EGSBtnInActive.jpg","EGSBtnInActive")
		$EGSBtnHoverHideBool = False
	ElseIf $LegacyBtnHoverHideBool Then
		LoadImageResource($MainGUIHomePicBtnLegacy,$MainResourcePath & "LegacyBtnInActive.jpg","LegacyBtnInActive")
		$LegacyBtnHoverHideBool = False
	EndIf
EndFunc

While True ;- Main program routine.
	Local $CursorInfo = GUIGetCursorInfo($MainGUI)

	If WinGetTitle("[active]") = $ProgramName and @Error = 0 Then

		If not $bTriedToShowDonateBanner Then

			Local $regRead = RegRead("HKCU\Software\SMITE Optimizer\","ConfigProgramState") ;- Has to be a split statement.

			If not @Error Then

				$bTriedToShowDonateBanner = True

				If Random(1,4,1) = 3 Then ;- 1:4 chance. But it is pseudo-random number generation, so who knows?
					MenuHoverState("DBan",138,300,0)
				EndIf
			EndIf
		EndIf


		If $UpdateAvailable Then ;- When there is an update available, we want to make sure the version text is extra annoying to make sure the user sees it!
			If TimerDiff($UpdateTimer) > 750 Then
				$UpdateTimer = TimerInit()

				If $UpdateColorState Then
					GUICtrlSetColor($MainGUILabelVersion,0xFF0000)
					$UpdateColorState = False
				Else
					GUICtrlSetColor($MainGUILabelVersion,$cTextColor)
					$UpdateColorState = True
				EndIf
			EndIf
		Endif


		If $bShouldFlashDiscordIcon Then ;- When the user has never clicked on the Discord icon, we should make it flash!
			If TimerDiff($DiscordFlashTimer) > 750 Then
				$DiscordFlashTimer = TimerInit()

				If $bDiscordIconState Then
					LoadImageResource($MainGUIButtonDiscord,$MainResourcePath & "DiscordIconActive.jpg","DiscordIconActive")
					$bDiscordIconState = False
				Else
					LoadImageResource($MainGUIButtonDiscord,$MainResourcePath & "DiscordIconInActive.jpg","DiscordIconInActive")
					$bDiscordIconState = True
				EndIf
			EndIf
		Endif


		If $ProgramHomeState = "Simple" Then ;- Simple mode logic


			;- Check if resolution changed

			If _GUICtrlComboBox_GetDroppedState($MainGUIHomeSimpleComboScreenRes) = False Then ;- Needs a finished selection


				Local $ReadScrResSimple = GUICtrlRead($MainGUIHomeSimpleComboScreenRes)

				If $ReadScrResSimple <> $LastReadScrResSimple Then

					Local $bReturnFlag = False

					If StringLeft($ReadScrResSimple,6) = "Custom" Then
						$HomeSimpleComboResLastIndex = $LastReadScrResSimple ;- Used to revert on cancel
						$bReturnFlag = Internal_ChooseCustomRes()
					EndIf

					If Not $bReturnFlag Then _ ;- Only set when the function returned false!
						$LastReadScrResSimple = $ReadScrResSimple

				EndIf

			EndIf


			;- Check if screenscale changed

			Local $ReadScreenResSimple = GUICtrlRead($MainGUIHomeSimpleSliderScreenResScale)&"%"

			If $ReadScreenResSimple <> $LastScreenResScaleSimple Then
				GUICtrlSetData($MainGUIHomeSimpleInputScreenResScale,$ReadScreenResSimple)
				$LastScreenResScaleSimple = $ReadScreenResSimple
			EndIf

		ElseIf $ProgramHomeState = "Advanced" Then ;- Advanced mode logic


			;- Check if resolution changed

			If _GUICtrlComboBox_GetDroppedState($MainGUIHomeAdvancedComboScreenRes) = False Then ;- Needs a finished selection


				Local $ReadScrResAdvanced = GUICtrlRead($MainGUIHomeAdvancedComboScreenRes)

				If $ReadScrResAdvanced <> $LastReadScrResAdvanced Then

					Local $bReturnFlag = False

					If StringLeft($ReadScrResAdvanced,6) = "Custom" Then
						$HomeAdvancedComboResLastIndex = $LastReadScrResAdvanced ;- Used to revert on cancel
						$bReturnFlag = Internal_ChooseCustomRes()
					EndIf

					If Not $bReturnFlag Then _ ;- Only set when the function returned false!
						$LastReadScrResAdvanced = $ReadScrResAdvanced

				EndIf

			EndIf


			;- Check if screenscale changed

			Local $ReadScreenResAdvanced = GUICtrlRead($MainGUIHomeAdvancedSliderScreenResScale)&"%"

			If $ReadScreenResAdvanced <> $LastScreenResScaleAdvanced Then
				GUICtrlSetData($MainGUIHomeAdvancedInputScreenResScale,$ReadScreenResAdvanced)
				$LastScreenResScaleAdvanced = $ReadScreenResAdvanced
			EndIf

		EndIf

		;- Help tips logic
		;------------------------------------------------------------------------------

			If ($ProgramHomeHelpState = 1 and $MenuSelected = 1 and not $MainGUIHomeDiscoveryDrawn) or ($ProgramHomeHelpState = 1 and $MenuSelected == 2) Then ;- Optimizations.
				If $JustTabbedBackIn = 0 Then $JustTabbedBackIn = 3 ;- Needs to run multiple times.

				Local $MousePos = MouseGetPos()
				$DisplayHoverBG = 0

				If not $SupressHoverImage Then
					If ($MousePos[0] <> $LastMousePosX or $MousePos[1] <> $LastMousePosY) or $JustTabbedBackIn > 1 Then ;- Reset timer when the mouse is moved.
						If $JustTabbedBackIn > 1 Then $JustTabbedBackIn = $JustTabbedBackIn -1 ;- This is used to get it to fade out after tabbing back in and not hovering over anything.

						$HoverTimer = TimerInit()
						$LastMousePosX = $MousePos[0]
						$LastMousePosY = $MousePos[1]

						If ($HoverImageDrawn and $HoverBGDrawn) and $HoverID <> $LastHoverID Then
							$DisplayHoverImage = 1
							$LastHoverID = $HoverID
						ElseIf (not $HoverImageDrawn or not $HoverBGDrawn) Then
							If $HoverTipAlpha <= 0 Then
								$DisplayHoverImage = 0
							Else
								$DisplayHoverImage = -2
							EndIf
						EndIf
					ElseIf TimerDiff($HoverTimer) > 400 and $DisplayHoverImage <> -1 Then ;- Have 400 milliseconds passed without moving the mouse?
						$DisplayHoverImage = 1
						$LastHoverID = $HoverID
					EndIf

					If $MenuSelected == 2 Then ;- Fixes
						If InRange2D($MousePos,120,61,320,104) Then
							DisplayHoverImage(95,61,200,42,$MainResourcePath & "HelpText/Desired_FPS.jpg",300,40,345,238) ;- FPS.
						ElseIf InRange2D($MousePos,120,101,320,144) Then
							DisplayHoverImage(95,101,200,42,$MainResourcePath & "HelpText/Audio_Channels.jpg",300,40,345,317) ;- Audio Fix
						ElseIf InRange2D($MousePos,120,153,320,176) Then
							DisplayHoverImage(95,153,200,23,$MainResourcePath & "HelpText/Disable_Jumping.jpg",300,40,345,184) ;- Disable Jumping
						ElseIf InRange2D($MousePos,120,173,320,196) Then
							DisplayHoverImage(95,173,200,23,$MainResourcePath & "HelpText/Disable_Fog.jpg",300,40,345,184) ;- Disable Fog
						EndIf
					ElseIf $ProgramHomeState = "Simple" Then
						If InRange2D($MousePos,95,71,295,114) Then
							DisplayHoverImage(95,71,200,43,$MainResourcePath & "HelpText/World_Quality_Simple.jpg",300,40,600,350) ;- World Quality.
						ElseIf InRange2D($MousePos,95,111,295,154) Then
							DisplayHoverImage(95,111,200,43,$MainResourcePath & "HelpText/Character_Quality_Simple.jpg",300,40,600,350) ;- Character Quality.
						ElseIf InRange2D($MousePos,95,151,295,194) Then
							DisplayHoverImage(95,151,200,43,$MainResourcePath & "HelpText/Shadow_Quality_Simple.jpg",300,40,600,350) ;- Shadow Quality.
						ElseIf InRange2D($MousePos,95,191,295,234) Then
							DisplayHoverImage(95,191,200,43,$MainResourcePath & "HelpText/Sky_Quality.jpg",300,40,400,350) ;- Sky Quality.
						ElseIf InRange2D($MousePos,95,231,295,274) Then
							DisplayHoverImage(95,231,200,43,$MainResourcePath & "HelpText/Effects_Quality_Simple.jpg",300,40,600,350) ;- Effects Quality.
						ElseIf InRange2D($MousePos,95,271,295,314) Then
							DisplayHoverImage(95,271,200,43,$MainResourcePath & "HelpText/Desired_FPS.jpg",300,40,345,238) ;- FPS.
						ElseIf InRange2D($MousePos,295,71,495,114) Then
							DisplayHoverImage(295,71,200,43,$MainResourcePath & "HelpText/Resolution.jpg",500,40,345,339) ;- Resolution.
						ElseIf InRange2D($MousePos,295,111,545,154) Then
							DisplayHoverImage(295,111,250,43,$MainResourcePath & "HelpText/Resolution_Scale.jpg",550,40,345,300) ;- Resolution Scale.
						ElseIf InRange2D($MousePos,295,151,495,194) Then
							DisplayHoverImage(295,151,200,43,$MainResourcePath & "HelpText/Window_Type.jpg",500,40,345,300) ;- Window Type.
						ElseIf InRange2D($MousePos,295,191,495,234) Then
							DisplayHoverImage(295,191,200,43,$MainResourcePath & "HelpText/Anti_Aliasing.jpg",500,40,400,350) ;- Anti Aliasing.
						ElseIf InRange2D($MousePos,295,231,495,274) Then
							DisplayHoverImage(295,231,200,43,$MainResourcePath & "HelpText/Anisotropic_Filtering.jpg",500,40,400,350) ;- Anisotropic Filter Level.
						ElseIf InRange2D($MousePos,295,271,495,314) Then
							DisplayHoverImage(295,271,200,43,$MainResourcePath & "HelpText/DetailMode.gif",500,40,400,350,True) ;- DetailMode.
						ElseIf InRange2D($MousePos,590,83,790,103) Then
							DisplayHoverImage(590,83,200,23,$MainResourcePath & "HelpText/Vertical_Synchronisation.jpg",240,40,345,300) ;- Use Vertical Synchronisation.
						ElseIf InRange2D($MousePos,590,103,790,126) Then
							DisplayHoverImage(590,103,200,23,$MainResourcePath & "HelpText/Ragdoll_Physics.gif",185,40,400,286,True) ;- Use Ragdoll Physics.
						ElseIf InRange2D($MousePos,590,123,790,146) Then
							DisplayHoverImage(590,123,200,23,$MainResourcePath & "HelpText/DirectX_11.jpg",240,40,345,159) ;- Use DirectX11.
						ElseIf InRange2D($MousePos,590,151,790,174) Then
							DisplayHoverImage(590,151,200,23,$MainResourcePath & "HelpText/Bloom.jpg",185,40,400,350) ;- Bloom.
						ElseIf InRange2D($MousePos,590,171,790,194) Then
							DisplayHoverImage(590,171,200,23,$MainResourcePath & "HelpText/Decals_Simple.jpg",240,40,345,300) ;- Decals.
						ElseIf InRange2D($MousePos,590,191,790,214) Then
							DisplayHoverImage(590,191,200,23,$MainResourcePath & "HelpText/Dynamic_Lights_and_Shadows.jpg",240,40,345,300) ;- Dynamic Lights and Shadows.
						ElseIf InRange2D($MousePos,590,211,790,234) Then
							DisplayHoverImage(590,211,200,23,$MainResourcePath & "HelpText/Lensflares.jpg",240,40,345,300) ;- Lensflares.
						ElseIf InRange2D($MousePos,590,231,790,254) Then
							DisplayHoverImage(590,231,200,23,$MainResourcePath & "HelpText/Reflections.jpg",240,40,345,300) ;- Reflections.
						ElseIf InRange2D($MousePos,590,251,790,274) Then
							DisplayHoverImage(590,251,200,23,$MainResourcePath & "HelpText/Uncompressed_Textures.jpg",240,40,345,280) ;- Use Uncompressed Textures.
						EndIf
					ElseIf $ProgramHomeState = "Advanced" Then
						If InRange2D($MousePos,95,36,295,79) Then
							DisplayHoverImage(95,36,200,43,$MainResourcePath & "HelpText/World_Quality.jpg",300,40,400,350) ;- World Quality.
						ElseIf InRange2D($MousePos,95,76,295,119) Then
							DisplayHoverImage(95,76,200,43,$MainResourcePath & "HelpText/Character_Quality.jpg",300,40,400,350) ;- Character Quality.
						ElseIf InRange2D($MousePos,95,116,295,159) Then
							DisplayHoverImage(95,116,200,43,$MainResourcePath & "HelpText/Terrain_Quality.jpg",300,40,400,350) ;- Terrain Quality.
						ElseIf InRange2D($MousePos,95,156,295,199) Then
							DisplayHoverImage(95,156,200,43,$MainResourcePath & "HelpText/NPC_Quality.jpg",300,40,400,217) ;- NPC Quality.
						ElseIf InRange2D($MousePos,95,196,295,239) Then
							DisplayHoverImage(95,196,200,43,$MainResourcePath & "HelpText/Weapon_Quality.jpg",300,40,400,217) ;- Weapon Quality.
						ElseIf InRange2D($MousePos,95,236,295,279) Then
							DisplayHoverImage(95,236,200,43,$MainResourcePath & "HelpText/Vehicle_Quality.jpg",300,40,400,217) ;- Vehicle Quality.
						ElseIf InRange2D($MousePos,95,276,295,319) Then
							DisplayHoverImage(95,276,200,43,$MainResourcePath & "HelpText/Shadow_Quality.jpg",300,40,400,350) ;- Shadow Quality.
						ElseIf InRange2D($MousePos,95,316,295,359) Then
							DisplayHoverImage(95,316,200,43,$MainResourcePath & "HelpText/Particle_Quality.jpg",300,40,400,350) ;- Particle Quality Level.
						ElseIf InRange2D($MousePos,295,36,495,79) Then
							DisplayHoverImage(295,36,200,43,$MainResourcePath & "HelpText/Sky_Quality.jpg",500,40,400,350) ;- Sky Quality.
						ElseIf InRange2D($MousePos,295,76,495,119) Then
							DisplayHoverImage(295,76,200,43,$MainResourcePath & "HelpText/Effects_Quality.jpg",500,40,400,350) ;- Effects Quality.
						ElseIf InRange2D($MousePos,295,116,495,159) Then
							DisplayHoverImage(295,116,200,43,$MainResourcePath & "HelpText/Resolution.jpg",500,40,345,339) ;- Resolution.
						ElseIf InRange2D($MousePos,295,156,545,199) Then
							DisplayHoverImage(295,156,250,43,$MainResourcePath & "HelpText/Resolution_Scale.jpg",550,40,345,300) ;- Resolution Scale.
						ElseIf InRange2D($MousePos,295,196,495,239) Then
							DisplayHoverImage(295,196,200,43,$MainResourcePath & "HelpText/Window_Type.jpg",500,40,345,300) ;- Window Type.
						ElseIf InRange2D($MousePos,295,236,495,279) Then
							DisplayHoverImage(295,236,200,43,$MainResourcePath & "HelpText/Anti_Aliasing.jpg",500,40,400,350) ;- Anti Aliasing.
						ElseIf InRange2D($MousePos,295,276,495,319) Then
							DisplayHoverImage(295,276,200,43,$MainResourcePath & "HelpText/Anisotropic_Filtering.jpg",500,40,400,350) ;- Anisotropic Filter Level.
						ElseIf InRange2D($MousePos,295,316,495,359) Then
							DisplayHoverImage(295,316,200,43,$MainResourcePath & "HelpText/Desired_FPS.jpg",500,40,345,238) ;- FPS.
						ElseIf InRange2D($MousePos,495,48,660,71) Then
							DisplayHoverImage(495,48,165,23,$MainResourcePath & "HelpText/SpeedTree_Wind.jpg",145,40,345,300) ;- SpeedTreeWind.
						ElseIf InRange2D($MousePos,495,68,660,91) Then
							DisplayHoverImage(495,68,165,23,$MainResourcePath & "HelpText/SpeedTree_Leaves.jpg",145,40,345,300) ;- SpeedTreeLeaves.
						ElseIf InRange2D($MousePos,495,88,660,111) Then
							DisplayHoverImage(495,88,165,23,$MainResourcePath & "HelpText/SpeedTree_Fronds.jpg",145,40,345,300) ;- SpeedTreeFronds.
						ElseIf InRange2D($MousePos,495,111,615,159) Then
							DisplayHoverImage(495,111,120,48,$MainResourcePath & "HelpText/SpeedTree_LOD_Bias.jpg",145,40,345,300) ;- SpeedTreeLODBias.
						ElseIf InRange2D($MousePos,555,159,650,207) Then
							DisplayHoverImage(555,159,95,48,$MainResourcePath & "HelpText/DetailMode.gif",150,40,400,350,True) ;- DetailMode.
						ElseIf InRange2D($MousePos,495,208,660,231) Then
							DisplayHoverImage(495,208,165,23,$MainResourcePath & "HelpText/Vertical_Synchronisation.jpg",145,40,345,300) ;- Use Vertical Synchronisation.
						ElseIf InRange2D($MousePos,495,228,660,251) Then
							DisplayHoverImage(495,228,165,23,$MainResourcePath & "HelpText/Ragdoll_Physics.gif",95,40,400,286,True) ;- Use Ragdoll Physics.
						ElseIf InRange2D($MousePos,495,248,660,271) Then
							DisplayHoverImage(495,248,165,23,$MainResourcePath & "HelpText/DirectX_11.jpg",145,40,345,159) ;- Use DirectX11.
						ElseIf InRange2D($MousePos,495,268,660,291) Then
							DisplayHoverImage(495,268,165,23,$MainResourcePath & "HelpText/Bloom.jpg",95,40,400,350) ;- Bloom.
						ElseIf InRange2D($MousePos,495,288,660,311) Then
							DisplayHoverImage(495,288,165,23,$MainResourcePath & "HelpText/Lensflares.jpg",145,40,345,300) ;- Lensflares.
						ElseIf InRange2D($MousePos,495,308,660,331) Then
							DisplayHoverImage(495,308,165,23,$MainResourcePath & "HelpText/Reflections.jpg",145,40,345,300) ;- Reflections.
						ElseIf InRange2D($MousePos,495,328,660,351) Then
							DisplayHoverImage(495,328,165,23,$MainResourcePath & "HelpText/Uncompressed_Textures.jpg",145,40,345,280) ;- Use Uncompressed Textures.
						ElseIf InRange2D($MousePos,660,48,845,71) Then
							DisplayHoverImage(660,48,192,23,$MainResourcePath & "HelpText/Light_Shafts.jpg",310,40,345,300) ;- Light Shafts.
						ElseIf InRange2D($MousePos,660,68,845,91) Then
							DisplayHoverImage(660,68,192,23,$MainResourcePath & "HelpText/Fog_Volumes.jpg",310,40,345,300) ;- Fog Volumes.
						ElseIf InRange2D($MousePos,660,88,845,111) Then
							DisplayHoverImage(660,88,192,23,$MainResourcePath & "HelpText/Distortion.jpg",310,40,345,162) ;- Distortion.
						ElseIf InRange2D($MousePos,660,108,845,131) Then
							DisplayHoverImage(660,108,192,23,$MainResourcePath & "HelpText/Filtered_Distortion.jpg",310,40,345,179) ;- Filtered Distortion.
						ElseIf InRange2D($MousePos,660,128,845,151) Then
							DisplayHoverImage(660,128,192,23,$MainResourcePath & "HelpText/Drop_Shadows.jpg",310,40,345,242) ;- Drop Shadows.
						ElseIf InRange2D($MousePos,660,148,845,171) Then
							DisplayHoverImage(660,148,192,23,$MainResourcePath & "HelpText/Dominant_Shadows.jpg",310,40,345,242) ;- Whole Scene Dominant Shadows.
						ElseIf InRange2D($MousePos,660,168,845,191) Then
							DisplayHoverImage(660,168,192,23,$MainResourcePath & "HelpText/Conservative_Shadow_Bounds.jpg",310,40,345,127) ;- Conservative Shadow Bounds.
						ElseIf InRange2D($MousePos,660,188,845,211) Then
							DisplayHoverImage(660,188,192,23,$MainResourcePath & "HelpText/Light_Environment_Shadows.jpg",310,40,345,223) ;- Light Environment Shadows.
						ElseIf InRange2D($MousePos,660,208,845,231) Then
							DisplayHoverImage(660,208,192,23,$MainResourcePath & "HelpText/Static_Decals.jpg",310,40,345,300) ;- Static Decals.
						ElseIf InRange2D($MousePos,660,228,845,251) Then
							DisplayHoverImage(660,228,192,23,$MainResourcePath & "HelpText/Dynamic_Decals.jpg",310,40,345,300) ;- Dynamic Decals.
						ElseIf InRange2D($MousePos,660,248,845,271) Then
							DisplayHoverImage(660,248,192,23,$MainResourcePath & "HelpText/Unbatched_Decals.jpg",310,40,345,300) ;- Unbatched Decals.
						ElseIf InRange2D($MousePos,660,268,845,291) Then
							DisplayHoverImage(660,268,192,23,$MainResourcePath & "HelpText/Dynamic_Lights.jpg",310,40,345,300) ;- Dynamic Lights.
						ElseIf InRange2D($MousePos,660,288,845,311) Then
							DisplayHoverImage(660,288,192,23,$MainResourcePath & "HelpText/Composite_Dynamic_Lights.jpg",310,40,345,300) ;- Composite Dynamic Lights.
						ElseIf InRange2D($MousePos,660,308,845,331) Then
							DisplayHoverImage(660,308,192,23,$MainResourcePath & "HelpText/SH_Secondary_Lighting.jpg",310,40,345,223) ;- SH Secondary Lighting.
						ElseIf InRange2D($MousePos,660,328,845,351) Then
							DisplayHoverImage(660,328,192,23,$MainResourcePath & "HelpText/Dynamic_Shadows.jpg",255,40,400,350) ;- Dynamic Shadows.
						EndIf
					EndIf
				EndIf

				If $DisplayHoverBG = 0 and $HoverBGDrawn Then ;- Optimizations.
					GUICtrlSetPos($MainGUIHomeHelpBackground,-$MinWidth,-$MinHeight,1,1)
					$HoverBGDrawn = False
				ElseIf $DisplayHoverImage = 0 and $HoverImageDrawn Then ;- Optimizations.
					WinMove($HoverInfoGUI,$sEmpty,-$ScrW*2,-$ScrH*2,0,0)
					$HoverImageDrawn = False
				EndIf

				If $DisplayHoverImage = -1 and $HoverTipAlpha < 255 Then ;- Come into view.
					$HoverTipAlpha = $HoverTipAlpha + 8.5
				ElseIf $DisplayHoverImage = -2 and $HoverTipAlpha > 0 Then ;- Move out of view.
					$HoverTipAlpha = $HoverTipAlpha - 8.5
				EndIf

				If $HoverTipAlpha >= 0 and $HoverTipAlpha <= 255 Then ;- Transparent fade.
					WinSetTrans($HoverInfoGUI,$sEmpty,$HoverTipAlpha)
				EndIf
			EndIf

		;------------------------------------------------------------------------------

		;- Hover Effects
		;------------------------------------------------------------------------------

			Switch $CursorInfo[4]
				Case $MainGUIButtonClose
					If $MainGUIButtonCloseBool = False Then
						_FixMenuSwitch()

						LoadImageResource($MainGUIButtonClose,$MainResourcePath & "CloseActivate.jpg","CloseActivate")
						$MainGUIButtonCloseBool = True
					EndIf
				Case $MainGUIButtonMaximize
					If $MainGUIButtonMaximizeBool = False Then
						_FixMenuSwitch()

						If $MainGUIMaximizedState Then
							LoadImageResource($MainGUIButtonMaximize,$MainResourcePath & "Maximize2Activate.jpg","Maximize2Activate")
						Else
							LoadImageResource($MainGUIButtonMaximize,$MainResourcePath & "Maximize1Activate.jpg","Maximize1Activate")
						EndIf

						$MainGUIButtonMaximizeBool = True
					EndIf
				Case $MainGUIButtonMinimize
					If $MainGUIButtonMinimizeBool = False Then
						_FixMenuSwitch()

						LoadImageResource($MainGUIButtonMinimize,$MainResourcePath & "MinimizeActivate.jpg","MinimizeActivate")
						$MainGUIButtonMinimizeBool = True
					EndIf
				Case $MainGUIButtonDiscord
					If $MainGUIButtonDiscordBool = False Then
						_FixMenuSwitch()

						LoadImageResource($MainGUIButtonDiscord,$MainResourcePath & "DiscordIconActive.jpg","DiscordIconActive")
						$MainGUIButtonDiscordBool = True
					EndIf
				Case $HomeIconHover, $HomeIcon
					If $HomeIconHoverHideBool = False Then
						_FixMenuSwitch()
						MenuHoverState("Home",36,116,35)

						LoadImageResource($HomeIconHover,$MainResourcePath & "HoverMenuBG.jpg","HoverMenuBG")
						LoadImageResource($HomeIcon,$MainResourcePath & "HomeIconActive.jpg","HomeIconActive")

						$HomeIconHoverHideBool = True
					EndIf
				Case $FixesIconHover, $FixesIcon
					If $FixesIconHoverHideBool = False Then
						_FixMenuSwitch()
						MenuHoverState("Fixes",76,98,75)

						LoadImageResource($FixesIconHover,$MainResourcePath & "HoverMenuBG.jpg","HoverMenuBG")
						LoadImageResource($FixesIcon,$MainResourcePath & "FixesIconActive.jpg","FixesIconActive")

						$FixesIconHoverHideBool = True
					EndIf
				Case $RCIconHover, $RCIcon
					If $RCIconHoverHideBool = False Then
						_FixMenuSwitch()
						MenuHoverState("Restore Configuration",116,383,115)

						LoadImageResource($RCIconHover,$MainResourcePath & "HoverMenuBG.jpg","HoverMenuBG")
						LoadImageResource($RCIcon,$MainResourcePath & "RestoreConfigsIconActive.jpg","RestoreConfigsIconActive")

						$RCIconHoverHideBool = True
					EndIf
				Case $DonateIconHover, $DonateIcon
					If $DonateIconHoverHideBool = False Then
						_FixMenuSwitch()
						MenuHoverState("Donate",158,137,157)

						LoadImageResource($DonateIconHover,$MainResourcePath & "HoverMenuBG.jpg","HoverMenuBG")
						LoadImageResource($DonateIcon,$MainResourcePath & "DonateIconActive.jpg","DonateIconActive")

						$DonateIconHoverHideBool = True
					EndIf
				Case $ChangelogIconHover, $ChangelogIcon
					If $ChangelogIconHoverHideBool = False Then
						_FixMenuSwitch()
						MenuHoverState("Changelog",198,193,197)

						LoadImageResource($ChangelogIconHover,$MainResourcePath & "HoverMenuBG.jpg","HoverMenuBG")
						LoadImageResource($ChangelogIcon,$MainResourcePath & "ChangelogIconActive.jpg","ChangelogIconActive")

						$ChangelogIconHoverHideBool = True
					EndIf
				Case $CopyrightIconHover, $CopyrightIcon
					If $CopyrightIconHoverHideBool = False Then
						_FixMenuSwitch()
						MenuHoverState("Copyright",238,181,237)

						LoadImageResource($CopyrightIconHover,$MainResourcePath & "HoverMenuBG.jpg","HoverMenuBG")
						LoadImageResource($CopyrightIcon,$MainResourcePath & "CopyrightIconActive.jpg","CopyrightIconActive")

						$CopyrightIconHoverHideBool = True
					EndIf
				Case $DebugIconHover, $DebugIcon
					If $DebugIconHoverHideBool = False Then
						_FixMenuSwitch()
						MenuHoverState("Debug",280,124,279)

						LoadImageResource($DebugIconHover,$MainResourcePath & "HoverMenuBG.jpg","HoverMenuBG")
						LoadImageResource($DebugIcon,$MainResourcePath & "DebugIconActive.jpg","DebugIconActive")

						$DebugIconHoverHideBool = True
					EndIf
				Case $MainGUIChangelogButtonViewOnline, $MainGUIChangelogButtonViewOnlineBG
					If $ViewOnlineChangesBtnHoverBool = False Then
						_FixMenuSwitch()
						MenuHoverState("View on GitHub",365,274,365)

						LoadImageResource($MainGUIChangelogButtonViewOnlineBG,$MainResourcePath & "HoverMenuBG.jpg","HoverMenuBG")
						LoadImageResource($MainGUIChangelogButtonViewOnline,$MainResourcePath & "ChangelogIconActive.jpg","ChangelogIconActive")
						$ViewOnlineChangesBtnHoverBool = True
					EndIf
				Case $MainGUICopyrightLabelWebsite
					If $WebsiteOpenHoverBool = False Then
						GUICtrlSetColor($MainGUICopyrightLabelWebsite,$cURLHoverColor)
						GUICtrlSetFont($MainGUICopyrightLabelWebsite,11,500,4,$MenuFontName)
						$WebsiteOpenHoverBool = True
					EndIf
				Case $MainGUICopyrightLabelLicenseLink
					If $LicenseLabelHoverBool = False Then
						GUICtrlSetColor($MainGUICopyrightLabelLicenseLink,$cURLHoverColor)
						GUICtrlSetFont($MainGUICopyrightLabelLicenseLink,15,500,4,$MainFontName)
						$LicenseLabelHoverBool = True
					EndIf
				Case $MainGUICopyrightLabelSourceLink
					If $SourceLabelHoverBool = False Then
						GUICtrlSetColor($MainGUICopyrightLabelSourceLink,$cURLHoverColor)
						GUICtrlSetFont($MainGUICopyrightLabelSourceLink,15,500,4,$MainFontName)
						$SourceLabelHoverBool = True
					EndIf
				Case $MainGUICopyrightLabelAutoitLicenseLink
					If $AutoItLicenseLabelHoverBool = False Then
						GUICtrlSetColor($MainGUICopyrightLabelAutoitLicenseLink,$cURLHoverColor)
						GUICtrlSetFont($MainGUICopyrightLabelAutoitLicenseLink,15,500,4,$MainFontName)
						$AutoItLicenseLabelHoverBool = True
					EndIf
				Case $MainGUICopyrightLabelPrivacyPolicy
					If $PrivacyPolicyLabelHoverBool = False Then
						GUICtrlSetColor($MainGUICopyrightLabelPrivacyPolicy,$cURLHoverColor)
						GUICtrlSetFont($MainGUICopyrightLabelPrivacyPolicy,11,500,4,$MenuFontName)
						$PrivacyPolicyLabelHoverBool = True
					EndIf
				Case $MainGUICopyrightLabelGDPR
					If $GDPRLabelHoverBool = False Then
						GUICtrlSetColor($MainGUICopyrightLabelGDPR,$cURLHoverColor)
						GUICtrlSetFont($MainGUICopyrightLabelGDPR,11,500,4,$MenuFontName)
						$GDPRLabelHoverBool = True
					EndIf
				Case $MainGUICopyrightLabelWebsiteMetrics
					If $WebsiteMetricsLabelHoverBool = False Then
						GUICtrlSetColor($MainGUICopyrightLabelWebsiteMetrics,$cURLHoverColor)
						GUICtrlSetFont($MainGUICopyrightLabelWebsiteMetrics,11,500,4,$MenuFontName)
						$WebsiteMetricsLabelHoverBool = True
					EndIf
				Case $MainGUIDebugLabelReportABug
					If $MainGUIDebugLabelHoverBool = False Then
						GUICtrlSetColor($MainGUIDebugLabelReportABug,$cURLHoverColor)
						GUICtrlSetFont($MainGUIDebugLabelReportABug,15,500,4,$MainFontName)
						$MainGUIDebugLabelHoverBool = True
					EndIf
				Case $MainGUIDebugLabelCreateDebugInfo
					If $MainGUIDebugDumpInfoHoverBool = False Then
						GUICtrlSetColor($MainGUIDebugLabelCreateDebugInfo,$cURLHoverColor)
						GUICtrlSetFont($MainGUIDebugLabelCreateDebugInfo,15,500,4,$MainFontName)
						$MainGUIDebugDumpInfoHoverBool = True
					EndIf
				Case $MainGUIHomePicBtnSteam
					If $SteamBtnHoverHideBool = False and $NotificationGUI == NULL Then
						_FixMenuSwitch()

						LoadImageResource($MainGUIHomePicBtnSteam,$MainResourcePath & "SteamBtnActive.jpg","SteamBtnActive")
						$SteamBtnHoverHideBool = True
					EndIf
				Case $MainGUIHomePicBtnEGS
					If $EGSBtnHoverHideBool = False and $NotificationGUI == NULL Then
						_FixMenuSwitch()

						LoadImageResource($MainGUIHomePicBtnEGS,$MainResourcePath & "EGSBtnActive.jpg","EGSBtnActive")
						$EGSBtnHoverHideBool = True
					EndIf
				Case $MainGUIHomePicBtnLegacy
					If $LegacyBtnHoverHideBool = False and $NotificationGUI == NULL Then
						_FixMenuSwitch()

						LoadImageResource($MainGUIHomePicBtnLegacy,$MainResourcePath & "LegacyBtnActive.jpg","LegacyBtnActive")
						$LegacyBtnHoverHideBool = True
					EndIf
				Case Else
					_FixMenuSwitch()

			EndSwitch

		;------------------------------------------------------------------------------

		Sleep(10)
	Else
		If $MenuPopupState Then _FixMenuSwitch()
		$JustTabbedBackIn = 0 ;- Used in the help tips logic.

		Sleep(100)
	EndIf
WEnd


;- They are defined at the very bottom of the file, as the hives are so big that it causes the AutoIt debugger to report incorrect lines when encountering an error or crash!

;- Prevent Au3Stripper from optimizing our used variables into the abyss.
;- Not sure which part of this breaks the Au3Stripper.
#Au3Stripper_Off

#Region ;- Reference Hives.

	Func fInitHives()

		Global Const $EngineSettingsClearHive[9][95] = [ _
			['[Engine.Engine]','bSmoothFrameRate','MaxSmoothedFrameRate','MinSmoothedFrameRate'], _
			['[Engine.GameEngine]','bSmoothFrameRate','MaxSmoothedFrameRate','MinSmoothedFrameRate'], _
			['[Engine.Client]','MinDesiredFrameRate'], _
			['[XAudio2.XAudio2Device]','MaxChannels'], _
			['[ALAudio.ALAudioDevice]','MaxChannels'], _
			['[CoreAudio.CoreAudioDevice]','MaxChannels'], _
			['[TextureStreaming]','LoadMapTimeLimit','UseDynamicStreaming'], _
			['[UnrealEd.EditorEngine]','bSmoothFrameRate','MaxSmoothedFrameRate','MinSmoothedFrameRate'] _
		]


		Global Const $SystemSettingsClearHive[21][95] = [ _
			['[SystemSettings]','AllowD3D11','AllowImageReflections','AllowImageReflections','AllowImageReflectionShadowing','bAllowDropShadows','bAllowHighQualityMaterials','bAllowLightShafts','bAllowRagdolling','bAllowWholeSceneDominantShadows','Bloom','Borderless','bUseConservativeShadowBounds','bUseLowQualMaterials','CompositeDynamicLights','DepthOfField','DetailMode','DirectionalLightmaps','Distortion','DropParticleDistortion','DynamicDecals','DynamicLights','DynamicShadows','FilteredDistortion','FogVolumes','Fullscreen','Fullscreen','FullscreenWindowed','FXAAQuality','LensFlares','LightEnvironmentShadows','MaxActiveDecals','MaxAnisotropy','MaxFilterBlurSampleCount','MotionBlur','MotionBlur','MotionBlur','MotionBlurPause','MotionBlurSkinning','ParticleLODBias','PerfScalingBias','PreferD3D11','ResX','ResY','ScreenPercentage','SHSecondaryLighting','SpeedTreeFronds','SpeedTreeLeaves','SpeedTreeLODBias','SpeedTreeWind','StaticDecals','TargetFrameRate','TEXTUREGROUP_Bokeh','TEXTUREGROUP_Character','TEXTUREGROUP_Character','TEXTUREGROUP_Character','TEXTUREGROUP_CharacterNormalMap','TEXTUREGROUP_CharacterSpecular','TEXTUREGROUP_Effects','TEXTUREGROUP_Effects','TEXTUREGROUP_EffectsNotFiltered','TEXTUREGROUP_ImageBasedReflection','TEXTUREGROUP_Lightmap','TEXTUREGROUP_NPC','TEXTUREGROUP_NPC','TEXTUREGROUP_NPC','TEXTUREGROUP_NPCNormalMap','TEXTUREGROUP_NPCSpecular','TEXTUREGROUP_Shadowmap','TEXTUREGROUP_Skybox','TEXTUREGROUP_Terrain_Heightmap','TEXTUREGROUP_Terrain_Weightmap','TEXTUREGROUP_Vehicle','TEXTUREGROUP_Vehicle','TEXTUREGROUP_Vehicle','TEXTUREGROUP_VehicleNormalMap','TEXTUREGROUP_VehicleSpecular','TEXTUREGROUP_Weapon','TEXTUREGROUP_Weapon','TEXTUREGROUP_Weapon','TEXTUREGROUP_WeaponNormalMap','TEXTUREGROUP_WeaponSpecular','TEXTUREGROUP_World','TEXTUREGROUP_World','TEXTUREGROUP_World','TEXTUREGROUP_World','TEXTUREGROUP_WorldDetail','TEXTUREGROUP_WorldNormalMap','TEXTUREGROUP_WorldSpecular','UnbatchedDecals','UpscaleScreenPercentage','UseD3D11Beta','UseDX11','UseVsync','VsyncPresentInterval'], _
			['[SystemSettingsBucket1]','AllowImageReflections','bAllowDropShadows','bAllowHighQualityMaterials','bAllowLightShafts','bAllowRagdolling','bAllowWholeSceneDominantShadows','Bloom','bUseConservativeShadowBounds','bUseLowQualMaterials','CompositeDynamicLights','DepthOfField','DetailMode','DirectionalLightmaps','Distortion','DropParticleDistortion','DynamicDecals','DynamicLights','DynamicShadows','FXAAQuality','LensFlares','LightEnvironmentShadows','MaxAnisotropy','MotionBlur','ParticleLODBias','PerfScalingBias','ScreenPercentage','SHSecondaryLighting','SpeedTreeLODBias','SpeedTreeWind','StaticDecals','UnbatchedDecals'], _
			['[SystemSettingsBucket2]','AllowImageReflections','bAllowDropShadows','bAllowHighQualityMaterials','bAllowLightShafts','bAllowRagdolling','bAllowWholeSceneDominantShadows','Bloom','bUseConservativeShadowBounds','bUseLowQualMaterials','CompositeDynamicLights','DepthOfField','DetailMode','DirectionalLightmaps','Distortion','DropParticleDistortion','DynamicDecals','DynamicLights','DynamicShadows','FXAAQuality','LensFlares','LightEnvironmentShadows','MaxAnisotropy','MotionBlur','ParticleLODBias','PerfScalingBias','ScreenPercentage','SHSecondaryLighting','SpeedTreeLODBias','SpeedTreeWind','StaticDecals','UnbatchedDecals'], _
			['[SystemSettingsBucket3]','AllowImageReflections','bAllowDropShadows','bAllowHighQualityMaterials','bAllowLightShafts','bAllowRagdolling','bAllowWholeSceneDominantShadows','Bloom','bUseConservativeShadowBounds','bUseLowQualMaterials','CompositeDynamicLights','DepthOfField','DetailMode','DirectionalLightmaps','Distortion','DropParticleDistortion','DynamicDecals','DynamicLights','DynamicShadows','FXAAQuality','LensFlares','LightEnvironmentShadows','MaxAnisotropy','MotionBlur','ParticleLODBias','PerfScalingBias','ScreenPercentage','SHSecondaryLighting','SpeedTreeLODBias','SpeedTreeWind','StaticDecals','UnbatchedDecals'], _
			['[SystemSettingsBucket4]','AllowImageReflections','bAllowDropShadows','bAllowHighQualityMaterials','bAllowLightShafts','bAllowRagdolling','bAllowWholeSceneDominantShadows','Bloom','bUseConservativeShadowBounds','bUseLowQualMaterials','CompositeDynamicLights','DepthOfField','DetailMode','DirectionalLightmaps','Distortion','DropParticleDistortion','DynamicDecals','DynamicLights','DynamicShadows','FXAAQuality','LensFlares','LightEnvironmentShadows','MaxAnisotropy','MotionBlur','ParticleLODBias','PerfScalingBias','ScreenPercentage','SHSecondaryLighting','SpeedTreeLODBias','SpeedTreeWind','StaticDecals','UnbatchedDecals'], _
			['[SystemSettingsBucket5]','AllowImageReflections','bAllowDropShadows','bAllowHighQualityMaterials','bAllowLightShafts','bAllowRagdolling','bAllowWholeSceneDominantShadows','Bloom','bUseConservativeShadowBounds','bUseLowQualMaterials','CompositeDynamicLights','DepthOfField','DetailMode','DirectionalLightmaps','Distortion','DropParticleDistortion','DynamicDecals','DynamicLights','DynamicShadows','FXAAQuality','LensFlares','LightEnvironmentShadows','MaxAnisotropy','MotionBlur','ParticleLODBias','PerfScalingBias','ScreenPercentage','SHSecondaryLighting','SpeedTreeLODBias','SpeedTreeWind','StaticDecals','UnbatchedDecals'], _
			['[SystemSettingsScreenshot]','CompositeDynamicLights','MaxAnisotropy'], _
			['[SystemSettingsSplitScreen2]','bAllowLightShafts','bAllowWholeSceneDominantShadows','DetailMode'], _
			['[SystemSettingsMobile]','bAllowLightShafts','Bloom','DepthOfField','DirectionalLightmaps','Distortion','DropParticleDistortion','DynamicDecals','DynamicLights','DynamicShadows','FilteredDistortion','Fullscreen','MaxAnisotropy','MaxFilterBlurSampleCount','MotionBlur','MotionBlur','MotionBlurPause','SHSecondaryLighting','StaticDecals','UnbatchedDecals'], _
			['[SystemSettingsMobilePreviewer]','Fullscreen'], _
			['[SystemSettingsFlash]','bAllowLightShafts','Bloom','DepthOfField','DirectionalLightmaps','Distortion','DynamicShadows','FilteredDistortion','MotionBlur','MotionBlur','MotionBlurPause'], _
			['[SystemSettingsIPhone3GS]','DetailMode','LensFlares'], _
			['[SystemSettingsIPhone4]','LensFlares'], _
			['[SystemSettingsIPhone4S]','bAllowLightShafts','DynamicShadows'], _
			['[SystemSettingsIPhone5]','bAllowLightShafts','DynamicShadows'], _
			['[SystemSettingsIPodTouch4]','LensFlares'], _
			['[SystemSettingsIPodTouch5]','bAllowLightShafts','DynamicShadows'], _
			['[SystemSettingsIPad2]','bAllowLightShafts','DynamicShadows'], _
			['[SystemSettingsIPad3]','bAllowLightShafts','DynamicShadows'], _
			['[SystemSettingsIPad4]','bAllowLightShafts','DynamicShadows'], _
			['[SystemSettingsIPadMini]','bAllowLightShafts','DynamicShadows'] _
		]


		Global Const $GameSettingsClearHive[1][95] = [ _
			['[TgGame.TgClientSettings]','bJumpEnabled'] _
		]


		Global Const $TextureQualityHive[9][8][4] = _
		[	_
			[ _	;World
				[ _ ;Best
					"TEXTUREGROUP_World=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=1,LODBias=2048,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldNormalMap=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=2048,LODBias=1,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldSpecular=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=2048,LODBias=2,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldDetail=(MinLODSize=512,MaxLODSize=1024,MaxLODSizeTexturePack=2048,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)"], _
					[ _ ;High
					"TEXTUREGROUP_World=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=1024,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldNormalMap=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=1024,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldSpecular=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=1024,LODBias=2,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldDetail=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=1024,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)"], _
					[ _ ;Medium
					"TEXTUREGROUP_World=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldNormalMap=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldSpecular=(MinLODSize=256,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldDetail=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)"], _
					[ _ ;Low
					"TEXTUREGROUP_World=(MinLODSize=64,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldNormalMap=(MinLODSize=128,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldSpecular=(MinLODSize=64,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldDetail=(MinLODSize=256,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)"], _
					[ _ ;Very Low
					"TEXTUREGROUP_World=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldNormalMap=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldSpecular=(MinLODSize=32,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldDetail=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)"], _
					[ _ ;Minimum
					"TEXTUREGROUP_World=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldNormalMap=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldSpecular=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldDetail=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)"], _
					[ _ ;Potato
					"TEXTUREGROUP_World=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldNormalMap=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldSpecular=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldDetail=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)"], _
					[ _ ;Lowest Possible
					"TEXTUREGROUP_World=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldNormalMap=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldSpecular=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WorldDetail=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)"] _
			],[ _ ;Character
				[ _ ;Best
					"TEXTUREGROUP_Character=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=2048,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_CharacterNormalMap=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=2048,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_CharacterSpecular=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=1024,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;High
					"TEXTUREGROUP_Character=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=1024,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_CharacterNormalMap=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=1024,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_CharacterSpecular=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Medium
					"TEXTUREGROUP_Character=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_CharacterNormalMap=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_CharacterSpecular=(MinLODSize=256,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Low
					"TEXTUREGROUP_Character=(MinLODSize=256,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_CharacterNormalMap=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_CharacterSpecular=(MinLODSize=256,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Very Low
					"TEXTUREGROUP_Character=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_CharacterNormalMap=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_CharacterSpecular=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Minimum
					"TEXTUREGROUP_Character=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_CharacterNormalMap=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_CharacterSpecular=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Potato
					"TEXTUREGROUP_Character=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_CharacterNormalMap=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_CharacterSpecular=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Lowest Possible
					"TEXTUREGROUP_Character=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_CharacterNormalMap=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_CharacterSpecular=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""] _
			],[ _ ;Terrain
				[ _ ;Best
					"TEXTUREGROUP_Terrain_Heightmap=(MinLODSize=1,MaxLODSize=4096,MaxLODSizeTexturePack=4096,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_Terrain_Weightmap=(MinLODSize=1,MaxLODSize=4096,MaxLODSizeTexturePack=4096,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					""], _
					[ _ ;High
					"TEXTUREGROUP_Terrain_Heightmap=(MinLODSize=1,MaxLODSize=4096,MaxLODSizeTexturePack=4096,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_Terrain_Weightmap=(MinLODSize=1,MaxLODSize=4096,MaxLODSizeTexturePack=4096,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					""], _
					[ _ ;Medium
					"TEXTUREGROUP_Terrain_Heightmap=(MinLODSize=1,MaxLODSize=4096,MaxLODSizeTexturePack=4096,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_Terrain_Weightmap=(MinLODSize=1,MaxLODSize=4096,MaxLODSizeTexturePack=4096,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					""], _
					[ _ ;Low
					"TEXTUREGROUP_Terrain_Heightmap=(MinLODSize=1,MaxLODSize=4096,MaxLODSizeTexturePack=4096,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_Terrain_Weightmap=(MinLODSize=1,MaxLODSize=4096,MaxLODSizeTexturePack=4096,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					""], _
					[ _ ;Very Low
					"TEXTUREGROUP_Terrain_Heightmap=(MinLODSize=1,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_Terrain_Weightmap=(MinLODSize=1,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					""], _
					[ _ ;Minimum
					"TEXTUREGROUP_Terrain_Heightmap=(MinLODSize=1,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_Terrain_Weightmap=(MinLODSize=1,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					""], _
					[ _ ;Potato
					"TEXTUREGROUP_Terrain_Heightmap=(MinLODSize=1,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_Terrain_Weightmap=(MinLODSize=1,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					""], _
					[ _ ;Lowest Possible
					"TEXTUREGROUP_Terrain_Heightmap=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_Terrain_Weightmap=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					""] _
			],[ _ ;NPC
				[ _ ;Best
					"TEXTUREGROUP_NPC=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=1024,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_NPCNormalMap=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=1024,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_NPCSpecular=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=1024,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;High
					"TEXTUREGROUP_NPC=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_NPCNormalMap=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_NPCSpecular=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Medium
					"TEXTUREGROUP_NPC=(MinLODSize=256,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_NPCNormalMap=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_NPCSpecular=(MinLODSize=256,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Low
					"TEXTUREGROUP_NPC=(MinLODSize=128,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_NPCNormalMap=(MinLODSize=128,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_NPCSpecular=(MinLODSize=128,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Very Low
					"TEXTUREGROUP_NPC=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_NPCNormalMap=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_NPCSpecular=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Minimum
					"TEXTUREGROUP_NPC=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_NPCNormalMap=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_NPCSpecular=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Potato
					"TEXTUREGROUP_NPC=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_NPCNormalMap=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_NPCSpecular=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Lowest Possible
					"TEXTUREGROUP_NPC=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_NPCNormalMap=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_NPCSpecular=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""] _
			],[ _ ;Weapon
				[ _ ;Best
					"TEXTUREGROUP_Weapon=(MinLODSize=128,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WeaponNormalMap=(MinLODSize=128,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WeaponSpecular=(MinLODSize=128,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;High
					"TEXTUREGROUP_Weapon=(MinLODSize=128,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WeaponNormalMap=(MinLODSize=128,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WeaponSpecular=(MinLODSize=128,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Medium
					"TEXTUREGROUP_Weapon=(MinLODSize=128,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WeaponNormalMap=(MinLODSize=128,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WeaponSpecular=(MinLODSize=128,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Low
					"TEXTUREGROUP_Weapon=(MinLODSize=128,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WeaponNormalMap=(MinLODSize=128,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WeaponSpecular=(MinLODSize=128,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Very Low
					"TEXTUREGROUP_Weapon=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WeaponNormalMap=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WeaponSpecular=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Minimum
					"TEXTUREGROUP_Weapon=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WeaponNormalMap=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WeaponSpecular=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Potato
					"TEXTUREGROUP_Weapon=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WeaponNormalMap=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WeaponSpecular=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Lowest Possible
					"TEXTUREGROUP_Weapon=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WeaponNormalMap=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_WeaponSpecular=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""] _
			],[ _ ;Vehicle
				[ _ ;Best
					"TEXTUREGROUP_Vehicle=(MinLODSize=256,MaxLODSize=2048,MaxLODSizeTexturePack=2048,LODBias=1,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_VehicleNormalMap=(MinLODSize=512,MaxLODSize=2048,MaxLODSizeTexturePack=2048,LODBias=1,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_VehicleSpecular=(MinLODSize=256,MaxLODSize=2048,MaxLODSizeTexturePack=2048,LODBias=1,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;High
					"TEXTUREGROUP_Vehicle=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=1024,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_VehicleNormalMap=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=1024,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_VehicleSpecular=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=1024,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Medium
					"TEXTUREGROUP_Vehicle=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=1024,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_VehicleNormalMap=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=1024,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_VehicleSpecular=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Low
					"TEXTUREGROUP_Vehicle=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_VehicleNormalMap=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_VehicleSpecular=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Very Low
					"TEXTUREGROUP_Vehicle=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_VehicleNormalMap=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_VehicleSpecular=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Minimum
					"TEXTUREGROUP_Vehicle=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_VehicleNormalMap=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_VehicleSpecular=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Potato
					"TEXTUREGROUP_Vehicle=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_VehicleNormalMap=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_VehicleSpecular=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""], _
					[ _ ;Lowest Possible
					"TEXTUREGROUP_Vehicle=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_VehicleNormalMap=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_VehicleSpecular=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					""] _
			],[ _ ;Shadows
				[ _ ;Best
					"TEXTUREGROUP_Lightmap=(MinLODSize=512,MaxLODSize=2048,MaxLODSizeTexturePack=2048,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_Shadowmap=(MinLODSize=512,MaxLODSize=2048,MaxLODSizeTexturePack=2048,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,NumStreamedMips=3,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_ImageBasedReflection=(MinLODSize=256,MaxLODSize=4096,MaxLODSizeTexturePack=4096,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_Blur5)", _
					"TEXTUREGROUP_Bokeh=(MinLODSize=1,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Linear,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)"], _
					[ _ ;High
					"TEXTUREGROUP_Lightmap=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=1024,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_Shadowmap=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=1024,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,NumStreamedMips=3,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_ImageBasedReflection=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=1024,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_Blur5)", _
					"TEXTUREGROUP_Bokeh=(MinLODSize=1,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Linear,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)"], _
					[ _ ;Medium
					"TEXTUREGROUP_Lightmap=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_Shadowmap=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,NumStreamedMips=3,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_ImageBasedReflection=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_Blur5)", _
					"TEXTUREGROUP_Bokeh=(MinLODSize=1,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Linear,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)"], _
					[ _ ;Low
					"TEXTUREGROUP_Lightmap=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_Shadowmap=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,NumStreamedMips=3,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_ImageBasedReflection=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Linear,MipFilter=Linear,MipGenSettings=TMGS_Blur5)", _
					"TEXTUREGROUP_Bokeh=(MinLODSize=1,MaxLODSize=256,MaxLODSizeTexturePack=256,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Linear,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)"], _
					[ _ ;Very Low
					"TEXTUREGROUP_Lightmap=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_Shadowmap=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,NumStreamedMips=3,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_ImageBasedReflection=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Linear,MipFilter=Linear,MipGenSettings=TMGS_Blur5)", _
					"TEXTUREGROUP_Bokeh=(MinLODSize=1,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Linear,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)"], _
					[ _ ;Minimum
					"TEXTUREGROUP_Lightmap=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_Shadowmap=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,NumStreamedMips=3,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_ImageBasedReflection=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Linear,MipFilter=Linear,MipGenSettings=TMGS_Blur5)", _
					"TEXTUREGROUP_Bokeh=(MinLODSize=1,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Linear,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)"], _
					[ _ ;Potato
					"TEXTUREGROUP_Lightmap=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_Shadowmap=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,NumStreamedMips=3,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_ImageBasedReflection=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Linear,MipFilter=Linear,MipGenSettings=TMGS_Blur5)", _
					"TEXTUREGROUP_Bokeh=(MinLODSize=1,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Linear,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)"], _
					[ _ ;Lowest Possible
					"TEXTUREGROUP_Lightmap=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_Shadowmap=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,NumStreamedMips=3,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_ImageBasedReflection=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Linear,MipFilter=Linear,MipGenSettings=TMGS_Blur5)", _
					"TEXTUREGROUP_Bokeh=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Linear,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)"] _
			],[ _ ;Skybox
				[ _ ;Best
					"TEXTUREGROUP_Skybox=(MinLODSize=2048,MaxLODSize=2048,MaxLODSizeTexturePack=8192,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					"", _
					""], _
					[ _ ;High
					"TEXTUREGROUP_Skybox=(MinLODSize=1024,MaxLODSize=2048,MaxLODSizeTexturePack=2048,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					"", _
					""], _
					[ _ ;Medium
					"TEXTUREGROUP_Skybox=(MinLODSize=1024,MaxLODSize=1024,MaxLODSizeTexturePack=1024,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					"", _
					""], _
					[ _ ;Low
					"TEXTUREGROUP_Skybox=(MinLODSize=512,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					"", _
					""], _
					[ _ ;Very Low
					"TEXTUREGROUP_Skybox=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					"", _
					""], _
					[ _ ;Minimum
					"TEXTUREGROUP_Skybox=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					"", _
					""], _
					[ _ ;Potato
					"TEXTUREGROUP_Skybox=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					"", _
					""], _
					[ _ ;Lowest Possible
					"TEXTUREGROUP_Skybox=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=3,LODBiasTexturePack=3,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					"", _
					""] _
			],[ _ ;Effects
				[ _ ;Best
					"TEXTUREGROUP_Effects=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=2048,LODBias=1,LODBiasTexturePack=0,MinMagFilter=Linear,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_EffectsNotFiltered=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=1024,LODBias=0,LODBiasTexturePack=0,MinMagFilter=Aniso,MipFilter=Linear,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					""], _
					[ _ ;High
					"TEXTUREGROUP_Effects=(MinLODSize=256,MaxLODSize=1024,MaxLODSizeTexturePack=1024,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_EffectsNotFiltered=(MinLODSize=256,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					""], _
					[ _ ;Medium
					"TEXTUREGROUP_Effects=(MinLODSize=128,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_EffectsNotFiltered=(MinLODSize=128,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=1,LODBiasTexturePack=1,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					""], _
					[ _ ;Low
					"TEXTUREGROUP_Effects=(MinLODSize=128,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_EffectsNotFiltered=(MinLODSize=128,MaxLODSize=512,MaxLODSizeTexturePack=512,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					""], _
					[ _ ;Very Low
					"TEXTUREGROUP_Effects=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_EffectsNotFiltered=(MinLODSize=64,MaxLODSize=64,MaxLODSizeTexturePack=64,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					""], _
					[ _ ;Minimum
					"TEXTUREGROUP_Effects=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_EffectsNotFiltered=(MinLODSize=32,MaxLODSize=32,MaxLODSizeTexturePack=32,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					""], _
					[ _ ;Potato
					"TEXTUREGROUP_Effects=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_EffectsNotFiltered=(MinLODSize=16,MaxLODSize=16,MaxLODSizeTexturePack=16,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					""], _
					[ _ ;Lowest Possible
					"TEXTUREGROUP_Effects=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Linear,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"TEXTUREGROUP_EffectsNotFiltered=(MinLODSize=1,MaxLODSize=1,MaxLODSizeTexturePack=1,LODBias=2,LODBiasTexturePack=2,MinMagFilter=Aniso,MipFilter=Point,MipGenSettings=TMGS_SimpleAverage)", _
					"", _
					""] _
			] _
		]

	EndFunc

#EndRegion